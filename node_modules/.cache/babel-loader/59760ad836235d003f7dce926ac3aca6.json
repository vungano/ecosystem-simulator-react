{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\PRO\\\\Documents\\\\React\\\\ecosystem-simulator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\PRO\\\\Documents\\\\React\\\\ecosystem-simulator\\\\src\\\\components\\\\entities\\\\Foxes.jsx\";\nimport React from 'react';\nimport useInterval from '../../hooks/useInterval';\nimport '../../styles/fox-entity.css';\nimport { setFoxes, setRabbits } from '../../redux/action';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction Foxes(props) {\n  var _this = this;\n\n  //State in redux\n  var foxObject = useSelector(function (state) {\n    return state.foxes;\n  });\n  var rabbitObjects = useSelector(function (state) {\n    return state.rabbits;\n  });\n  var dispatch = useDispatch(); //Function to move the rabbits\n\n  function moveFoxes() {\n    //Move in any random direction\n    var tempState = _toConsumableArray(foxObject);\n\n    for (var i = 0; i < tempState.length; i++) {\n      var rand = Math.floor(Math.random() * 4);\n      var y = tempState[i];\n\n      switch (rand) {\n        case 0:\n          y.top + 4 < 98 ? y.top += 2 : y.top -= 2;\n          break;\n\n        case 1:\n          y.top - 4 > 0 ? y.top -= 2 : y.top = y.top += 2;\n          break;\n\n        case 2:\n          y.left + 4 < 98 ? y.left += 2 : y.left -= 2;\n          break;\n\n        case 3:\n          y.left - 4 > 0 ? y.left -= 2 : y.left += 2;\n          break;\n\n        default:\n          y.top = y.top;\n      }\n    } //Reduce energy and increase age and sex drive \n\n\n    for (var _i = 0; _i < tempState.length; _i++) {\n      tempState[_i].energy -= 1;\n      tempState[_i].sexDrive += 1;\n      tempState[_i].age += 1;\n    }\n\n    dispatch(setFoxes(tempState));\n  } //Function to check if there's been a collision between the rabbits\n\n\n  function checkCollisions() {\n    for (var i = 0; i < foxObject.length - 1; i++) {\n      for (var j = 1; j < foxObject.length; j++) {\n        if (foxObject[i].top == foxObject[j].top && foxObject[i].left == foxObject[j].left && i != j) {\n          var temp = _toConsumableArray(foxObject); //Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\n\n\n          if (foxObject[i].gender != foxObject[j].gender && foxObject[i].sexDrive > 10 && foxObject[j].sexDrive > 10) {\n            var random = Math.random() * 98;\n            var random2 = Math.random() * 98;\n            var randomGender = Math.floor(Math.random() * 2);\n            var height = Math.floor(random / 2) * 2;\n            var width = Math.floor(random2 / 2) * 2; //baby fox creation and add it to rabbits state\n\n            var babyFox = {\n              top: height,\n              left: width,\n              gender: randomGender,\n              energy: 100,\n              age: 0,\n              sexDrive: 0\n            };\n            temp.push(babyFox); //set both foxes sex drives back to zero\n\n            temp[i].sexDrive = 0;\n            temp[j].sexDrive = 0; //console.log(\"Baby born\")\n\n            dispatch(setFoxes(temp));\n          } //Check if 2 males have collided if so the weaker one must go\n          else if (foxObject[i].gender == foxObject[j].gender && foxObject[i].gender == 1) {\n            var tempState = _toConsumableArray(foxObject);\n\n            if (foxObject[i].energy < foxObject[j].energy) {\n              //console.log(\"Death by battle\")\n              tempState.splice(i, 1);\n              dispatch(setFoxes(tempState));\n            } else if (foxObject[i].energy > foxObject[j].energy) {\n              //console.log(\"Death by battle\")\n              tempState.splice(j, 1);\n              dispatch(setFoxes(tempState));\n            }\n          }\n        }\n      }\n    }\n  } //console.log(\"<!------------------!>\")\n  //console.log(foxObject[0].top ,\" vs \", foxObject[1].top )\n  //console.log(foxObject[0].left ,\" vs \", foxObject[1].left )\n  //foxObject.length>0 ? console.log(foxObject[foxObject.length-1].energy , \" vs \", foxObject[0].energy) : console.log('0')\n  //function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\n\n\n  function checkRadar() {\n    for (var i = 0; i < foxObject.length - 1; i++) {\n      for (var j = 1; j < foxObject.length; j++) {\n        if (foxObject[i].top - foxObject[j].top <= 6 && foxObject[i].top - foxObject[j].top >= -6 && foxObject[i].left - foxObject[j].left <= 6 && foxObject[i].left - foxObject[j].left >= -6) {\n          //rabbit i is male and j is female\n          if (foxObject[i].gender > foxObject[j].gender && foxObject[i].sexDrive > 10 && foxObject[j].sexDrive > 10) {\n            var tempState = _toConsumableArray(foxObject);\n\n            tempState[i].top = tempState[j].top;\n            tempState[i].left = tempState[j].left;\n            dispatch(setFoxes(tempState));\n          } //rabbit i is female and j is male\n          else if (foxObject[i].gender < foxObject[j].gender && foxObject[i].sexDrive > 10 && foxObject[j].sexDrive > 10) {\n            var _tempState = _toConsumableArray(foxObject);\n\n            _tempState[j].top = _tempState[i].top;\n            _tempState[j].left = _tempState[i].left;\n            dispatch(setFoxes(_tempState));\n          }\n        }\n      }\n    }\n  } //remove rabbits\n\n\n  function checkDeleteFoxes() {\n    for (var i = 0; i < foxObject.length; i++) {\n      if (foxObject[i].energy <= 0) {\n        //console.log(\"Death by expiry\")\n        var tempState = _toConsumableArray(foxObject);\n\n        tempState.splice(i, 1);\n        dispatch(setFoxes(tempState));\n      }\n    }\n  } //if a rabbit is in a fox's radar then it gets eaten\n\n\n  function checkFoodInRadar() {\n    for (var i = 0; i < foxObject.length; i++) {\n      for (var j = 0; j < rabbitObjects.length; j++) {\n        if (foxObject[i].left - rabbitObjects[j].left <= 4 && foxObject[i].left - rabbitObjects[j].left >= -4 && foxObject[i].top - rabbitObjects[j].top <= 4 && foxObject[i].top - rabbitObjects[j].top >= -4) {\n          var temp = _toConsumableArray(rabbitObjects);\n\n          var tempFox = _toConsumableArray(foxObject);\n\n          tempFox[i].energy = 100;\n          temp.splice(j, 1);\n          dispatch(setRabbits(temp));\n          dispatch(setFoxes(tempFox));\n        }\n      }\n    }\n  }\n\n  function updateInterval() {\n    moveFoxes();\n    checkRadar();\n    checkCollisions();\n    checkFoodInRadar();\n    checkDeleteFoxes();\n  }\n\n  useInterval(updateInterval, props.speed); //---->Mapping all rabbits available in state\n\n  var foxItem = foxObject.map(function (item, id) {\n    var foxStyle = {\n      top: \"\".concat(item.top, \"%\"),\n      left: \"\".concat(item.left, \"%\")\n    };\n    var radarStyle = {\n      top: \"\".concat(item.top - 4, \"%\"),\n      left: \"\".concat(item.left - 4, \"%\")\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fox-radar\",\n      style: radarStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fox\",\n      style: foxStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fox-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, foxItem);\n}\n\nexport default Foxes;","map":{"version":3,"names":["React","useInterval","setFoxes","setRabbits","useSelector","useDispatch","Foxes","props","foxObject","state","foxes","rabbitObjects","rabbits","dispatch","moveFoxes","tempState","i","length","rand","Math","floor","random","y","top","left","energy","sexDrive","age","checkCollisions","j","temp","gender","random2","randomGender","height","width","babyFox","push","splice","checkRadar","checkDeleteFoxes","checkFoodInRadar","tempFox","updateInterval","speed","foxItem","map","item","id","foxStyle","radarStyle"],"sources":["C:/Users/PRO/Documents/React/ecosystem-simulator/src/components/entities/Foxes.jsx"],"sourcesContent":["import React from 'react'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport '../../styles/fox-entity.css'\r\nimport { setFoxes, setRabbits} from '../../redux/action'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction Foxes(props) {\r\n  //State in redux\r\n  const foxObject = useSelector(state=> state.foxes)\r\n  const rabbitObjects = useSelector(state=> state.rabbits)\r\n  const dispatch = useDispatch()\r\n\r\n  //Function to move the rabbits\r\n  function moveFoxes(){\r\n    //Move in any random direction\r\n      let tempState = [...foxObject]\r\n      for(let i=0; i<tempState.length; i++){\r\n          const rand = Math.floor(Math.random() * 4); \r\n          let y = tempState[i]\r\n          \r\n          switch(rand){\r\n                case 0:\r\n                  (y.top+4<98) ? y.top+=2 : y.top-=2\r\n                  break;\r\n                case 1:\r\n                  (y.top-4>0)?y.top-=2 : y.top = y.top+=2\r\n                  break;\r\n                case 2:\r\n                  (y.left+4<98)? y.left+=2 : y.left-=2\r\n                  break;\r\n                case 3:\r\n                  (y.left-4>0)? y.left-=2 : y.left+=2 \r\n                  break;  \r\n                default:\r\n                  y.top = y.top       \r\n              }           \r\n            }    \r\n\r\n    //Reduce energy and increase age and sex drive \r\n      for(let i =0 ; i<tempState.length; i++){\r\n          tempState[i].energy-=1;\r\n          tempState[i].sexDrive+=1\r\n          tempState[i].age+=1\r\n        }    \r\n        dispatch(setFoxes(tempState)) \r\n    }\r\n   \r\n  //Function to check if there's been a collision between the rabbits\r\n  function checkCollisions(){\r\n    for(let i=0; i<foxObject.length-1;i++){\r\n      for(let j=1; j<foxObject.length;j++){\r\n          if(foxObject[i].top == foxObject[j].top && foxObject[i].left == foxObject[j].left &&i!=j){\r\n              let temp = [...foxObject]\r\n       \r\n              //Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\r\n              if(foxObject[i].gender != foxObject[j].gender && (foxObject[i].sexDrive>10 && foxObject[j].sexDrive>10)){\r\n                const random = Math.random()*98\r\n                const random2 = Math.random()*98\r\n                let randomGender = Math.floor(Math.random() * 2);\r\n                let height = (Math.floor(random/2)*2)\r\n                let width = (Math.floor(random2/2)*2)\r\n      \r\n                //baby fox creation and add it to rabbits state\r\n                let babyFox={\r\n                  top:height,\r\n                  left: width,\r\n                  gender: randomGender,\r\n                  energy: 100,\r\n                  age:0,\r\n                  sexDrive:0\r\n                }\r\n                temp.push(babyFox) \r\n                //set both foxes sex drives back to zero\r\n                temp[i].sexDrive = 0\r\n                temp[j].sexDrive = 0\r\n                //console.log(\"Baby born\")\r\n                dispatch(setFoxes(temp))\r\n                \r\n\r\n              }\r\n              \r\n              //Check if 2 males have collided if so the weaker one must go\r\n              else if((foxObject[i].gender == foxObject[j].gender) && (foxObject[i].gender == 1)){\r\n                  let tempState = [...foxObject]\r\n                  if(foxObject[i].energy<foxObject[j].energy){\r\n                      //console.log(\"Death by battle\")\r\n                      tempState.splice(i,1)\r\n                      dispatch(setFoxes(tempState))\r\n                      \r\n                  }\r\n                  \r\n                  else if(foxObject[i].energy>foxObject[j].energy){\r\n                    //console.log(\"Death by battle\")\r\n                    tempState.splice(j,1)\r\n                    dispatch(setFoxes(tempState))\r\n                   \r\n                  }\r\n              }              \r\n          }\r\n      }\r\n    }    \r\n  }  \r\n\r\n  //console.log(\"<!------------------!>\")\r\n  //console.log(foxObject[0].top ,\" vs \", foxObject[1].top )\r\n  //console.log(foxObject[0].left ,\" vs \", foxObject[1].left )\r\n  //foxObject.length>0 ? console.log(foxObject[foxObject.length-1].energy , \" vs \", foxObject[0].energy) : console.log('0')\r\n  \r\n\r\n  //function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\r\n  function checkRadar(){\r\n    for(let i=0; i<foxObject.length-1;i++){\r\n       for(let j=1; j<foxObject.length;j++){\r\n          if(((foxObject[i].top -foxObject[j].top)<=6 && (foxObject[i].top -foxObject[j].top)>=-6) && ((foxObject[i].left-foxObject[j].left)<=6 && (foxObject[i].left-foxObject[j].left)>=-6)){\r\n              //rabbit i is male and j is female\r\n              if((foxObject[i].gender>foxObject[j].gender) && (foxObject[i].sexDrive>10 && foxObject[j].sexDrive>10)){\r\n                let tempState = [...foxObject]\r\n                tempState[i].top = tempState[j].top\r\n                tempState[i].left = tempState[j].left                \r\n                dispatch(setFoxes(tempState))\r\n              }\r\n\r\n              //rabbit i is female and j is male\r\n              else if((foxObject[i].gender<foxObject[j].gender) && (foxObject[i].sexDrive>10 && foxObject[j].sexDrive>10)){\r\n                let tempState = [...foxObject]\r\n                tempState[j].top = tempState[i].top\r\n                tempState[j].left = tempState[i].left                \r\n                dispatch(setFoxes(tempState))\r\n              }\r\n            }\r\n        }\r\n      }\r\n  }\r\n\r\n  //remove rabbits\r\n  function checkDeleteFoxes(){\r\n    for(let i=0; i<foxObject.length;i++){\r\n      if(foxObject[i].energy<=0){\r\n        //console.log(\"Death by expiry\")\r\n        let tempState = [...foxObject]\r\n        tempState.splice(i,1)\r\n        dispatch(setFoxes(tempState))\r\n       \r\n      }\r\n    }\r\n  }\r\n\r\n  //if a rabbit is in a fox's radar then it gets eaten\r\n  function checkFoodInRadar(){\r\n    for(let i=0; i<foxObject.length; i++){\r\n      for(let j=0; j<rabbitObjects.length; j++){\r\n        if((foxObject[i].left - rabbitObjects[j].left)<=4 && (foxObject[i].left - rabbitObjects[j].left)>=-4 && (foxObject[i].top - rabbitObjects[j].top)<=4 && (foxObject[i].top - rabbitObjects[j].top)>=-4){\r\n          let temp = [...rabbitObjects]\r\n          let tempFox = [...foxObject]\r\n          tempFox[i].energy =100\r\n          temp.splice(j,1)\r\n          dispatch(setRabbits(temp))\r\n          dispatch(setFoxes(tempFox))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function updateInterval(){\r\n    moveFoxes()\r\n    checkRadar()\r\n    checkCollisions()\r\n    checkFoodInRadar()\r\n    checkDeleteFoxes()\r\n  }\r\n\r\n  useInterval(updateInterval,props.speed)\r\n\r\n  //---->Mapping all rabbits available in state\r\n   const foxItem = foxObject.map((item,id)=>{\r\n    const foxStyle = {\r\n        top: `${item.top}%`,\r\n        left: `${item.left}%`,\r\n        \r\n        \r\n    }\r\n    const radarStyle = {\r\n        top: `${item.top-4}%`,\r\n        left: `${item.left-4}%`     \r\n        \r\n    }\r\n    return(\r\n        <div key={id}>\r\n            <div className='fox-radar' style={radarStyle}></div>\r\n            <div className='fox' style={foxStyle}></div>\r\n        </div>\r\n    )\r\n   })\r\n \r\n\r\n  return (\r\n    <div className='fox-container'>\r\n        {foxItem}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Foxes"],"mappings":"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"},"metadata":{},"sourceType":"module"}