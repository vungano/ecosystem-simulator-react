{"ast":null,"code":"/*!\n * chartjs-plugin-streaming v1.9.0\n * https://nagix.github.io/chartjs-plugin-streaming\n * (c) 2017-2021 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js'), require('moment')) : typeof define === 'function' && define.amd ? define(['chart.js', 'moment'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ChartStreaming = factory(global.Chart, global.moment));\n})(this, function (Chart, moment) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var Chart__default = /*#__PURE__*/_interopDefaultLegacy(Chart);\n\n  var moment__default = /*#__PURE__*/_interopDefaultLegacy(moment);\n\n  var helpers$3 = Chart__default['default'].helpers;\n\n  var cancelAnimFrame = function () {\n    if (typeof window !== 'undefined') {\n      return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function (id) {\n        return window.clearTimeout(id);\n      };\n    }\n  }();\n\n  var StreamingHelper = {\n    resolveOption: function resolveOption(scale, key) {\n      var realtimeOpts = scale.options.realtime;\n      var streamingOpts = scale.chart.options.plugins.streaming;\n      return helpers$3.valueOrDefault(realtimeOpts[key], streamingOpts[key]);\n    },\n    startFrameRefreshTimer: function startFrameRefreshTimer(context, func) {\n      if (!context.frameRequestID) {\n        var frameRefresh = function frameRefresh() {\n          func();\n          context.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n        };\n\n        context.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n      }\n    },\n    stopFrameRefreshTimer: function stopFrameRefreshTimer(context) {\n      var frameRequestID = context.frameRequestID;\n\n      if (frameRequestID) {\n        cancelAnimFrame.call(window, frameRequestID);\n        delete context.frameRequestID;\n      }\n    }\n  };\n\n  function isValid(rawValue) {\n    if (rawValue === null || typeof rawValue === 'undefined') {\n      return false;\n    } else if (typeof rawValue === 'number') {\n      return isFinite(rawValue);\n    }\n\n    return !!rawValue;\n  }\n\n  function scaleValue(scale, value, fallback) {\n    return isValid(value) ? {\n      value: scale.getPixelForValue(value),\n      transitionable: true\n    } : {\n      value: fallback\n    };\n  }\n\n  function updateBoxAnnotation(element) {\n    var chart = element.chartInstance;\n    var options = element.options;\n    var scales = chart.scales;\n    var chartArea = chart.chartArea;\n    var xScaleID = options.xScaleID;\n    var yScaleID = options.yScaleID;\n    var xScale = scales[xScaleID];\n    var yScale = scales[yScaleID];\n    var streaming = element._streaming = {};\n    var min, max, reverse;\n\n    if (xScale) {\n      min = scaleValue(xScale, options.xMin, chartArea.left);\n      max = scaleValue(xScale, options.xMax, chartArea.right);\n      reverse = min.value > max.value;\n\n      if (min.transitionable) {\n        streaming[reverse ? 'right' : 'left'] = {\n          axisId: xScaleID\n        };\n      }\n\n      if (max.transitionable) {\n        streaming[reverse ? 'left' : 'right'] = {\n          axisId: xScaleID\n        };\n      }\n    }\n\n    if (yScale) {\n      min = scaleValue(yScale, options.yMin, chartArea.top);\n      max = scaleValue(yScale, options.yMax, chartArea.bottom);\n      reverse = min.value > max.value;\n\n      if (min.transitionable) {\n        streaming[reverse ? 'bottom' : 'top'] = {\n          axisId: yScaleID\n        };\n      }\n\n      if (max.transitionable) {\n        streaming[reverse ? 'top' : 'bottom'] = {\n          axisId: yScaleID\n        };\n      }\n    }\n  }\n\n  function updateLineAnnotation(element) {\n    var chart = element.chartInstance;\n    var options = element.options;\n    var scaleID = options.scaleID;\n    var value = options.value;\n    var scale = chart.scales[scaleID];\n    var streaming = element._streaming = {};\n\n    if (scale) {\n      var isHorizontal = scale.isHorizontal();\n      var pixel = scaleValue(scale, value);\n\n      if (pixel.transitionable) {\n        streaming[isHorizontal ? 'x1' : 'y1'] = {\n          axisId: scaleID\n        };\n        streaming[isHorizontal ? 'x2' : 'y2'] = {\n          axisId: scaleID\n        };\n        streaming[isHorizontal ? 'labelX' : 'labelY'] = {\n          axisId: scaleID\n        };\n      }\n    }\n  }\n\n  function initAnnotationPlugin() {\n    var BoxAnnotation = Chart__default['default'].Annotation.types.box;\n    var LineAnnotation = Chart__default['default'].Annotation.types.line;\n    var configureBoxAnnotation = BoxAnnotation.prototype.configure;\n    var configureLineAnnotation = LineAnnotation.prototype.configure;\n\n    BoxAnnotation.prototype.configure = function () {\n      updateBoxAnnotation(this);\n      return configureBoxAnnotation.call(this);\n    };\n\n    LineAnnotation.prototype.configure = function () {\n      updateLineAnnotation(this);\n      return configureLineAnnotation.call(this);\n    };\n  }\n\n  var AnnotationPlugin = {\n    attachChart: function attachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (!streaming.annotationPlugin) {\n        initAnnotationPlugin();\n        streaming.annotationPlugin = true;\n      }\n    },\n    getElements: function getElements(chart) {\n      var annotation = chart.annotation;\n\n      if (annotation) {\n        var elements = annotation.elements;\n        return Object.keys(elements).map(function (id) {\n          return elements[id];\n        });\n      }\n\n      return [];\n    },\n    detachChart: function detachChart(chart) {\n      delete chart.streaming.annotationPlugin;\n    }\n  };\n  var helpers$2 = Chart__default['default'].helpers; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  var zoomNS = Chart__default['default'].Zoom = Chart__default['default'].Zoom || {}; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  zoomNS.zoomFunctions = zoomNS.zoomFunctions || {};\n  zoomNS.panFunctions = zoomNS.panFunctions || {}; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  function rangeMaxLimiter(zoomPanOptions, newMax) {\n    if (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMax && !helpers$2.isNullOrUndef(zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes])) {\n      var rangeMax = zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes];\n\n      if (newMax > rangeMax) {\n        newMax = rangeMax;\n      }\n    }\n\n    return newMax;\n  } // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n\n  function rangeMinLimiter(zoomPanOptions, newMin) {\n    if (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMin && !helpers$2.isNullOrUndef(zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes])) {\n      var rangeMin = zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes];\n\n      if (newMin < rangeMin) {\n        newMin = rangeMin;\n      }\n    }\n\n    return newMin;\n  }\n\n  function zoomRealTimeScale(scale, zoom, center, zoomOptions) {\n    var realtimeOpts = scale.options.realtime;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var newDuration = duration * (2 - zoom);\n    var maxPercent, limitedDuration;\n\n    if (scale.isHorizontal()) {\n      maxPercent = (scale.right - center.x) / (scale.right - scale.left);\n    } else {\n      maxPercent = (scale.bottom - center.y) / (scale.bottom - scale.top);\n    }\n\n    if (zoom < 1) {\n      limitedDuration = rangeMaxLimiter(zoomOptions, newDuration);\n    } else {\n      limitedDuration = rangeMinLimiter(zoomOptions, newDuration);\n    }\n\n    realtimeOpts.duration = limitedDuration;\n    realtimeOpts.delay = delay + maxPercent * (duration - limitedDuration);\n  }\n\n  function panRealTimeScale(scale, delta, panOptions) {\n    var realtimeOpts = scale.options.realtime;\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var newDelay = delay + (scale.getValueForPixel(delta) - scale.getValueForPixel(0));\n\n    if (delta > 0) {\n      realtimeOpts.delay = rangeMaxLimiter(panOptions, newDelay);\n    } else {\n      realtimeOpts.delay = rangeMinLimiter(panOptions, newDelay);\n    }\n  }\n\n  function updateResetZoom(chart) {\n    // For chartjs-plugin-zoom 0.6.6 backward compatibility\n    var zoom = chart.$zoom || {\n      _originalOptions: {}\n    };\n    var resetZoom = chart.resetZoom;\n    var update = chart.update;\n\n    var resetZoomAndUpdate = function resetZoomAndUpdate() {\n      helpers$2.each(chart.scales, function (scale) {\n        var realtimeOptions = scale.options.realtime;\n        var originalOptions = zoom._originalOptions[scale.id] || scale.originalOptions;\n\n        if (realtimeOptions) {\n          if (originalOptions) {\n            realtimeOptions.duration = originalOptions.realtime.duration;\n            realtimeOptions.delay = originalOptions.realtime.delay;\n          } else {\n            delete realtimeOptions.duration;\n            delete realtimeOptions.delay;\n          }\n        }\n      });\n      update.call(chart, {\n        duration: 0\n      });\n    };\n\n    chart.resetZoom = function () {\n      chart.update = resetZoomAndUpdate;\n      resetZoom();\n      chart.update = update;\n    };\n  }\n\n  function initZoomPlugin() {\n    zoomNS.zoomFunctions.realtime = zoomRealTimeScale;\n    zoomNS.panFunctions.realtime = panRealTimeScale;\n  }\n\n  var ZoomPlugin = {\n    attachChart: function attachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (!streaming.zoomPlugin) {\n        initZoomPlugin();\n        streaming.resetZoom = chart.resetZoom;\n        updateResetZoom(chart);\n        streaming.zoomPlugin = true;\n      }\n    },\n    detachChart: function detachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (streaming.zoomPlugin) {\n        chart.resetZoom = streaming.resetZoom;\n        delete streaming.resetZoom;\n        delete streaming.zoomPlugin;\n      }\n    }\n  };\n  var helpers$1 = Chart__default['default'].helpers;\n  var canvasHelpers$1 = helpers$1.canvas;\n  var scaleService = Chart__default['default'].scaleService;\n  var TimeScale = scaleService.getScaleConstructor('time');\n\n  scaleService.getScaleConstructor = function (type) {\n    // For backwards compatibility\n    if (type === 'time') {\n      type = 'realtime';\n    }\n\n    return this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n  }; // Ported from Chart.js 2.8.0 35273ee.\n\n\n  var MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991; // Ported from Chart.js 2.8.0 35273ee.\n\n  var INTERVALS = {\n    millisecond: {\n      common: true,\n      size: 1,\n      steps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n    },\n    second: {\n      common: true,\n      size: 1000,\n      steps: [1, 2, 5, 10, 15, 30]\n    },\n    minute: {\n      common: true,\n      size: 60000,\n      steps: [1, 2, 5, 10, 15, 30]\n    },\n    hour: {\n      common: true,\n      size: 3600000,\n      steps: [1, 2, 3, 6, 12]\n    },\n    day: {\n      common: true,\n      size: 86400000,\n      steps: [1, 2, 5]\n    },\n    week: {\n      common: false,\n      size: 604800000,\n      steps: [1, 2, 3, 4]\n    },\n    month: {\n      common: true,\n      size: 2.628e9,\n      steps: [1, 2, 3]\n    },\n    quarter: {\n      common: false,\n      size: 7.884e9,\n      steps: [1, 2, 3, 4]\n    },\n    year: {\n      common: true,\n      size: 3.154e10\n    }\n  }; // Ported from Chart.js 2.8.0 35273ee.\n\n  var UNITS = Object.keys(INTERVALS); // For Chart.js 2.7.x backward compatibility\n\n  var defaultAdapter = {\n    // Ported from Chart.js 2.9.4 707e52a.\n    parse: function parse(value, format) {\n      if (typeof value === 'string' && typeof format === 'string') {\n        value = moment__default['default'](value, format);\n      } else if (!(value instanceof moment__default['default'])) {\n        value = moment__default['default'](value);\n      }\n\n      return value.isValid() ? value.valueOf() : null;\n    },\n    // Ported from Chart.js 2.9.4 707e52a.\n    add: function add(time, amount, unit) {\n      return moment__default['default'](time).add(amount, unit).valueOf();\n    },\n    // Ported from Chart.js 2.9.4 707e52a.\n    startOf: function startOf(time, unit, weekday) {\n      time = moment__default['default'](time);\n\n      if (unit === 'isoWeek') {\n        return time.isoWeekday(weekday).valueOf();\n      }\n\n      return time.startOf(unit).valueOf();\n    }\n  }; // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n  function toTimestamp(scale, input) {\n    var adapter = scale._adapter || defaultAdapter;\n    var options = scale.options.time;\n    var parser = options.parser;\n    var format = parser || options.format;\n    var value = input;\n\n    if (typeof parser === 'function') {\n      value = parser(value);\n    } // Only parse if its not a timestamp already\n\n\n    if (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n      value = typeof format === 'string' ? adapter.parse(value, format) : adapter.parse(value);\n    }\n\n    if (value !== null) {\n      return +value;\n    } // Labels are in an incompatible format and no `parser` has been provided.\n    // The user might still use the deprecated `format` option for parsing.\n\n\n    if (!parser && typeof format === 'function') {\n      value = format(input); // `format` could return something else than a timestamp, if so, parse it\n\n      if (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n        value = adapter.parse(value);\n      }\n    }\n\n    return value;\n  } // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n\n  function parse(scale, input) {\n    if (helpers$1.isNullOrUndef(input)) {\n      return null;\n    }\n\n    var options = scale.options.time;\n    var value = toTimestamp(scale, scale.getRightValue(input));\n\n    if (value === null) {\n      return value;\n    }\n\n    if (options.round) {\n      value = +(scale._adapter || defaultAdapter).startOf(value, options.round);\n    }\n\n    return value;\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineStepSize(min, max, unit, capacity) {\n    var range = max - min;\n    var interval = INTERVALS[unit];\n    var milliseconds = interval.size;\n    var steps = interval.steps;\n    var i, ilen, factor;\n\n    if (!steps) {\n      return Math.ceil(range / (capacity * milliseconds));\n    }\n\n    for (i = 0, ilen = steps.length; i < ilen; ++i) {\n      factor = steps[i];\n\n      if (Math.ceil(range / (milliseconds * factor)) <= capacity) {\n        break;\n      }\n    }\n\n    return factor;\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    var ilen = UNITS.length;\n    var i, interval, factor;\n\n    for (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n      interval = INTERVALS[UNITS[i]];\n      factor = interval.steps ? interval.steps[interval.steps.length - 1] : MAX_INTEGER;\n\n      if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n        return UNITS[i];\n      }\n    }\n\n    return UNITS[ilen - 1];\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineMajorUnit(unit) {\n    for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n      if (INTERVALS[UNITS[i]].common) {\n        return UNITS[i];\n      }\n    }\n  } // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n\n  function generate(scale, min, max, capacity) {\n    var adapter = scale._adapter || defaultAdapter;\n    var options = scale.options;\n    var timeOpts = options.time;\n    var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\n    var major = determineMajorUnit(minor);\n    var stepSize = helpers$1.valueOrDefault(timeOpts.stepSize, timeOpts.unitStepSize);\n    var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    var majorTicksEnabled = options.ticks.major.enabled;\n    var interval = INTERVALS[minor];\n    var first = min;\n    var last = max;\n    var ticks = [];\n    var time;\n\n    if (!stepSize) {\n      stepSize = determineStepSize(min, max, minor, capacity);\n    } // For 'week' unit, handle the first day of week option\n\n\n    if (weekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n      last = +adapter.startOf(last, 'isoWeek', weekday);\n    } // Align first/last ticks on unit\n\n\n    first = +adapter.startOf(first, weekday ? 'day' : minor);\n    last = +adapter.startOf(last, weekday ? 'day' : minor); // Make sure that the last tick include max\n\n    if (last < max) {\n      last = +adapter.add(last, 1, minor);\n    }\n\n    time = first;\n\n    if (majorTicksEnabled && major && !weekday && !timeOpts.round) {\n      // Align the first tick on the previous `minor` unit aligned on the `major` unit:\n      // we first aligned time on the previous `major` unit then add the number of full\n      // stepSize there is between first and the previous major time.\n      time = +adapter.startOf(time, major);\n      time = +adapter.add(time, ~~((first - time) / (interval.size * stepSize)) * stepSize, minor);\n    }\n\n    for (; time < last; time = +adapter.add(time, stepSize, minor)) {\n      ticks.push(+time);\n    }\n\n    ticks.push(+time);\n    return ticks;\n  }\n\n  var datasetPropertyKeys = ['pointBackgroundColor', 'pointBorderColor', 'pointBorderWidth', 'pointRadius', 'pointRotation', 'pointStyle', 'pointHitRadius', 'pointHoverBackgroundColor', 'pointHoverBorderColor', 'pointHoverBorderWidth', 'pointHoverRadius', 'backgroundColor', 'borderColor', 'borderSkipped', 'borderWidth', 'hoverBackgroundColor', 'hoverBorderColor', 'hoverBorderWidth', 'hoverRadius', 'hitRadius', 'radius', 'rotation'];\n\n  function refreshData(scale) {\n    var chart = scale.chart;\n    var id = scale.id;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var ttl = StreamingHelper.resolveOption(scale, 'ttl');\n    var pause = StreamingHelper.resolveOption(scale, 'pause');\n    var onRefresh = StreamingHelper.resolveOption(scale, 'onRefresh');\n    var max = scale.max;\n    var min = Date.now() - (isNaN(ttl) ? duration + delay : ttl);\n    var meta, data, length, i, start, count, removalRange;\n\n    if (onRefresh) {\n      onRefresh(chart);\n    } // Remove old data\n\n\n    helpers$1.each(chart.data.datasets, function (dataset, datasetIndex) {\n      meta = chart.getDatasetMeta(datasetIndex);\n\n      if (id === meta.xAxisID || id === meta.yAxisID) {\n        data = dataset.data;\n        length = data.length;\n\n        if (pause) {\n          // If the scale is paused, preserve the visible data points\n          for (i = 0; i < length; ++i) {\n            if (!(scale._getTimeForIndex(i, datasetIndex) < max)) {\n              break;\n            }\n          }\n\n          start = i + 2;\n        } else {\n          start = 0;\n        }\n\n        for (i = start; i < length; ++i) {\n          if (!(scale._getTimeForIndex(i, datasetIndex) <= min)) {\n            break;\n          }\n        }\n\n        count = i - start;\n\n        if (isNaN(ttl)) {\n          // Keep the last two data points outside the range not to affect the existing bezier curve\n          count = Math.max(count - 2, 0);\n        }\n\n        data.splice(start, count);\n        helpers$1.each(datasetPropertyKeys, function (key) {\n          if (helpers$1.isArray(dataset[key])) {\n            dataset[key].splice(start, count);\n          }\n        });\n        helpers$1.each(dataset.datalabels, function (value) {\n          if (helpers$1.isArray(value)) {\n            value.splice(start, count);\n          }\n        });\n\n        if (typeof data[0] !== 'object') {\n          removalRange = {\n            start: start,\n            count: count\n          };\n        }\n      }\n    });\n\n    if (removalRange) {\n      chart.data.labels.splice(removalRange.start, removalRange.count);\n    }\n\n    chart.update({\n      preservation: true\n    });\n  }\n\n  function stopDataRefreshTimer(scale) {\n    var realtime = scale.realtime;\n    var refreshTimerID = realtime.refreshTimerID;\n\n    if (refreshTimerID) {\n      clearInterval(refreshTimerID);\n      delete realtime.refreshTimerID;\n      delete realtime.refreshInterval;\n    }\n  }\n\n  function startDataRefreshTimer(scale) {\n    var realtime = scale.realtime;\n    var interval = StreamingHelper.resolveOption(scale, 'refresh');\n    realtime.refreshTimerID = setInterval(function () {\n      var newInterval = StreamingHelper.resolveOption(scale, 'refresh');\n      refreshData(scale);\n\n      if (realtime.refreshInterval !== newInterval && !isNaN(newInterval)) {\n        stopDataRefreshTimer(scale);\n        startDataRefreshTimer(scale);\n      }\n    }, interval);\n    realtime.refreshInterval = interval;\n  }\n\n  function transition(element, id, translate) {\n    var start = element._start || {};\n    var view = element._view || {};\n    var model = element._model || {};\n    helpers$1.each(element._streaming, function (item, key) {\n      if (item.axisId === id) {\n        if (start.hasOwnProperty(key)) {\n          start[key] -= translate;\n        }\n\n        if (view.hasOwnProperty(key) && view !== start) {\n          view[key] -= translate;\n        }\n\n        if (model.hasOwnProperty(key) && model !== view) {\n          model[key] -= translate;\n        }\n      }\n    });\n  }\n\n  function scroll(scale) {\n    var chart = scale.chart;\n    var realtime = scale.realtime;\n    var id = scale.id;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var isHorizontal = scale.isHorizontal();\n    var length = isHorizontal ? scale.width : scale.height;\n    var now = Date.now(); // For Chart.js 2.8.x backward compatibility\n\n    var reverse = scale.options.ticks.reverse || !(isHorizontal || '_reversePixels' in scale);\n    var tooltip = chart.tooltip;\n    var annotations = AnnotationPlugin.getElements(chart);\n    var offset = length * (now - realtime.head) / duration;\n    var i, ilen;\n\n    if (isHorizontal === reverse) {\n      offset = -offset;\n    } // Shift all the elements leftward or downward\n\n\n    helpers$1.each(chart.data.datasets, function (dataset, datasetIndex) {\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var elements = meta.data || [];\n      var element = meta.dataset;\n\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        transition(elements[i], id, offset);\n      }\n\n      if (element) {\n        transition(element, id, offset);\n      }\n    }); // Shift all the annotation elements leftward or downward\n\n    for (i = 0, ilen = annotations.length; i < ilen; ++i) {\n      transition(annotations[i], id, offset);\n    } // Shift tooltip leftward or downward\n\n\n    transition(tooltip, id, offset);\n    scale.max = scale._table[1].time = now - delay;\n    scale.min = scale._table[0].time = scale.max - duration;\n    realtime.head = now;\n  }\n\n  var defaultConfig = {\n    position: 'bottom',\n    distribution: 'linear',\n    bounds: 'data',\n    adapters: {},\n    time: {\n      parser: false,\n      // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n      unit: false,\n      // false == automatic or override with week, month, year, etc.\n      round: false,\n      // none, or override with week, month, year, etc.\n      displayFormat: false,\n      // DEPRECATED\n      isoWeekday: false,\n      // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n      minUnit: 'millisecond',\n      // defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n      displayFormats: {\n        millisecond: 'h:mm:ss.SSS a',\n        second: 'h:mm:ss a',\n        minute: 'h:mm a',\n        hour: 'hA',\n        day: 'MMM D',\n        week: 'll',\n        month: 'MMM YYYY',\n        quarter: '[Q]Q - YYYY',\n        year: 'YYYY'\n      }\n    },\n    realtime: {},\n    ticks: {\n      autoSkip: false,\n      source: 'auto',\n      major: {\n        enabled: true\n      }\n    }\n  };\n  var RealTimeScale = TimeScale.extend({\n    initialize: function initialize() {\n      var me = this;\n      TimeScale.prototype.initialize.apply(me, arguments); // For backwards compatibility\n\n      if (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      me.realtime = me.realtime || {};\n      startDataRefreshTimer(me);\n    },\n    update: function update() {\n      var me = this;\n      var realtime = me.realtime;\n      var options = me.options;\n      var bounds = options.bounds;\n      var distribution = options.distribution;\n      var offset = options.offset;\n      var ticksOpts = options.ticks;\n      var autoSkip = ticksOpts.autoSkip;\n      var source = ticksOpts.source;\n      var minTick = ticksOpts.min;\n      var maxTick = ticksOpts.max;\n      var majorTicksOpts = ticksOpts.major;\n      var majorEnabled = majorTicksOpts.enabled;\n      var minSize; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return TimeScale.prototype.update.apply(me, arguments);\n      }\n\n      if (StreamingHelper.resolveOption(me, 'pause')) {\n        StreamingHelper.stopFrameRefreshTimer(realtime);\n      } else {\n        StreamingHelper.startFrameRefreshTimer(realtime, function () {\n          scroll(me);\n        });\n        realtime.head = Date.now();\n      }\n\n      options.bounds = undefined;\n      options.distribution = 'linear';\n      options.offset = false;\n      ticksOpts.autoSkip = false;\n      ticksOpts.source = source === 'auto' ? '' : source;\n      ticksOpts.min = -1e15;\n      ticksOpts.max = 1e15;\n      majorTicksOpts.enabled = true;\n      minSize = TimeScale.prototype.update.apply(me, arguments);\n      options.bounds = bounds;\n      options.distribution = distribution;\n      options.offset = offset;\n      ticksOpts.autoSkip = autoSkip;\n      ticksOpts.source = source;\n      ticksOpts.min = minTick;\n      ticksOpts.max = maxTick;\n      majorTicksOpts.enabled = majorEnabled;\n      return minSize;\n    },\n    buildTicks: function buildTicks() {\n      var me = this;\n      var options = me.options; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return TimeScale.prototype.buildTicks.apply(me, arguments);\n      }\n\n      var duration = StreamingHelper.resolveOption(me, 'duration');\n      var delay = StreamingHelper.resolveOption(me, 'delay');\n      var refresh = StreamingHelper.resolveOption(me, 'refresh');\n      var ticksOpts = options.ticks;\n      var source = ticksOpts.source;\n      var timestamps = me._timestamps.data;\n      var max = me.realtime.head - delay;\n      var min = max - duration;\n      var maxArray = [max + refresh, max];\n      var ticks;\n\n      if (source === '') {\n        ticksOpts.source = 'data';\n        me._timestamps.data = generate(me, min, max + refresh, me.getLabelCapacity(min));\n      }\n\n      Object.defineProperty(me, 'min', {\n        get: function get() {\n          return min;\n        },\n        set: helpers$1.noop\n      });\n      Object.defineProperty(me, 'max', {\n        get: function get() {\n          return maxArray.shift();\n        },\n        set: helpers$1.noop\n      });\n      ticks = TimeScale.prototype.buildTicks.apply(me, arguments);\n      delete me.min;\n      delete me.max;\n      me.min = min;\n      me.max = max;\n\n      if (source === '') {\n        ticksOpts.source = source;\n        me._timestamps.data = timestamps;\n      }\n\n      me._table = [{\n        time: min,\n        pos: 0\n      }, {\n        time: max,\n        pos: 1\n      }];\n      return ticks;\n    },\n    calculateTickRotation: function calculateTickRotation() {\n      var me = this;\n      var options = me.options;\n      var ticksOpts = options.ticks;\n      var maxRotation = ticksOpts.maxRotation; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        TimeScale.prototype.calculateTickRotation.apply(me, arguments);\n        return;\n      }\n\n      ticksOpts.maxRotation = ticksOpts.minRotation || 0;\n      TimeScale.prototype.calculateTickRotation.apply(me, arguments);\n      ticksOpts.maxRotation = maxRotation;\n    },\n    fit: function fit() {\n      var me = this;\n      var options = me.options;\n      TimeScale.prototype.fit.apply(me, arguments); // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      if (options.ticks.display && options.display && me.isHorizontal()) {\n        me.paddingLeft = 3;\n        me.paddingRight = 3;\n        me.handleMargins();\n      }\n    },\n    draw: function draw(chartArea) {\n      var me = this;\n      var chart = me.chart; // For backwards compatibility\n\n      if (me.options.type === 'time' && !chart.options.plugins.streaming) {\n        TimeScale.prototype.draw.apply(me, arguments);\n        return;\n      }\n\n      var context = me.ctx;\n      var clipArea = me.isHorizontal() ? {\n        left: chartArea.left,\n        top: 0,\n        right: chartArea.right,\n        bottom: chart.height\n      } : {\n        left: 0,\n        top: chartArea.top,\n        right: chart.width,\n        bottom: chartArea.bottom\n      };\n      me._gridLineItems = null;\n      me._labelItems = null; // Clip and draw the scale\n\n      canvasHelpers$1.clipArea(context, clipArea);\n      TimeScale.prototype.draw.apply(me, arguments);\n      canvasHelpers$1.unclipArea(context);\n    },\n    destroy: function destroy() {\n      var me = this; // For backwards compatibility\n\n      if (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      StreamingHelper.stopFrameRefreshTimer(me.realtime);\n      stopDataRefreshTimer(me);\n    },\n\n    /*\n     * @private\n     */\n    _getTimeForIndex: function _getTimeForIndex(index, datasetIndex) {\n      var me = this;\n      var timestamps = me._timestamps;\n      var time = timestamps.datasets[datasetIndex][index];\n      var value;\n\n      if (helpers$1.isNullOrUndef(time)) {\n        value = me.chart.data.datasets[datasetIndex].data[index];\n\n        if (helpers$1.isObject(value)) {\n          time = parse(me, value);\n        } else {\n          time = parse(me, timestamps.labels[index]);\n        }\n      }\n\n      return time;\n    }\n  });\n  scaleService.registerScaleType('realtime', RealTimeScale, defaultConfig);\n  var helpers = Chart__default['default'].helpers;\n  var canvasHelpers = helpers.canvas;\n  Chart__default['default'].defaults.global.plugins.streaming = {\n    duration: 10000,\n    delay: 0,\n    frameRate: 30,\n    refresh: 1000,\n    onRefresh: null,\n    pause: false,\n    ttl: undefined\n  }; // Ported from Chart.js 2.9.4 d6a5ea0. Modified for realtime scale.\n\n  Chart__default['default'].defaults.global.legend.onClick = function (e, legendItem) {\n    var index = legendItem.datasetIndex;\n    var ci = this.chart;\n    var meta = ci.getDatasetMeta(index);\n    meta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\n    ci.update({\n      duration: 0\n    });\n  };\n\n  function getAxisMap(element, keys, meta) {\n    var axisMap = {};\n    helpers.each(keys.x, function (key) {\n      axisMap[key] = {\n        axisId: meta.xAxisID\n      };\n    });\n    helpers.each(keys.y, function (key) {\n      axisMap[key] = {\n        axisId: meta.yAxisID\n      };\n    });\n    return axisMap;\n  }\n\n  var transitionKeys = {\n    x: ['x', 'controlPointPreviousX', 'controlPointNextX', 'caretX'],\n    y: ['y', 'controlPointPreviousY', 'controlPointNextY', 'caretY']\n  };\n\n  function updateElements(chart) {\n    helpers.each(chart.data.datasets, function (dataset, datasetIndex) {\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var elements = meta.data || [];\n      var element = meta.dataset;\n      var i, ilen;\n\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        elements[i]._streaming = getAxisMap(elements[i], transitionKeys, meta);\n      }\n\n      if (element) {\n        element._streaming = getAxisMap(element, transitionKeys, meta);\n      }\n    });\n  }\n  /**\n   * Update the chart keeping the current animation but suppressing a new one\n   * @param {object} config - animation options\n   */\n\n\n  function update(config) {\n    var me = this;\n    var preservation = config && config.preservation;\n    var tooltip, lastActive, tooltipLastActive, lastMouseEvent, legend, legendUpdate;\n\n    if (preservation) {\n      tooltip = me.tooltip;\n      lastActive = me.lastActive;\n      tooltipLastActive = tooltip._lastActive;\n      me._bufferedRender = true;\n      legend = me.legend; // Skip legend update\n\n      if (legend) {\n        legendUpdate = legend.update;\n        legend.update = helpers.noop;\n      }\n    }\n\n    Chart__default['default'].prototype.update.apply(me, arguments);\n\n    if (preservation) {\n      me._bufferedRender = false;\n      me._bufferedRequest = null;\n      me.lastActive = lastActive;\n      tooltip._lastActive = tooltipLastActive;\n\n      if (legend) {\n        legend.update = legendUpdate;\n      }\n\n      if (me.animating) {\n        // If the chart is animating, keep it until the duration is over\n        Chart__default['default'].animationService.animations.forEach(function (animation) {\n          if (animation.chart === me) {\n            me.render({\n              duration: (animation.numSteps - animation.currentStep) * 16.66\n            });\n          }\n        });\n      } else {\n        // If the chart is not animating, make sure that all elements are at the final positions\n        me.data.datasets.forEach(function (dataset, datasetIndex) {\n          me.getDatasetMeta(datasetIndex).controller.transition(1);\n        });\n      }\n\n      if (tooltip._active) {\n        tooltip.update(true);\n      }\n\n      lastMouseEvent = me.streaming.lastMouseEvent;\n\n      if (lastMouseEvent) {\n        me.eventHandler(lastMouseEvent);\n      }\n    }\n  }\n\n  function tooltipUpdate() {\n    var me = this;\n    var element = me._active && me._active[0];\n    var meta;\n\n    if (element) {\n      meta = me._chart.getDatasetMeta(element._datasetIndex);\n      me._streaming = getAxisMap(me, transitionKeys, meta);\n    } else {\n      me._streaming = {};\n    }\n\n    return Chart__default['default'].Tooltip.prototype.update.apply(me, arguments);\n  } // Draw chart at frameRate\n\n\n  function drawChart(chart) {\n    var streaming = chart.streaming;\n    var frameRate = chart.options.plugins.streaming.frameRate;\n    var frameDuration = 1000 / (Math.max(frameRate, 0) || 30);\n    var next = streaming.lastDrawn + frameDuration || 0;\n    var now = Date.now();\n    var lastMouseEvent = streaming.lastMouseEvent;\n\n    if (next <= now) {\n      // Draw only when animation is inactive\n      if (!chart.animating && !chart.tooltip._start) {\n        chart.draw();\n      }\n\n      if (lastMouseEvent) {\n        chart.eventHandler(lastMouseEvent);\n      }\n\n      streaming.lastDrawn = next + frameDuration > now ? next : now;\n    }\n  }\n\n  var StreamingPlugin = {\n    id: 'streaming',\n    beforeInit: function beforeInit(chart) {\n      var streaming = chart.streaming = chart.streaming || {};\n      var canvas = streaming.canvas = chart.canvas;\n\n      var mouseEventListener = streaming.mouseEventListener = function (event) {\n        var pos = helpers.getRelativePosition(event, chart);\n        streaming.lastMouseEvent = {\n          type: 'mousemove',\n          chart: chart,\n          native: event,\n          x: pos.x,\n          y: pos.y\n        };\n      };\n\n      canvas.addEventListener('mousedown', mouseEventListener);\n      canvas.addEventListener('mouseup', mouseEventListener);\n    },\n    afterInit: function afterInit(chart) {\n      chart.update = update;\n      chart.tooltip.update = tooltipUpdate;\n    },\n    beforeUpdate: function beforeUpdate(chart) {\n      var chartOpts = chart.options;\n      var scalesOpts = chartOpts.scales;\n\n      if (scalesOpts) {\n        helpers.each(scalesOpts.xAxes.concat(scalesOpts.yAxes), function (scaleOpts) {\n          if (scaleOpts.type === 'realtime' || scaleOpts.type === 'time') {\n            // Allow BÃ©zier control to be outside the chart\n            chartOpts.elements.line.capBezierPoints = false;\n          }\n        });\n      }\n\n      if (chart.annotation) {\n        AnnotationPlugin.attachChart(chart);\n      } else {\n        AnnotationPlugin.detachChart(chart);\n      }\n\n      if (chart.resetZoom) {\n        ZoomPlugin.attachChart(chart);\n      } else {\n        ZoomPlugin.detachChart(chart);\n      }\n\n      return true;\n    },\n    afterUpdate: function afterUpdate(chart) {\n      var streaming = chart.streaming;\n      var pause = true;\n      updateElements(chart); // if all scales are paused, stop refreshing frames\n\n      helpers.each(chart.scales, function (scale) {\n        if (scale instanceof RealTimeScale) {\n          pause &= StreamingHelper.resolveOption(scale, 'pause');\n        }\n      });\n\n      if (pause) {\n        StreamingHelper.stopFrameRefreshTimer(streaming);\n      } else {\n        StreamingHelper.startFrameRefreshTimer(streaming, function () {\n          drawChart(chart);\n        });\n      }\n    },\n    beforeDatasetDraw: function beforeDatasetDraw(chart, args) {\n      var meta = args.meta;\n      var chartArea = chart.chartArea;\n      var clipArea = {\n        left: 0,\n        top: 0,\n        right: chart.width,\n        bottom: chart.height\n      };\n\n      if (meta.xAxisID && meta.controller.getScaleForId(meta.xAxisID) instanceof RealTimeScale) {\n        clipArea.left = chartArea.left;\n        clipArea.right = chartArea.right;\n      }\n\n      if (meta.yAxisID && meta.controller.getScaleForId(meta.yAxisID) instanceof RealTimeScale) {\n        clipArea.top = chartArea.top;\n        clipArea.bottom = chartArea.bottom;\n      }\n\n      canvasHelpers.clipArea(chart.ctx, clipArea);\n      return true;\n    },\n    afterDatasetDraw: function afterDatasetDraw(chart) {\n      canvasHelpers.unclipArea(chart.ctx);\n    },\n    beforeEvent: function beforeEvent(chart, event) {\n      var streaming = chart.streaming;\n\n      if (event.type === 'mousemove') {\n        // Save mousemove event for reuse\n        streaming.lastMouseEvent = event;\n      } else if (event.type === 'mouseout') {\n        // Remove mousemove event\n        delete streaming.lastMouseEvent;\n      }\n\n      return true;\n    },\n    destroy: function destroy(chart) {\n      var streaming = chart.streaming;\n      var canvas = streaming.canvas;\n      var mouseEventListener = streaming.mouseEventListener;\n      StreamingHelper.stopFrameRefreshTimer(streaming);\n      delete chart.update;\n      delete chart.tooltip.update;\n      canvas.removeEventListener('mousedown', mouseEventListener);\n      canvas.removeEventListener('mouseup', mouseEventListener);\n      helpers.each(chart.scales, function (scale) {\n        if (scale instanceof RealTimeScale) {\n          scale.destroy();\n        }\n      });\n    }\n  };\n  Chart__default['default'].helpers.streaming = StreamingHelper;\n  Chart__default['default'].plugins.register(StreamingPlugin);\n  return StreamingPlugin;\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","globalThis","self","ChartStreaming","Chart","moment","_interopDefaultLegacy","e","Chart__default","moment__default","helpers$3","helpers","cancelAnimFrame","window","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","id","clearTimeout","StreamingHelper","resolveOption","scale","key","realtimeOpts","options","realtime","streamingOpts","chart","plugins","streaming","valueOrDefault","startFrameRefreshTimer","context","func","frameRequestID","frameRefresh","requestAnimFrame","call","stopFrameRefreshTimer","isValid","rawValue","isFinite","scaleValue","value","fallback","getPixelForValue","transitionable","updateBoxAnnotation","element","chartInstance","scales","chartArea","xScaleID","yScaleID","xScale","yScale","_streaming","min","max","reverse","xMin","left","xMax","right","axisId","yMin","top","yMax","bottom","updateLineAnnotation","scaleID","isHorizontal","pixel","initAnnotationPlugin","BoxAnnotation","Annotation","types","box","LineAnnotation","line","configureBoxAnnotation","prototype","configure","configureLineAnnotation","AnnotationPlugin","attachChart","annotationPlugin","getElements","annotation","elements","Object","keys","map","detachChart","helpers$2","zoomNS","Zoom","zoomFunctions","panFunctions","rangeMaxLimiter","zoomPanOptions","newMax","scaleAxes","rangeMax","isNullOrUndef","rangeMinLimiter","newMin","rangeMin","zoomRealTimeScale","zoom","center","zoomOptions","duration","delay","newDuration","maxPercent","limitedDuration","x","y","panRealTimeScale","delta","panOptions","newDelay","getValueForPixel","updateResetZoom","$zoom","_originalOptions","resetZoom","update","resetZoomAndUpdate","each","realtimeOptions","originalOptions","initZoomPlugin","ZoomPlugin","zoomPlugin","helpers$1","canvasHelpers$1","canvas","scaleService","TimeScale","getScaleConstructor","type","constructors","hasOwnProperty","undefined","MAX_INTEGER","Number","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","size","steps","second","minute","hour","day","week","month","quarter","year","UNITS","defaultAdapter","parse","format","valueOf","add","time","amount","unit","startOf","weekday","isoWeekday","toTimestamp","input","adapter","_adapter","parser","getRightValue","round","determineStepSize","capacity","range","interval","milliseconds","i","ilen","factor","Math","ceil","length","determineUnitForAutoTicks","minUnit","indexOf","determineMajorUnit","generate","timeOpts","minor","major","stepSize","unitStepSize","majorTicksEnabled","ticks","enabled","first","last","push","datasetPropertyKeys","refreshData","ttl","pause","onRefresh","Date","now","isNaN","meta","data","start","count","removalRange","datasets","dataset","datasetIndex","getDatasetMeta","xAxisID","yAxisID","_getTimeForIndex","splice","isArray","datalabels","labels","preservation","stopDataRefreshTimer","refreshTimerID","clearInterval","refreshInterval","startDataRefreshTimer","setInterval","newInterval","transition","translate","_start","view","_view","model","_model","item","scroll","width","height","tooltip","annotations","offset","head","_table","defaultConfig","position","distribution","bounds","adapters","displayFormat","displayFormats","autoSkip","source","RealTimeScale","extend","initialize","me","apply","arguments","ticksOpts","minTick","maxTick","majorTicksOpts","majorEnabled","minSize","buildTicks","refresh","timestamps","_timestamps","maxArray","getLabelCapacity","defineProperty","get","set","noop","shift","pos","calculateTickRotation","maxRotation","minRotation","fit","display","paddingLeft","paddingRight","handleMargins","draw","ctx","clipArea","_gridLineItems","_labelItems","unclipArea","destroy","index","isObject","registerScaleType","canvasHelpers","defaults","frameRate","legend","onClick","legendItem","ci","hidden","getAxisMap","axisMap","transitionKeys","updateElements","config","lastActive","tooltipLastActive","lastMouseEvent","legendUpdate","_lastActive","_bufferedRender","_bufferedRequest","animating","animationService","animations","forEach","animation","render","numSteps","currentStep","controller","_active","eventHandler","tooltipUpdate","_chart","_datasetIndex","Tooltip","drawChart","frameDuration","next","lastDrawn","StreamingPlugin","beforeInit","mouseEventListener","event","getRelativePosition","native","addEventListener","afterInit","beforeUpdate","chartOpts","scalesOpts","xAxes","concat","yAxes","scaleOpts","capBezierPoints","afterUpdate","beforeDatasetDraw","args","getScaleForId","afterDatasetDraw","beforeEvent","removeEventListener","register"],"sources":["C:/Users/PRO/Documents/React/react-chartjs-realtime-line-graph/node_modules/chartjs-plugin-streaming/dist/chartjs-plugin-streaming.js"],"sourcesContent":["/*!\n * chartjs-plugin-streaming v1.9.0\n * https://nagix.github.io/chartjs-plugin-streaming\n * (c) 2017-2021 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js'), require('moment')) :\ntypeof define === 'function' && define.amd ? define(['chart.js', 'moment'], factory) :\n(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ChartStreaming = factory(global.Chart, global.moment));\n}(this, (function (Chart, moment) { 'use strict';\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar Chart__default = /*#__PURE__*/_interopDefaultLegacy(Chart);\nvar moment__default = /*#__PURE__*/_interopDefaultLegacy(moment);\n\nvar helpers$3 = Chart__default['default'].helpers;\n\nvar cancelAnimFrame = (function() {\n\tif (typeof window !== 'undefined') {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\twindow.msCancelAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\treturn window.clearTimeout(id);\n\t\t\t};\n\t}\n}());\n\nvar StreamingHelper = {\n\n\tresolveOption(scale, key) {\n\t\tvar realtimeOpts = scale.options.realtime;\n\t\tvar streamingOpts = scale.chart.options.plugins.streaming;\n\t\treturn helpers$3.valueOrDefault(realtimeOpts[key], streamingOpts[key]);\n\t},\n\n\tstartFrameRefreshTimer: function(context, func) {\n\t\tif (!context.frameRequestID) {\n\t\t\tvar frameRefresh = function() {\n\t\t\t\tfunc();\n\t\t\t\tcontext.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n\t\t\t};\n\t\t\tcontext.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n\t\t}\n\t},\n\n\tstopFrameRefreshTimer: function(context) {\n\t\tvar frameRequestID = context.frameRequestID;\n\n\t\tif (frameRequestID) {\n\t\t\tcancelAnimFrame.call(window, frameRequestID);\n\t\t\tdelete context.frameRequestID;\n\t\t}\n\t}\n\n};\n\nfunction isValid(rawValue) {\n\tif (rawValue === null || typeof rawValue === 'undefined') {\n\t\treturn false;\n\t} else if (typeof rawValue === 'number') {\n\t\treturn isFinite(rawValue);\n\t}\n\treturn !!rawValue;\n}\n\nfunction scaleValue(scale, value, fallback) {\n\treturn isValid(value) ?\n\t\t{value: scale.getPixelForValue(value), transitionable: true} :\n\t\t{value: fallback};\n}\n\nfunction updateBoxAnnotation(element) {\n\tvar chart = element.chartInstance;\n\tvar options = element.options;\n\tvar scales = chart.scales;\n\tvar chartArea = chart.chartArea;\n\tvar xScaleID = options.xScaleID;\n\tvar yScaleID = options.yScaleID;\n\tvar xScale = scales[xScaleID];\n\tvar yScale = scales[yScaleID];\n\tvar streaming = element._streaming = {};\n\tvar min, max, reverse;\n\n\tif (xScale) {\n\t\tmin = scaleValue(xScale, options.xMin, chartArea.left);\n\t\tmax = scaleValue(xScale, options.xMax, chartArea.right);\n\t\treverse = min.value > max.value;\n\n\t\tif (min.transitionable) {\n\t\t\tstreaming[reverse ? 'right' : 'left'] = {axisId: xScaleID};\n\t\t}\n\t\tif (max.transitionable) {\n\t\t\tstreaming[reverse ? 'left' : 'right'] = {axisId: xScaleID};\n\t\t}\n\t}\n\n\tif (yScale) {\n\t\tmin = scaleValue(yScale, options.yMin, chartArea.top);\n\t\tmax = scaleValue(yScale, options.yMax, chartArea.bottom);\n\t\treverse = min.value > max.value;\n\n\t\tif (min.transitionable) {\n\t\t\tstreaming[reverse ? 'bottom' : 'top'] = {axisId: yScaleID};\n\t\t}\n\t\tif (max.transitionable) {\n\t\t\tstreaming[reverse ? 'top' : 'bottom'] = {axisId: yScaleID};\n\t\t}\n\t}\n}\n\nfunction updateLineAnnotation(element) {\n\tvar chart = element.chartInstance;\n\tvar options = element.options;\n\tvar scaleID = options.scaleID;\n\tvar value = options.value;\n\tvar scale = chart.scales[scaleID];\n\tvar streaming = element._streaming = {};\n\n\tif (scale) {\n\t\tvar isHorizontal = scale.isHorizontal();\n\t\tvar pixel = scaleValue(scale, value);\n\n\t\tif (pixel.transitionable) {\n\t\t\tstreaming[isHorizontal ? 'x1' : 'y1'] = {axisId: scaleID};\n\t\t\tstreaming[isHorizontal ? 'x2' : 'y2'] = {axisId: scaleID};\n\t\t\tstreaming[isHorizontal ? 'labelX' : 'labelY'] = {axisId: scaleID};\n\t\t}\n\t}\n}\n\nfunction initAnnotationPlugin() {\n\tvar BoxAnnotation = Chart__default['default'].Annotation.types.box;\n\tvar LineAnnotation = Chart__default['default'].Annotation.types.line;\n\tvar configureBoxAnnotation = BoxAnnotation.prototype.configure;\n\tvar configureLineAnnotation = LineAnnotation.prototype.configure;\n\n\tBoxAnnotation.prototype.configure = function() {\n\t\tupdateBoxAnnotation(this);\n\t\treturn configureBoxAnnotation.call(this);\n\t};\n\n\tLineAnnotation.prototype.configure = function() {\n\t\tupdateLineAnnotation(this);\n\t\treturn configureLineAnnotation.call(this);\n\t};\n}\n\nvar AnnotationPlugin = {\n\tattachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (!streaming.annotationPlugin) {\n\t\t\tinitAnnotationPlugin();\n\t\t\tstreaming.annotationPlugin = true;\n\t\t}\n\t},\n\n\tgetElements(chart) {\n\t\tvar annotation = chart.annotation;\n\n\t\tif (annotation) {\n\t\t\tvar elements = annotation.elements;\n\t\t\treturn Object.keys(elements).map(function(id) {\n\t\t\t\treturn elements[id];\n\t\t\t});\n\t\t}\n\t\treturn [];\n\t},\n\n\tdetachChart(chart) {\n\t\tdelete chart.streaming.annotationPlugin;\n\t}\n};\n\nvar helpers$2 = Chart__default['default'].helpers;\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nvar zoomNS = Chart__default['default'].Zoom = Chart__default['default'].Zoom || {};\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nzoomNS.zoomFunctions = zoomNS.zoomFunctions || {};\nzoomNS.panFunctions = zoomNS.panFunctions || {};\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nfunction rangeMaxLimiter(zoomPanOptions, newMax) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMax &&\n\t\t\t!helpers$2.isNullOrUndef(zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMax = zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes];\n\t\tif (newMax > rangeMax) {\n\t\t\tnewMax = rangeMax;\n\t\t}\n\t}\n\treturn newMax;\n}\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nfunction rangeMinLimiter(zoomPanOptions, newMin) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMin &&\n\t\t\t!helpers$2.isNullOrUndef(zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMin = zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes];\n\t\tif (newMin < rangeMin) {\n\t\t\tnewMin = rangeMin;\n\t\t}\n\t}\n\treturn newMin;\n}\n\nfunction zoomRealTimeScale(scale, zoom, center, zoomOptions) {\n\tvar realtimeOpts = scale.options.realtime;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar newDuration = duration * (2 - zoom);\n\tvar maxPercent, limitedDuration;\n\n\tif (scale.isHorizontal()) {\n\t\tmaxPercent = (scale.right - center.x) / (scale.right - scale.left);\n\t} else {\n\t\tmaxPercent = (scale.bottom - center.y) / (scale.bottom - scale.top);\n\t}\n\tif (zoom < 1) {\n\t\tlimitedDuration = rangeMaxLimiter(zoomOptions, newDuration);\n\t} else {\n\t\tlimitedDuration = rangeMinLimiter(zoomOptions, newDuration);\n\t}\n\trealtimeOpts.duration = limitedDuration;\n\trealtimeOpts.delay = delay + maxPercent * (duration - limitedDuration);\n}\n\nfunction panRealTimeScale(scale, delta, panOptions) {\n\tvar realtimeOpts = scale.options.realtime;\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar newDelay = delay + (scale.getValueForPixel(delta) - scale.getValueForPixel(0));\n\n\tif (delta > 0) {\n\t\trealtimeOpts.delay = rangeMaxLimiter(panOptions, newDelay);\n\t} else {\n\t\trealtimeOpts.delay = rangeMinLimiter(panOptions, newDelay);\n\t}\n}\n\nfunction updateResetZoom(chart) {\n\t// For chartjs-plugin-zoom 0.6.6 backward compatibility\n\tvar zoom = chart.$zoom || {_originalOptions: {}};\n\n\tvar resetZoom = chart.resetZoom;\n\tvar update = chart.update;\n\tvar resetZoomAndUpdate = function() {\n\t\thelpers$2.each(chart.scales, function(scale) {\n\t\t\tvar realtimeOptions = scale.options.realtime;\n\t\t\tvar originalOptions = zoom._originalOptions[scale.id] || scale.originalOptions;\n\n\t\t\tif (realtimeOptions) {\n\t\t\t\tif (originalOptions) {\n\t\t\t\t\trealtimeOptions.duration = originalOptions.realtime.duration;\n\t\t\t\t\trealtimeOptions.delay = originalOptions.realtime.delay;\n\t\t\t\t} else {\n\t\t\t\t\tdelete realtimeOptions.duration;\n\t\t\t\t\tdelete realtimeOptions.delay;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tupdate.call(chart, {\n\t\t\tduration: 0\n\t\t});\n\t};\n\n\tchart.resetZoom = function() {\n\t\tchart.update = resetZoomAndUpdate;\n\t\tresetZoom();\n\t\tchart.update = update;\n\t};\n}\n\nfunction initZoomPlugin() {\n\tzoomNS.zoomFunctions.realtime = zoomRealTimeScale;\n\tzoomNS.panFunctions.realtime = panRealTimeScale;\n}\n\nvar ZoomPlugin = {\n\tattachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (!streaming.zoomPlugin) {\n\t\t\tinitZoomPlugin();\n\t\t\tstreaming.resetZoom = chart.resetZoom;\n\t\t\tupdateResetZoom(chart);\n\t\t\tstreaming.zoomPlugin = true;\n\t\t}\n\t},\n\n\tdetachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (streaming.zoomPlugin) {\n\t\t\tchart.resetZoom = streaming.resetZoom;\n\t\t\tdelete streaming.resetZoom;\n\t\t\tdelete streaming.zoomPlugin;\n\t\t}\n\t}\n};\n\nvar helpers$1 = Chart__default['default'].helpers;\nvar canvasHelpers$1 = helpers$1.canvas;\nvar scaleService = Chart__default['default'].scaleService;\nvar TimeScale = scaleService.getScaleConstructor('time');\n\nscaleService.getScaleConstructor = function(type) {\n\t// For backwards compatibility\n\tif (type === 'time') {\n\t\ttype = 'realtime';\n\t}\n\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n};\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar INTERVALS = {\n\tmillisecond: {\n\t\tcommon: true,\n\t\tsize: 1,\n\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t},\n\tsecond: {\n\t\tcommon: true,\n\t\tsize: 1000,\n\t\tsteps: [1, 2, 5, 10, 15, 30]\n\t},\n\tminute: {\n\t\tcommon: true,\n\t\tsize: 60000,\n\t\tsteps: [1, 2, 5, 10, 15, 30]\n\t},\n\thour: {\n\t\tcommon: true,\n\t\tsize: 3600000,\n\t\tsteps: [1, 2, 3, 6, 12]\n\t},\n\tday: {\n\t\tcommon: true,\n\t\tsize: 86400000,\n\t\tsteps: [1, 2, 5]\n\t},\n\tweek: {\n\t\tcommon: false,\n\t\tsize: 604800000,\n\t\tsteps: [1, 2, 3, 4]\n\t},\n\tmonth: {\n\t\tcommon: true,\n\t\tsize: 2.628e9,\n\t\tsteps: [1, 2, 3]\n\t},\n\tquarter: {\n\t\tcommon: false,\n\t\tsize: 7.884e9,\n\t\tsteps: [1, 2, 3, 4]\n\t},\n\tyear: {\n\t\tcommon: true,\n\t\tsize: 3.154e10\n\t}\n};\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar UNITS = Object.keys(INTERVALS);\n\n// For Chart.js 2.7.x backward compatibility\nvar defaultAdapter = {\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tparse: function(value, format) {\n\t\tif (typeof value === 'string' && typeof format === 'string') {\n\t\t\tvalue = moment__default['default'](value, format);\n\t\t} else if (!(value instanceof moment__default['default'])) {\n\t\t\tvalue = moment__default['default'](value);\n\t\t}\n\t\treturn value.isValid() ? value.valueOf() : null;\n\t},\n\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tadd: function(time, amount, unit) {\n\t\treturn moment__default['default'](time).add(amount, unit).valueOf();\n\t},\n\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tstartOf: function(time, unit, weekday) {\n\t\ttime = moment__default['default'](time);\n\t\tif (unit === 'isoWeek') {\n\t\t\treturn time.isoWeekday(weekday).valueOf();\n\t\t}\n\t\treturn time.startOf(unit).valueOf();\n\t}\n};\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction toTimestamp(scale, input) {\n\tvar adapter = scale._adapter || defaultAdapter;\n\tvar options = scale.options.time;\n\tvar parser = options.parser;\n\tvar format = parser || options.format;\n\tvar value = input;\n\n\tif (typeof parser === 'function') {\n\t\tvalue = parser(value);\n\t}\n\n\t// Only parse if its not a timestamp already\n\tif (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n\t\tvalue = typeof format === 'string'\n\t\t\t? adapter.parse(value, format)\n\t\t\t: adapter.parse(value);\n\t}\n\n\tif (value !== null) {\n\t\treturn +value;\n\t}\n\n\t// Labels are in an incompatible format and no `parser` has been provided.\n\t// The user might still use the deprecated `format` option for parsing.\n\tif (!parser && typeof format === 'function') {\n\t\tvalue = format(input);\n\n\t\t// `format` could return something else than a timestamp, if so, parse it\n\t\tif (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n\t\t\tvalue = adapter.parse(value);\n\t\t}\n\t}\n\n\treturn value;\n}\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction parse(scale, input) {\n\tif (helpers$1.isNullOrUndef(input)) {\n\t\treturn null;\n\t}\n\n\tvar options = scale.options.time;\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\n\tif (value === null) {\n\t\treturn value;\n\t}\n\n\tif (options.round) {\n\t\tvalue = +(scale._adapter || defaultAdapter).startOf(value, options.round);\n\t}\n\n\treturn value;\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineStepSize(min, max, unit, capacity) {\n\tvar range = max - min;\n\tvar interval = INTERVALS[unit];\n\tvar milliseconds = interval.size;\n\tvar steps = interval.steps;\n\tvar i, ilen, factor;\n\n\tif (!steps) {\n\t\treturn Math.ceil(range / (capacity * milliseconds));\n\t}\n\n\tfor (i = 0, ilen = steps.length; i < ilen; ++i) {\n\t\tfactor = steps[i];\n\t\tif (Math.ceil(range / (milliseconds * factor)) <= capacity) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn factor;\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n\tvar ilen = UNITS.length;\n\tvar i, interval, factor;\n\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n\t\tinterval = INTERVALS[UNITS[i]];\n\t\tfactor = interval.steps ? interval.steps[interval.steps.length - 1] : MAX_INTEGER;\n\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n\t\t\treturn UNITS[i];\n\t\t}\n\t}\n\n\treturn UNITS[ilen - 1];\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineMajorUnit(unit) {\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n\t\tif (INTERVALS[UNITS[i]].common) {\n\t\t\treturn UNITS[i];\n\t\t}\n\t}\n}\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction generate(scale, min, max, capacity) {\n\tvar adapter = scale._adapter || defaultAdapter;\n\tvar options = scale.options;\n\tvar timeOpts = options.time;\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\n\tvar major = determineMajorUnit(minor);\n\tvar stepSize = helpers$1.valueOrDefault(timeOpts.stepSize, timeOpts.unitStepSize);\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n\tvar majorTicksEnabled = options.ticks.major.enabled;\n\tvar interval = INTERVALS[minor];\n\tvar first = min;\n\tvar last = max;\n\tvar ticks = [];\n\tvar time;\n\n\tif (!stepSize) {\n\t\tstepSize = determineStepSize(min, max, minor, capacity);\n\t}\n\n\t// For 'week' unit, handle the first day of week option\n\tif (weekday) {\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\n\t\tlast = +adapter.startOf(last, 'isoWeek', weekday);\n\t}\n\n\t// Align first/last ticks on unit\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\n\tlast = +adapter.startOf(last, weekday ? 'day' : minor);\n\n\t// Make sure that the last tick include max\n\tif (last < max) {\n\t\tlast = +adapter.add(last, 1, minor);\n\t}\n\n\ttime = first;\n\n\tif (majorTicksEnabled && major && !weekday && !timeOpts.round) {\n\t\t// Align the first tick on the previous `minor` unit aligned on the `major` unit:\n\t\t// we first aligned time on the previous `major` unit then add the number of full\n\t\t// stepSize there is between first and the previous major time.\n\t\ttime = +adapter.startOf(time, major);\n\t\ttime = +adapter.add(time, ~~((first - time) / (interval.size * stepSize)) * stepSize, minor);\n\t}\n\n\tfor (; time < last; time = +adapter.add(time, stepSize, minor)) {\n\t\tticks.push(+time);\n\t}\n\n\tticks.push(+time);\n\n\treturn ticks;\n}\n\nvar datasetPropertyKeys = [\n\t'pointBackgroundColor',\n\t'pointBorderColor',\n\t'pointBorderWidth',\n\t'pointRadius',\n\t'pointRotation',\n\t'pointStyle',\n\t'pointHitRadius',\n\t'pointHoverBackgroundColor',\n\t'pointHoverBorderColor',\n\t'pointHoverBorderWidth',\n\t'pointHoverRadius',\n\t'backgroundColor',\n\t'borderColor',\n\t'borderSkipped',\n\t'borderWidth',\n\t'hoverBackgroundColor',\n\t'hoverBorderColor',\n\t'hoverBorderWidth',\n\t'hoverRadius',\n\t'hitRadius',\n\t'radius',\n\t'rotation'\n];\n\nfunction refreshData(scale) {\n\tvar chart = scale.chart;\n\tvar id = scale.id;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar ttl = StreamingHelper.resolveOption(scale, 'ttl');\n\tvar pause = StreamingHelper.resolveOption(scale, 'pause');\n\tvar onRefresh = StreamingHelper.resolveOption(scale, 'onRefresh');\n\tvar max = scale.max;\n\tvar min = Date.now() - (isNaN(ttl) ? duration + delay : ttl);\n\tvar meta, data, length, i, start, count, removalRange;\n\n\tif (onRefresh) {\n\t\tonRefresh(chart);\n\t}\n\n\t// Remove old data\n\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tmeta = chart.getDatasetMeta(datasetIndex);\n\t\tif (id === meta.xAxisID || id === meta.yAxisID) {\n\t\t\tdata = dataset.data;\n\t\t\tlength = data.length;\n\n\t\t\tif (pause) {\n\t\t\t\t// If the scale is paused, preserve the visible data points\n\t\t\t\tfor (i = 0; i < length; ++i) {\n\t\t\t\t\tif (!(scale._getTimeForIndex(i, datasetIndex) < max)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstart = i + 2;\n\t\t\t} else {\n\t\t\t\tstart = 0;\n\t\t\t}\n\n\t\t\tfor (i = start; i < length; ++i) {\n\t\t\t\tif (!(scale._getTimeForIndex(i, datasetIndex) <= min)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcount = i - start;\n\t\t\tif (isNaN(ttl)) {\n\t\t\t\t// Keep the last two data points outside the range not to affect the existing bezier curve\n\t\t\t\tcount = Math.max(count - 2, 0);\n\t\t\t}\n\n\t\t\tdata.splice(start, count);\n\t\t\thelpers$1.each(datasetPropertyKeys, function(key) {\n\t\t\t\tif (helpers$1.isArray(dataset[key])) {\n\t\t\t\t\tdataset[key].splice(start, count);\n\t\t\t\t}\n\t\t\t});\n\t\t\thelpers$1.each(dataset.datalabels, function(value) {\n\t\t\t\tif (helpers$1.isArray(value)) {\n\t\t\t\t\tvalue.splice(start, count);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (typeof data[0] !== 'object') {\n\t\t\t\tremovalRange = {\n\t\t\t\t\tstart: start,\n\t\t\t\t\tcount: count\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\tif (removalRange) {\n\t\tchart.data.labels.splice(removalRange.start, removalRange.count);\n\t}\n\n\tchart.update({\n\t\tpreservation: true\n\t});\n}\n\nfunction stopDataRefreshTimer(scale) {\n\tvar realtime = scale.realtime;\n\tvar refreshTimerID = realtime.refreshTimerID;\n\n\tif (refreshTimerID) {\n\t\tclearInterval(refreshTimerID);\n\t\tdelete realtime.refreshTimerID;\n\t\tdelete realtime.refreshInterval;\n\t}\n}\n\nfunction startDataRefreshTimer(scale) {\n\tvar realtime = scale.realtime;\n\tvar interval = StreamingHelper.resolveOption(scale, 'refresh');\n\n\trealtime.refreshTimerID = setInterval(function() {\n\t\tvar newInterval = StreamingHelper.resolveOption(scale, 'refresh');\n\n\t\trefreshData(scale);\n\t\tif (realtime.refreshInterval !== newInterval && !isNaN(newInterval)) {\n\t\t\tstopDataRefreshTimer(scale);\n\t\t\tstartDataRefreshTimer(scale);\n\t\t}\n\t}, interval);\n\trealtime.refreshInterval = interval;\n}\n\nfunction transition(element, id, translate) {\n\tvar start = element._start || {};\n\tvar view = element._view || {};\n\tvar model = element._model || {};\n\n\thelpers$1.each(element._streaming, (item, key) => {\n\t\tif (item.axisId === id) {\n\t\t\tif (start.hasOwnProperty(key)) {\n\t\t\t\tstart[key] -= translate;\n\t\t\t}\n\t\t\tif (view.hasOwnProperty(key) && view !== start) {\n\t\t\t\tview[key] -= translate;\n\t\t\t}\n\t\t\tif (model.hasOwnProperty(key) && model !== view) {\n\t\t\t\tmodel[key] -= translate;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction scroll(scale) {\n\tvar chart = scale.chart;\n\tvar realtime = scale.realtime;\n\tvar id = scale.id;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar isHorizontal = scale.isHorizontal();\n\tvar length = isHorizontal ? scale.width : scale.height;\n\tvar now = Date.now();\n\n\t// For Chart.js 2.8.x backward compatibility\n\tvar reverse = scale.options.ticks.reverse || !(isHorizontal || '_reversePixels' in scale);\n\n\tvar tooltip = chart.tooltip;\n\tvar annotations = AnnotationPlugin.getElements(chart);\n\tvar offset = length * (now - realtime.head) / duration;\n\tvar i, ilen;\n\n\tif (isHorizontal === reverse) {\n\t\toffset = -offset;\n\t}\n\n\t// Shift all the elements leftward or downward\n\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\tvar elements = meta.data || [];\n\t\tvar element = meta.dataset;\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\ttransition(elements[i], id, offset);\n\t\t}\n\t\tif (element) {\n\t\t\ttransition(element, id, offset);\n\t\t}\n\t});\n\n\t// Shift all the annotation elements leftward or downward\n\tfor (i = 0, ilen = annotations.length; i < ilen; ++i) {\n\t\ttransition(annotations[i], id, offset);\n\t}\n\n\t// Shift tooltip leftward or downward\n\ttransition(tooltip, id, offset);\n\n\tscale.max = scale._table[1].time = now - delay;\n\tscale.min = scale._table[0].time = scale.max - duration;\n\n\trealtime.head = now;\n}\n\nvar defaultConfig = {\n\tposition: 'bottom',\n\tdistribution: 'linear',\n\tbounds: 'data',\n\tadapters: {},\n\ttime: {\n\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\tround: false, // none, or override with week, month, year, etc.\n\t\tdisplayFormat: false, // DEPRECATED\n\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\tminUnit: 'millisecond',\n\n\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\tdisplayFormats: {\n\t\t\tmillisecond: 'h:mm:ss.SSS a',\n\t\t\tsecond: 'h:mm:ss a',\n\t\t\tminute: 'h:mm a',\n\t\t\thour: 'hA',\n\t\t\tday: 'MMM D',\n\t\t\tweek: 'll',\n\t\t\tmonth: 'MMM YYYY',\n\t\t\tquarter: '[Q]Q - YYYY',\n\t\t\tyear: 'YYYY'\n\t\t},\n\t},\n\trealtime: {},\n\tticks: {\n\t\tautoSkip: false,\n\t\tsource: 'auto',\n\t\tmajor: {\n\t\t\tenabled: true\n\t\t}\n\t}\n};\n\nvar RealTimeScale = TimeScale.extend({\n\tinitialize: function() {\n\t\tvar me = this;\n\n\t\tTimeScale.prototype.initialize.apply(me, arguments);\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tme.realtime = me.realtime || {};\n\n\t\tstartDataRefreshTimer(me);\n\t},\n\n\tupdate: function() {\n\t\tvar me = this;\n\t\tvar realtime = me.realtime;\n\t\tvar options = me.options;\n\t\tvar bounds = options.bounds;\n\t\tvar distribution = options.distribution;\n\t\tvar offset = options.offset;\n\t\tvar ticksOpts = options.ticks;\n\t\tvar autoSkip = ticksOpts.autoSkip;\n\t\tvar source = ticksOpts.source;\n\t\tvar minTick = ticksOpts.min;\n\t\tvar maxTick = ticksOpts.max;\n\t\tvar majorTicksOpts = ticksOpts.major;\n\t\tvar majorEnabled = majorTicksOpts.enabled;\n\t\tvar minSize;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn TimeScale.prototype.update.apply(me, arguments);\n\t\t}\n\n\t\tif (StreamingHelper.resolveOption(me, 'pause')) {\n\t\t\tStreamingHelper.stopFrameRefreshTimer(realtime);\n\t\t} else {\n\t\t\tStreamingHelper.startFrameRefreshTimer(realtime, function() {\n\t\t\t\tscroll(me);\n\t\t\t});\n\t\t\trealtime.head = Date.now();\n\t\t}\n\n\t\toptions.bounds = undefined;\n\t\toptions.distribution = 'linear';\n\t\toptions.offset = false;\n\t\tticksOpts.autoSkip = false;\n\t\tticksOpts.source = source === 'auto' ? '' : source;\n\t\tticksOpts.min = -1e15;\n\t\tticksOpts.max = 1e15;\n\t\tmajorTicksOpts.enabled = true;\n\n\t\tminSize = TimeScale.prototype.update.apply(me, arguments);\n\n\t\toptions.bounds = bounds;\n\t\toptions.distribution = distribution;\n\t\toptions.offset = offset;\n\t\tticksOpts.autoSkip = autoSkip;\n\t\tticksOpts.source = source;\n\t\tticksOpts.min = minTick;\n\t\tticksOpts.max = maxTick;\n\t\tmajorTicksOpts.enabled = majorEnabled;\n\n\t\treturn minSize;\n\t},\n\n\tbuildTicks: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn TimeScale.prototype.buildTicks.apply(me, arguments);\n\t\t}\n\n\t\tvar duration = StreamingHelper.resolveOption(me, 'duration');\n\t\tvar delay = StreamingHelper.resolveOption(me, 'delay');\n\t\tvar refresh = StreamingHelper.resolveOption(me, 'refresh');\n\t\tvar ticksOpts = options.ticks;\n\t\tvar source = ticksOpts.source;\n\t\tvar timestamps = me._timestamps.data;\n\t\tvar max = me.realtime.head - delay;\n\t\tvar min = max - duration;\n\t\tvar maxArray = [max + refresh, max];\n\t\tvar ticks;\n\n\t\tif (source === '') {\n\t\t\tticksOpts.source = 'data';\n\t\t\tme._timestamps.data = generate(me, min, max + refresh, me.getLabelCapacity(min));\n\t\t}\n\n\t\tObject.defineProperty(me, 'min', {\n\t\t\tget: function() {\n\t\t\t\treturn min;\n\t\t\t},\n\t\t\tset: helpers$1.noop\n\t\t});\n\t\tObject.defineProperty(me, 'max', {\n\t\t\tget: function() {\n\t\t\t\treturn maxArray.shift();\n\t\t\t},\n\t\t\tset: helpers$1.noop\n\t\t});\n\n\t\tticks = TimeScale.prototype.buildTicks.apply(me, arguments);\n\n\t\tdelete me.min;\n\t\tdelete me.max;\n\t\tme.min = min;\n\t\tme.max = max;\n\n\t\tif (source === '') {\n\t\t\tticksOpts.source = source;\n\t\t\tme._timestamps.data = timestamps;\n\t\t}\n\n\t\tme._table = [{time: min, pos: 0}, {time: max, pos: 1}];\n\n\t\treturn ticks;\n\t},\n\n\tcalculateTickRotation: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\t\tvar ticksOpts = options.ticks;\n\t\tvar maxRotation = ticksOpts.maxRotation;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\tTimeScale.prototype.calculateTickRotation.apply(me, arguments);\n\t\t\treturn;\n\t\t}\n\n\t\tticksOpts.maxRotation = ticksOpts.minRotation || 0;\n\t\tTimeScale.prototype.calculateTickRotation.apply(me, arguments);\n\t\tticksOpts.maxRotation = maxRotation;\n\t},\n\n\tfit: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\n\t\tTimeScale.prototype.fit.apply(me, arguments);\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.ticks.display && options.display && me.isHorizontal()) {\n\t\t\tme.paddingLeft = 3;\n\t\t\tme.paddingRight = 3;\n\t\t\tme.handleMargins();\n\t\t}\n\t},\n\n\tdraw: function(chartArea) {\n\t\tvar me = this;\n\t\tvar chart = me.chart;\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !chart.options.plugins.streaming) {\n\t\t\tTimeScale.prototype.draw.apply(me, arguments);\n\t\t\treturn;\n\t\t}\n\n\t\tvar context = me.ctx;\n\t\tvar\tclipArea = me.isHorizontal() ?\n\t\t\t{\n\t\t\t\tleft: chartArea.left,\n\t\t\t\ttop: 0,\n\t\t\t\tright: chartArea.right,\n\t\t\t\tbottom: chart.height\n\t\t\t} : {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: chartArea.top,\n\t\t\t\tright: chart.width,\n\t\t\t\tbottom: chartArea.bottom\n\t\t\t};\n\n\t\tme._gridLineItems = null;\n\t\tme._labelItems = null;\n\n\t\t// Clip and draw the scale\n\t\tcanvasHelpers$1.clipArea(context, clipArea);\n\t\tTimeScale.prototype.draw.apply(me, arguments);\n\t\tcanvasHelpers$1.unclipArea(context);\n\t},\n\n\tdestroy: function() {\n\t\tvar me = this;\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tStreamingHelper.stopFrameRefreshTimer(me.realtime);\n\t\tstopDataRefreshTimer(me);\n\t},\n\n\t/*\n\t * @private\n\t */\n\t_getTimeForIndex: function(index, datasetIndex) {\n\t\tvar me = this;\n\t\tvar timestamps = me._timestamps;\n\t\tvar time = timestamps.datasets[datasetIndex][index];\n\t\tvar value;\n\n\t\tif (helpers$1.isNullOrUndef(time)) {\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\n\t\t\tif (helpers$1.isObject(value)) {\n\t\t\t\ttime = parse(me, value);\n\t\t\t} else {\n\t\t\t\ttime = parse(me, timestamps.labels[index]);\n\t\t\t}\n\t\t}\n\n\t\treturn time;\n\t}\n});\n\nscaleService.registerScaleType('realtime', RealTimeScale, defaultConfig);\n\nvar helpers = Chart__default['default'].helpers;\nvar canvasHelpers = helpers.canvas;\n\nChart__default['default'].defaults.global.plugins.streaming = {\n\tduration: 10000,\n\tdelay: 0,\n\tframeRate: 30,\n\trefresh: 1000,\n\tonRefresh: null,\n\tpause: false,\n\tttl: undefined\n};\n\n// Ported from Chart.js 2.9.4 d6a5ea0. Modified for realtime scale.\nChart__default['default'].defaults.global.legend.onClick = function(e, legendItem) {\n\tvar index = legendItem.datasetIndex;\n\tvar ci = this.chart;\n\tvar meta = ci.getDatasetMeta(index);\n\n\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\n\tci.update({duration: 0});\n};\n\nfunction getAxisMap(element, keys, meta) {\n\tvar axisMap = {};\n\n\thelpers.each(keys.x, function(key) {\n\t\taxisMap[key] = {axisId: meta.xAxisID};\n\t});\n\thelpers.each(keys.y, function(key) {\n\t\taxisMap[key] = {axisId: meta.yAxisID};\n\t});\n\treturn axisMap;\n}\n\nvar transitionKeys = {\n\tx: ['x', 'controlPointPreviousX', 'controlPointNextX', 'caretX'],\n\ty: ['y', 'controlPointPreviousY', 'controlPointNextY', 'caretY']\n};\n\nfunction updateElements(chart) {\n\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\tvar elements = meta.data || [];\n\t\tvar element = meta.dataset;\n\t\tvar i, ilen;\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\telements[i]._streaming = getAxisMap(elements[i], transitionKeys, meta);\n\t\t}\n\t\tif (element) {\n\t\t\telement._streaming = getAxisMap(element, transitionKeys, meta);\n\t\t}\n\t});\n}\n\n/**\n * Update the chart keeping the current animation but suppressing a new one\n * @param {object} config - animation options\n */\nfunction update(config) {\n\tvar me = this;\n\tvar preservation = config && config.preservation;\n\tvar tooltip, lastActive, tooltipLastActive, lastMouseEvent, legend, legendUpdate;\n\n\tif (preservation) {\n\t\ttooltip = me.tooltip;\n\t\tlastActive = me.lastActive;\n\t\ttooltipLastActive = tooltip._lastActive;\n\t\tme._bufferedRender = true;\n\t\tlegend = me.legend;\n\n\t\t// Skip legend update\n\t\tif (legend) {\n\t\t\tlegendUpdate = legend.update;\n\t\t\tlegend.update = helpers.noop;\n\t\t}\n\t}\n\n\tChart__default['default'].prototype.update.apply(me, arguments);\n\n\tif (preservation) {\n\t\tme._bufferedRender = false;\n\t\tme._bufferedRequest = null;\n\t\tme.lastActive = lastActive;\n\t\ttooltip._lastActive = tooltipLastActive;\n\n\t\tif (legend) {\n\t\t\tlegend.update = legendUpdate;\n\t\t}\n\n\t\tif (me.animating) {\n\t\t\t// If the chart is animating, keep it until the duration is over\n\t\t\tChart__default['default'].animationService.animations.forEach(function(animation) {\n\t\t\t\tif (animation.chart === me) {\n\t\t\t\t\tme.render({\n\t\t\t\t\t\tduration: (animation.numSteps - animation.currentStep) * 16.66\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// If the chart is not animating, make sure that all elements are at the final positions\n\t\t\tme.data.datasets.forEach(function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.transition(1);\n\t\t\t});\n\t\t}\n\n\t\tif (tooltip._active) {\n\t\t\ttooltip.update(true);\n\t\t}\n\n\t\tlastMouseEvent = me.streaming.lastMouseEvent;\n\t\tif (lastMouseEvent) {\n\t\t\tme.eventHandler(lastMouseEvent);\n\t\t}\n\t}\n}\n\nfunction tooltipUpdate() {\n\tvar me = this;\n\tvar element = me._active && me._active[0];\n\tvar meta;\n\n\tif (element) {\n\t\tmeta = me._chart.getDatasetMeta(element._datasetIndex);\n\t\tme._streaming = getAxisMap(me, transitionKeys, meta);\n\t} else {\n\t\tme._streaming = {};\n\t}\n\n\treturn Chart__default['default'].Tooltip.prototype.update.apply(me, arguments);\n}\n\n// Draw chart at frameRate\nfunction drawChart(chart) {\n\tvar streaming = chart.streaming;\n\tvar frameRate = chart.options.plugins.streaming.frameRate;\n\tvar frameDuration = 1000 / (Math.max(frameRate, 0) || 30);\n\tvar next = streaming.lastDrawn + frameDuration || 0;\n\tvar now = Date.now();\n\tvar lastMouseEvent = streaming.lastMouseEvent;\n\n\tif (next <= now) {\n\t\t// Draw only when animation is inactive\n\t\tif (!chart.animating && !chart.tooltip._start) {\n\t\t\tchart.draw();\n\t\t}\n\t\tif (lastMouseEvent) {\n\t\t\tchart.eventHandler(lastMouseEvent);\n\t\t}\n\t\tstreaming.lastDrawn = (next + frameDuration > now) ? next : now;\n\t}\n}\n\nvar StreamingPlugin = {\n\tid: 'streaming',\n\n\tbeforeInit: function(chart) {\n\t\tvar streaming = chart.streaming = chart.streaming || {};\n\t\tvar canvas = streaming.canvas = chart.canvas;\n\t\tvar mouseEventListener = streaming.mouseEventListener = function(event) {\n\t\t\tvar pos = helpers.getRelativePosition(event, chart);\n\t\t\tstreaming.lastMouseEvent = {\n\t\t\t\ttype: 'mousemove',\n\t\t\t\tchart: chart,\n\t\t\t\tnative: event,\n\t\t\t\tx: pos.x,\n\t\t\t\ty: pos.y\n\t\t\t};\n\t\t};\n\n\t\tcanvas.addEventListener('mousedown', mouseEventListener);\n\t\tcanvas.addEventListener('mouseup', mouseEventListener);\n\t},\n\n\tafterInit: function(chart) {\n\t\tchart.update = update;\n\t\tchart.tooltip.update = tooltipUpdate;\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar chartOpts = chart.options;\n\t\tvar scalesOpts = chartOpts.scales;\n\n\t\tif (scalesOpts) {\n\t\t\thelpers.each(scalesOpts.xAxes.concat(scalesOpts.yAxes), function(scaleOpts) {\n\t\t\t\tif (scaleOpts.type === 'realtime' || scaleOpts.type === 'time') {\n\t\t\t\t\t// Allow BÃ©zier control to be outside the chart\n\t\t\t\t\tchartOpts.elements.line.capBezierPoints = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (chart.annotation) {\n\t\t\tAnnotationPlugin.attachChart(chart);\n\t\t} else {\n\t\t\tAnnotationPlugin.detachChart(chart);\n\t\t}\n\n\t\tif (chart.resetZoom) {\n\t\t\tZoomPlugin.attachChart(chart);\n\t\t} else {\n\t\t\tZoomPlugin.detachChart(chart);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tafterUpdate: function(chart) {\n\t\tvar streaming = chart.streaming;\n\t\tvar pause = true;\n\n\t\tupdateElements(chart);\n\n\t\t// if all scales are paused, stop refreshing frames\n\t\thelpers.each(chart.scales, function(scale) {\n\t\t\tif (scale instanceof RealTimeScale) {\n\t\t\t\tpause &= StreamingHelper.resolveOption(scale, 'pause');\n\t\t\t}\n\t\t});\n\t\tif (pause) {\n\t\t\tStreamingHelper.stopFrameRefreshTimer(streaming);\n\t\t} else {\n\t\t\tStreamingHelper.startFrameRefreshTimer(streaming, function() {\n\t\t\t\tdrawChart(chart);\n\t\t\t});\n\t\t}\n\t},\n\n\tbeforeDatasetDraw: function(chart, args) {\n\t\tvar meta = args.meta;\n\t\tvar chartArea = chart.chartArea;\n\t\tvar clipArea = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: chart.width,\n\t\t\tbottom: chart.height\n\t\t};\n\t\tif (meta.xAxisID && meta.controller.getScaleForId(meta.xAxisID) instanceof RealTimeScale) {\n\t\t\tclipArea.left = chartArea.left;\n\t\t\tclipArea.right = chartArea.right;\n\t\t}\n\t\tif (meta.yAxisID && meta.controller.getScaleForId(meta.yAxisID) instanceof RealTimeScale) {\n\t\t\tclipArea.top = chartArea.top;\n\t\t\tclipArea.bottom = chartArea.bottom;\n\t\t}\n\t\tcanvasHelpers.clipArea(chart.ctx, clipArea);\n\t\treturn true;\n\t},\n\n\tafterDatasetDraw: function(chart) {\n\t\tcanvasHelpers.unclipArea(chart.ctx);\n\t},\n\n\tbeforeEvent: function(chart, event) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (event.type === 'mousemove') {\n\t\t\t// Save mousemove event for reuse\n\t\t\tstreaming.lastMouseEvent = event;\n\t\t} else if (event.type === 'mouseout') {\n\t\t\t// Remove mousemove event\n\t\t\tdelete streaming.lastMouseEvent;\n\t\t}\n\t\treturn true;\n\t},\n\n\tdestroy: function(chart) {\n\t\tvar streaming = chart.streaming;\n\t\tvar canvas = streaming.canvas;\n\t\tvar mouseEventListener = streaming.mouseEventListener;\n\n\t\tStreamingHelper.stopFrameRefreshTimer(streaming);\n\n\t\tdelete chart.update;\n\t\tdelete chart.tooltip.update;\n\n\t\tcanvas.removeEventListener('mousedown', mouseEventListener);\n\t\tcanvas.removeEventListener('mouseup', mouseEventListener);\n\n\t\thelpers.each(chart.scales, function(scale) {\n\t\t\tif (scale instanceof RealTimeScale) {\n\t\t\t\tscale.destroy();\n\t\t\t}\n\t\t});\n\t}\n};\n\nChart__default['default'].helpers.streaming = StreamingHelper;\n\nChart__default['default'].plugins.register(StreamingPlugin);\n\nreturn StreamingPlugin;\n\n})));\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;EAC5B,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DA,MAAM,CAACD,OAAP,GAAiBD,OAAO,CAACG,OAAO,CAAC,UAAD,CAAR,EAAsBA,OAAO,CAAC,QAAD,CAA7B,CAAvF,GACA,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAAC,CAAC,UAAD,EAAa,QAAb,CAAD,EAAyBJ,OAAzB,CAAnD,IACCD,MAAM,GAAG,OAAOO,UAAP,KAAsB,WAAtB,GAAoCA,UAApC,GAAiDP,MAAM,IAAIQ,IAApE,EAA0ER,MAAM,CAACS,cAAP,GAAwBR,OAAO,CAACD,MAAM,CAACU,KAAR,EAAeV,MAAM,CAACW,MAAtB,CAD1G,CADA;AAGC,CAJA,EAIC,IAJD,EAIQ,UAAUD,KAAV,EAAiBC,MAAjB,EAAyB;EAAE;;EAEpC,SAASC,qBAAT,CAAgCC,CAAhC,EAAmC;IAAE,OAAOA,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAlB,IAA8B,aAAaA,CAA3C,GAA+CA,CAA/C,GAAmD;MAAE,WAAWA;IAAb,CAA1D;EAA6E;;EAElH,IAAIC,cAAc,GAAG,aAAaF,qBAAqB,CAACF,KAAD,CAAvD;;EACA,IAAIK,eAAe,GAAG,aAAaH,qBAAqB,CAACD,MAAD,CAAxD;;EAEA,IAAIK,SAAS,GAAGF,cAAc,CAAC,SAAD,CAAd,CAA0BG,OAA1C;;EAEA,IAAIC,eAAe,GAAI,YAAW;IACjC,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;MAClC,OAAOA,MAAM,CAACC,oBAAP,IACND,MAAM,CAACE,0BADD,IAENF,MAAM,CAACG,uBAFD,IAGNH,MAAM,CAACI,qBAHD,IAINJ,MAAM,CAACK,sBAJD,IAKN,UAASC,EAAT,EAAa;QACZ,OAAON,MAAM,CAACO,YAAP,CAAoBD,EAApB,CAAP;MACA,CAPF;IAQA;EACD,CAXsB,EAAvB;;EAaA,IAAIE,eAAe,GAAG;IAErBC,aAFqB,yBAEPC,KAFO,EAEAC,GAFA,EAEK;MACzB,IAAIC,YAAY,GAAGF,KAAK,CAACG,OAAN,CAAcC,QAAjC;MACA,IAAIC,aAAa,GAAGL,KAAK,CAACM,KAAN,CAAYH,OAAZ,CAAoBI,OAApB,CAA4BC,SAAhD;MACA,OAAOrB,SAAS,CAACsB,cAAV,CAAyBP,YAAY,CAACD,GAAD,CAArC,EAA4CI,aAAa,CAACJ,GAAD,CAAzD,CAAP;IACA,CANoB;IAQrBS,sBAAsB,EAAE,gCAASC,OAAT,EAAkBC,IAAlB,EAAwB;MAC/C,IAAI,CAACD,OAAO,CAACE,cAAb,EAA6B;QAC5B,IAAIC,YAAY,GAAG,SAAfA,YAAe,GAAW;UAC7BF,IAAI;UACJD,OAAO,CAACE,cAAR,GAAyB1B,SAAS,CAAC4B,gBAAV,CAA2BC,IAA3B,CAAgC1B,MAAhC,EAAwCwB,YAAxC,CAAzB;QACA,CAHD;;QAIAH,OAAO,CAACE,cAAR,GAAyB1B,SAAS,CAAC4B,gBAAV,CAA2BC,IAA3B,CAAgC1B,MAAhC,EAAwCwB,YAAxC,CAAzB;MACA;IACD,CAhBoB;IAkBrBG,qBAAqB,EAAE,+BAASN,OAAT,EAAkB;MACxC,IAAIE,cAAc,GAAGF,OAAO,CAACE,cAA7B;;MAEA,IAAIA,cAAJ,EAAoB;QACnBxB,eAAe,CAAC2B,IAAhB,CAAqB1B,MAArB,EAA6BuB,cAA7B;QACA,OAAOF,OAAO,CAACE,cAAf;MACA;IACD;EAzBoB,CAAtB;;EA6BA,SAASK,OAAT,CAAiBC,QAAjB,EAA2B;IAC1B,IAAIA,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAP,KAAoB,WAA7C,EAA0D;MACzD,OAAO,KAAP;IACA,CAFD,MAEO,IAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;MACxC,OAAOC,QAAQ,CAACD,QAAD,CAAf;IACA;;IACD,OAAO,CAAC,CAACA,QAAT;EACA;;EAED,SAASE,UAAT,CAAoBrB,KAApB,EAA2BsB,KAA3B,EAAkCC,QAAlC,EAA4C;IAC3C,OAAOL,OAAO,CAACI,KAAD,CAAP,GACN;MAACA,KAAK,EAAEtB,KAAK,CAACwB,gBAAN,CAAuBF,KAAvB,CAAR;MAAuCG,cAAc,EAAE;IAAvD,CADM,GAEN;MAACH,KAAK,EAAEC;IAAR,CAFD;EAGA;;EAED,SAASG,mBAAT,CAA6BC,OAA7B,EAAsC;IACrC,IAAIrB,KAAK,GAAGqB,OAAO,CAACC,aAApB;IACA,IAAIzB,OAAO,GAAGwB,OAAO,CAACxB,OAAtB;IACA,IAAI0B,MAAM,GAAGvB,KAAK,CAACuB,MAAnB;IACA,IAAIC,SAAS,GAAGxB,KAAK,CAACwB,SAAtB;IACA,IAAIC,QAAQ,GAAG5B,OAAO,CAAC4B,QAAvB;IACA,IAAIC,QAAQ,GAAG7B,OAAO,CAAC6B,QAAvB;IACA,IAAIC,MAAM,GAAGJ,MAAM,CAACE,QAAD,CAAnB;IACA,IAAIG,MAAM,GAAGL,MAAM,CAACG,QAAD,CAAnB;IACA,IAAIxB,SAAS,GAAGmB,OAAO,CAACQ,UAAR,GAAqB,EAArC;IACA,IAAIC,GAAJ,EAASC,GAAT,EAAcC,OAAd;;IAEA,IAAIL,MAAJ,EAAY;MACXG,GAAG,GAAGf,UAAU,CAACY,MAAD,EAAS9B,OAAO,CAACoC,IAAjB,EAAuBT,SAAS,CAACU,IAAjC,CAAhB;MACAH,GAAG,GAAGhB,UAAU,CAACY,MAAD,EAAS9B,OAAO,CAACsC,IAAjB,EAAuBX,SAAS,CAACY,KAAjC,CAAhB;MACAJ,OAAO,GAAGF,GAAG,CAACd,KAAJ,GAAYe,GAAG,CAACf,KAA1B;;MAEA,IAAIc,GAAG,CAACX,cAAR,EAAwB;QACvBjB,SAAS,CAAC8B,OAAO,GAAG,OAAH,GAAa,MAArB,CAAT,GAAwC;UAACK,MAAM,EAAEZ;QAAT,CAAxC;MACA;;MACD,IAAIM,GAAG,CAACZ,cAAR,EAAwB;QACvBjB,SAAS,CAAC8B,OAAO,GAAG,MAAH,GAAY,OAApB,CAAT,GAAwC;UAACK,MAAM,EAAEZ;QAAT,CAAxC;MACA;IACD;;IAED,IAAIG,MAAJ,EAAY;MACXE,GAAG,GAAGf,UAAU,CAACa,MAAD,EAAS/B,OAAO,CAACyC,IAAjB,EAAuBd,SAAS,CAACe,GAAjC,CAAhB;MACAR,GAAG,GAAGhB,UAAU,CAACa,MAAD,EAAS/B,OAAO,CAAC2C,IAAjB,EAAuBhB,SAAS,CAACiB,MAAjC,CAAhB;MACAT,OAAO,GAAGF,GAAG,CAACd,KAAJ,GAAYe,GAAG,CAACf,KAA1B;;MAEA,IAAIc,GAAG,CAACX,cAAR,EAAwB;QACvBjB,SAAS,CAAC8B,OAAO,GAAG,QAAH,GAAc,KAAtB,CAAT,GAAwC;UAACK,MAAM,EAAEX;QAAT,CAAxC;MACA;;MACD,IAAIK,GAAG,CAACZ,cAAR,EAAwB;QACvBjB,SAAS,CAAC8B,OAAO,GAAG,KAAH,GAAW,QAAnB,CAAT,GAAwC;UAACK,MAAM,EAAEX;QAAT,CAAxC;MACA;IACD;EACD;;EAED,SAASgB,oBAAT,CAA8BrB,OAA9B,EAAuC;IACtC,IAAIrB,KAAK,GAAGqB,OAAO,CAACC,aAApB;IACA,IAAIzB,OAAO,GAAGwB,OAAO,CAACxB,OAAtB;IACA,IAAI8C,OAAO,GAAG9C,OAAO,CAAC8C,OAAtB;IACA,IAAI3B,KAAK,GAAGnB,OAAO,CAACmB,KAApB;IACA,IAAItB,KAAK,GAAGM,KAAK,CAACuB,MAAN,CAAaoB,OAAb,CAAZ;IACA,IAAIzC,SAAS,GAAGmB,OAAO,CAACQ,UAAR,GAAqB,EAArC;;IAEA,IAAInC,KAAJ,EAAW;MACV,IAAIkD,YAAY,GAAGlD,KAAK,CAACkD,YAAN,EAAnB;MACA,IAAIC,KAAK,GAAG9B,UAAU,CAACrB,KAAD,EAAQsB,KAAR,CAAtB;;MAEA,IAAI6B,KAAK,CAAC1B,cAAV,EAA0B;QACzBjB,SAAS,CAAC0C,YAAY,GAAG,IAAH,GAAU,IAAvB,CAAT,GAAwC;UAACP,MAAM,EAAEM;QAAT,CAAxC;QACAzC,SAAS,CAAC0C,YAAY,GAAG,IAAH,GAAU,IAAvB,CAAT,GAAwC;UAACP,MAAM,EAAEM;QAAT,CAAxC;QACAzC,SAAS,CAAC0C,YAAY,GAAG,QAAH,GAAc,QAA3B,CAAT,GAAgD;UAACP,MAAM,EAAEM;QAAT,CAAhD;MACA;IACD;EACD;;EAED,SAASG,oBAAT,GAAgC;IAC/B,IAAIC,aAAa,GAAGpE,cAAc,CAAC,SAAD,CAAd,CAA0BqE,UAA1B,CAAqCC,KAArC,CAA2CC,GAA/D;IACA,IAAIC,cAAc,GAAGxE,cAAc,CAAC,SAAD,CAAd,CAA0BqE,UAA1B,CAAqCC,KAArC,CAA2CG,IAAhE;IACA,IAAIC,sBAAsB,GAAGN,aAAa,CAACO,SAAd,CAAwBC,SAArD;IACA,IAAIC,uBAAuB,GAAGL,cAAc,CAACG,SAAf,CAAyBC,SAAvD;;IAEAR,aAAa,CAACO,SAAd,CAAwBC,SAAxB,GAAoC,YAAW;MAC9CnC,mBAAmB,CAAC,IAAD,CAAnB;MACA,OAAOiC,sBAAsB,CAAC3C,IAAvB,CAA4B,IAA5B,CAAP;IACA,CAHD;;IAKAyC,cAAc,CAACG,SAAf,CAAyBC,SAAzB,GAAqC,YAAW;MAC/Cb,oBAAoB,CAAC,IAAD,CAApB;MACA,OAAOc,uBAAuB,CAAC9C,IAAxB,CAA6B,IAA7B,CAAP;IACA,CAHD;EAIA;;EAED,IAAI+C,gBAAgB,GAAG;IACtBC,WADsB,uBACV1D,KADU,EACH;MAClB,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;;MAEA,IAAI,CAACA,SAAS,CAACyD,gBAAf,EAAiC;QAChCb,oBAAoB;QACpB5C,SAAS,CAACyD,gBAAV,GAA6B,IAA7B;MACA;IACD,CARqB;IAUtBC,WAVsB,uBAUV5D,KAVU,EAUH;MAClB,IAAI6D,UAAU,GAAG7D,KAAK,CAAC6D,UAAvB;;MAEA,IAAIA,UAAJ,EAAgB;QACf,IAAIC,QAAQ,GAAGD,UAAU,CAACC,QAA1B;QACA,OAAOC,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,GAAtB,CAA0B,UAAS3E,EAAT,EAAa;UAC7C,OAAOwE,QAAQ,CAACxE,EAAD,CAAf;QACA,CAFM,CAAP;MAGA;;MACD,OAAO,EAAP;IACA,CApBqB;IAsBtB4E,WAtBsB,uBAsBVlE,KAtBU,EAsBH;MAClB,OAAOA,KAAK,CAACE,SAAN,CAAgByD,gBAAvB;IACA;EAxBqB,CAAvB;EA2BA,IAAIQ,SAAS,GAAGxF,cAAc,CAAC,SAAD,CAAd,CAA0BG,OAA1C,CAzKkC,CA2KlC;;EACA,IAAIsF,MAAM,GAAGzF,cAAc,CAAC,SAAD,CAAd,CAA0B0F,IAA1B,GAAiC1F,cAAc,CAAC,SAAD,CAAd,CAA0B0F,IAA1B,IAAkC,EAAhF,CA5KkC,CA8KlC;;EACAD,MAAM,CAACE,aAAP,GAAuBF,MAAM,CAACE,aAAP,IAAwB,EAA/C;EACAF,MAAM,CAACG,YAAP,GAAsBH,MAAM,CAACG,YAAP,IAAuB,EAA7C,CAhLkC,CAkLlC;;EACA,SAASC,eAAT,CAAyBC,cAAzB,EAAyCC,MAAzC,EAAiD;IAChD,IAAID,cAAc,CAACE,SAAf,IAA4BF,cAAc,CAACG,QAA3C,IACF,CAACT,SAAS,CAACU,aAAV,CAAwBJ,cAAc,CAACG,QAAf,CAAwBH,cAAc,CAACE,SAAvC,CAAxB,CADH,EAC+E;MAC9E,IAAIC,QAAQ,GAAGH,cAAc,CAACG,QAAf,CAAwBH,cAAc,CAACE,SAAvC,CAAf;;MACA,IAAID,MAAM,GAAGE,QAAb,EAAuB;QACtBF,MAAM,GAAGE,QAAT;MACA;IACD;;IACD,OAAOF,MAAP;EACA,CA5LiC,CA8LlC;;;EACA,SAASI,eAAT,CAAyBL,cAAzB,EAAyCM,MAAzC,EAAiD;IAChD,IAAIN,cAAc,CAACE,SAAf,IAA4BF,cAAc,CAACO,QAA3C,IACF,CAACb,SAAS,CAACU,aAAV,CAAwBJ,cAAc,CAACO,QAAf,CAAwBP,cAAc,CAACE,SAAvC,CAAxB,CADH,EAC+E;MAC9E,IAAIK,QAAQ,GAAGP,cAAc,CAACO,QAAf,CAAwBP,cAAc,CAACE,SAAvC,CAAf;;MACA,IAAII,MAAM,GAAGC,QAAb,EAAuB;QACtBD,MAAM,GAAGC,QAAT;MACA;IACD;;IACD,OAAOD,MAAP;EACA;;EAED,SAASE,iBAAT,CAA2BvF,KAA3B,EAAkCwF,IAAlC,EAAwCC,MAAxC,EAAgDC,WAAhD,EAA6D;IAC5D,IAAIxF,YAAY,GAAGF,KAAK,CAACG,OAAN,CAAcC,QAAjC;IACA,IAAIuF,QAAQ,GAAG7F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,UAArC,CAAf;IACA,IAAI4F,KAAK,GAAG9F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAZ;IACA,IAAI6F,WAAW,GAAGF,QAAQ,IAAI,IAAIH,IAAR,CAA1B;IACA,IAAIM,UAAJ,EAAgBC,eAAhB;;IAEA,IAAI/F,KAAK,CAACkD,YAAN,EAAJ,EAA0B;MACzB4C,UAAU,GAAG,CAAC9F,KAAK,CAAC0C,KAAN,GAAc+C,MAAM,CAACO,CAAtB,KAA4BhG,KAAK,CAAC0C,KAAN,GAAc1C,KAAK,CAACwC,IAAhD,CAAb;IACA,CAFD,MAEO;MACNsD,UAAU,GAAG,CAAC9F,KAAK,CAAC+C,MAAN,GAAe0C,MAAM,CAACQ,CAAvB,KAA6BjG,KAAK,CAAC+C,MAAN,GAAe/C,KAAK,CAAC6C,GAAlD,CAAb;IACA;;IACD,IAAI2C,IAAI,GAAG,CAAX,EAAc;MACbO,eAAe,GAAGjB,eAAe,CAACY,WAAD,EAAcG,WAAd,CAAjC;IACA,CAFD,MAEO;MACNE,eAAe,GAAGX,eAAe,CAACM,WAAD,EAAcG,WAAd,CAAjC;IACA;;IACD3F,YAAY,CAACyF,QAAb,GAAwBI,eAAxB;IACA7F,YAAY,CAAC0F,KAAb,GAAqBA,KAAK,GAAGE,UAAU,IAAIH,QAAQ,GAAGI,eAAf,CAAvC;EACA;;EAED,SAASG,gBAAT,CAA0BlG,KAA1B,EAAiCmG,KAAjC,EAAwCC,UAAxC,EAAoD;IACnD,IAAIlG,YAAY,GAAGF,KAAK,CAACG,OAAN,CAAcC,QAAjC;IACA,IAAIwF,KAAK,GAAG9F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAZ;IACA,IAAIqG,QAAQ,GAAGT,KAAK,IAAI5F,KAAK,CAACsG,gBAAN,CAAuBH,KAAvB,IAAgCnG,KAAK,CAACsG,gBAAN,CAAuB,CAAvB,CAApC,CAApB;;IAEA,IAAIH,KAAK,GAAG,CAAZ,EAAe;MACdjG,YAAY,CAAC0F,KAAb,GAAqBd,eAAe,CAACsB,UAAD,EAAaC,QAAb,CAApC;IACA,CAFD,MAEO;MACNnG,YAAY,CAAC0F,KAAb,GAAqBR,eAAe,CAACgB,UAAD,EAAaC,QAAb,CAApC;IACA;EACD;;EAED,SAASE,eAAT,CAAyBjG,KAAzB,EAAgC;IAC/B;IACA,IAAIkF,IAAI,GAAGlF,KAAK,CAACkG,KAAN,IAAe;MAACC,gBAAgB,EAAE;IAAnB,CAA1B;IAEA,IAAIC,SAAS,GAAGpG,KAAK,CAACoG,SAAtB;IACA,IAAIC,MAAM,GAAGrG,KAAK,CAACqG,MAAnB;;IACA,IAAIC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAW;MACnCnC,SAAS,CAACoC,IAAV,CAAevG,KAAK,CAACuB,MAArB,EAA6B,UAAS7B,KAAT,EAAgB;QAC5C,IAAI8G,eAAe,GAAG9G,KAAK,CAACG,OAAN,CAAcC,QAApC;QACA,IAAI2G,eAAe,GAAGvB,IAAI,CAACiB,gBAAL,CAAsBzG,KAAK,CAACJ,EAA5B,KAAmCI,KAAK,CAAC+G,eAA/D;;QAEA,IAAID,eAAJ,EAAqB;UACpB,IAAIC,eAAJ,EAAqB;YACpBD,eAAe,CAACnB,QAAhB,GAA2BoB,eAAe,CAAC3G,QAAhB,CAAyBuF,QAApD;YACAmB,eAAe,CAAClB,KAAhB,GAAwBmB,eAAe,CAAC3G,QAAhB,CAAyBwF,KAAjD;UACA,CAHD,MAGO;YACN,OAAOkB,eAAe,CAACnB,QAAvB;YACA,OAAOmB,eAAe,CAAClB,KAAvB;UACA;QACD;MACD,CAbD;MAeAe,MAAM,CAAC3F,IAAP,CAAYV,KAAZ,EAAmB;QAClBqF,QAAQ,EAAE;MADQ,CAAnB;IAGA,CAnBD;;IAqBArF,KAAK,CAACoG,SAAN,GAAkB,YAAW;MAC5BpG,KAAK,CAACqG,MAAN,GAAeC,kBAAf;MACAF,SAAS;MACTpG,KAAK,CAACqG,MAAN,GAAeA,MAAf;IACA,CAJD;EAKA;;EAED,SAASK,cAAT,GAA0B;IACzBtC,MAAM,CAACE,aAAP,CAAqBxE,QAArB,GAAgCmF,iBAAhC;IACAb,MAAM,CAACG,YAAP,CAAoBzE,QAApB,GAA+B8F,gBAA/B;EACA;;EAED,IAAIe,UAAU,GAAG;IAChBjD,WADgB,uBACJ1D,KADI,EACG;MAClB,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;;MAEA,IAAI,CAACA,SAAS,CAAC0G,UAAf,EAA2B;QAC1BF,cAAc;QACdxG,SAAS,CAACkG,SAAV,GAAsBpG,KAAK,CAACoG,SAA5B;QACAH,eAAe,CAACjG,KAAD,CAAf;QACAE,SAAS,CAAC0G,UAAV,GAAuB,IAAvB;MACA;IACD,CAVe;IAYhB1C,WAZgB,uBAYJlE,KAZI,EAYG;MAClB,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;;MAEA,IAAIA,SAAS,CAAC0G,UAAd,EAA0B;QACzB5G,KAAK,CAACoG,SAAN,GAAkBlG,SAAS,CAACkG,SAA5B;QACA,OAAOlG,SAAS,CAACkG,SAAjB;QACA,OAAOlG,SAAS,CAAC0G,UAAjB;MACA;IACD;EApBe,CAAjB;EAuBA,IAAIC,SAAS,GAAGlI,cAAc,CAAC,SAAD,CAAd,CAA0BG,OAA1C;EACA,IAAIgI,eAAe,GAAGD,SAAS,CAACE,MAAhC;EACA,IAAIC,YAAY,GAAGrI,cAAc,CAAC,SAAD,CAAd,CAA0BqI,YAA7C;EACA,IAAIC,SAAS,GAAGD,YAAY,CAACE,mBAAb,CAAiC,MAAjC,CAAhB;;EAEAF,YAAY,CAACE,mBAAb,GAAmC,UAASC,IAAT,EAAe;IACjD;IACA,IAAIA,IAAI,KAAK,MAAb,EAAqB;MACpBA,IAAI,GAAG,UAAP;IACA;;IACD,OAAO,KAAKC,YAAL,CAAkBC,cAAlB,CAAiCF,IAAjC,IAAyC,KAAKC,YAAL,CAAkBD,IAAlB,CAAzC,GAAmEG,SAA1E;EACA,CAND,CA9SkC,CAsTlC;;;EACA,IAAIC,WAAW,GAAGC,MAAM,CAACC,gBAAP,IAA2B,gBAA7C,CAvTkC,CAyTlC;;EACA,IAAIC,SAAS,GAAG;IACfC,WAAW,EAAE;MACZC,MAAM,EAAE,IADI;MAEZC,IAAI,EAAE,CAFM;MAGZC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,EAAsB,GAAtB,EAA2B,GAA3B,EAAgC,GAAhC;IAHK,CADE;IAMfC,MAAM,EAAE;MACPH,MAAM,EAAE,IADD;MAEPC,IAAI,EAAE,IAFC;MAGPC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB;IAHA,CANO;IAWfE,MAAM,EAAE;MACPJ,MAAM,EAAE,IADD;MAEPC,IAAI,EAAE,KAFC;MAGPC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB;IAHA,CAXO;IAgBfG,IAAI,EAAE;MACLL,MAAM,EAAE,IADH;MAELC,IAAI,EAAE,OAFD;MAGLC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,EAAb;IAHF,CAhBS;IAqBfI,GAAG,EAAE;MACJN,MAAM,EAAE,IADJ;MAEJC,IAAI,EAAE,QAFF;MAGJC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;IAHH,CArBU;IA0BfK,IAAI,EAAE;MACLP,MAAM,EAAE,KADH;MAELC,IAAI,EAAE,SAFD;MAGLC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;IAHF,CA1BS;IA+BfM,KAAK,EAAE;MACNR,MAAM,EAAE,IADF;MAENC,IAAI,EAAE,OAFA;MAGNC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;IAHD,CA/BQ;IAoCfO,OAAO,EAAE;MACRT,MAAM,EAAE,KADA;MAERC,IAAI,EAAE,OAFE;MAGRC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;IAHC,CApCM;IAyCfQ,IAAI,EAAE;MACLV,MAAM,EAAE,IADH;MAELC,IAAI,EAAE;IAFD;EAzCS,CAAhB,CA1TkC,CAyWlC;;EACA,IAAIU,KAAK,GAAGxE,MAAM,CAACC,IAAP,CAAY0D,SAAZ,CAAZ,CA1WkC,CA4WlC;;EACA,IAAIc,cAAc,GAAG;IACpB;IACAC,KAAK,EAAE,eAASzH,KAAT,EAAgB0H,MAAhB,EAAwB;MAC9B,IAAI,OAAO1H,KAAP,KAAiB,QAAjB,IAA6B,OAAO0H,MAAP,KAAkB,QAAnD,EAA6D;QAC5D1H,KAAK,GAAGpC,eAAe,CAAC,SAAD,CAAf,CAA2BoC,KAA3B,EAAkC0H,MAAlC,CAAR;MACA,CAFD,MAEO,IAAI,EAAE1H,KAAK,YAAYpC,eAAe,CAAC,SAAD,CAAlC,CAAJ,EAAoD;QAC1DoC,KAAK,GAAGpC,eAAe,CAAC,SAAD,CAAf,CAA2BoC,KAA3B,CAAR;MACA;;MACD,OAAOA,KAAK,CAACJ,OAAN,KAAkBI,KAAK,CAAC2H,OAAN,EAAlB,GAAoC,IAA3C;IACA,CATmB;IAWpB;IACAC,GAAG,EAAE,aAASC,IAAT,EAAeC,MAAf,EAAuBC,IAAvB,EAA6B;MACjC,OAAOnK,eAAe,CAAC,SAAD,CAAf,CAA2BiK,IAA3B,EAAiCD,GAAjC,CAAqCE,MAArC,EAA6CC,IAA7C,EAAmDJ,OAAnD,EAAP;IACA,CAdmB;IAgBpB;IACAK,OAAO,EAAE,iBAASH,IAAT,EAAeE,IAAf,EAAqBE,OAArB,EAA8B;MACtCJ,IAAI,GAAGjK,eAAe,CAAC,SAAD,CAAf,CAA2BiK,IAA3B,CAAP;;MACA,IAAIE,IAAI,KAAK,SAAb,EAAwB;QACvB,OAAOF,IAAI,CAACK,UAAL,CAAgBD,OAAhB,EAAyBN,OAAzB,EAAP;MACA;;MACD,OAAOE,IAAI,CAACG,OAAL,CAAaD,IAAb,EAAmBJ,OAAnB,EAAP;IACA;EAvBmB,CAArB,CA7WkC,CAuYlC;;EACA,SAASQ,WAAT,CAAqBzJ,KAArB,EAA4B0J,KAA5B,EAAmC;IAClC,IAAIC,OAAO,GAAG3J,KAAK,CAAC4J,QAAN,IAAkBd,cAAhC;IACA,IAAI3I,OAAO,GAAGH,KAAK,CAACG,OAAN,CAAcgJ,IAA5B;IACA,IAAIU,MAAM,GAAG1J,OAAO,CAAC0J,MAArB;IACA,IAAIb,MAAM,GAAGa,MAAM,IAAI1J,OAAO,CAAC6I,MAA/B;IACA,IAAI1H,KAAK,GAAGoI,KAAZ;;IAEA,IAAI,OAAOG,MAAP,KAAkB,UAAtB,EAAkC;MACjCvI,KAAK,GAAGuI,MAAM,CAACvI,KAAD,CAAd;IACA,CATiC,CAWlC;;;IACA,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,EAAEA,KAAK,YAAYwG,MAAnB,CAA7B,IAA2D,CAAC1G,QAAQ,CAACE,KAAD,CAAxE,EAAiF;MAChFA,KAAK,GAAG,OAAO0H,MAAP,KAAkB,QAAlB,GACLW,OAAO,CAACZ,KAAR,CAAczH,KAAd,EAAqB0H,MAArB,CADK,GAELW,OAAO,CAACZ,KAAR,CAAczH,KAAd,CAFH;IAGA;;IAED,IAAIA,KAAK,KAAK,IAAd,EAAoB;MACnB,OAAO,CAACA,KAAR;IACA,CApBiC,CAsBlC;IACA;;;IACA,IAAI,CAACuI,MAAD,IAAW,OAAOb,MAAP,KAAkB,UAAjC,EAA6C;MAC5C1H,KAAK,GAAG0H,MAAM,CAACU,KAAD,CAAd,CAD4C,CAG5C;;MACA,IAAI,OAAOpI,KAAP,KAAiB,QAAjB,IAA6B,EAAEA,KAAK,YAAYwG,MAAnB,CAA7B,IAA2D,CAAC1G,QAAQ,CAACE,KAAD,CAAxE,EAAiF;QAChFA,KAAK,GAAGqI,OAAO,CAACZ,KAAR,CAAczH,KAAd,CAAR;MACA;IACD;;IAED,OAAOA,KAAP;EACA,CA1aiC,CA4alC;;;EACA,SAASyH,KAAT,CAAe/I,KAAf,EAAsB0J,KAAtB,EAA6B;IAC5B,IAAIvC,SAAS,CAAChC,aAAV,CAAwBuE,KAAxB,CAAJ,EAAoC;MACnC,OAAO,IAAP;IACA;;IAED,IAAIvJ,OAAO,GAAGH,KAAK,CAACG,OAAN,CAAcgJ,IAA5B;IACA,IAAI7H,KAAK,GAAGmI,WAAW,CAACzJ,KAAD,EAAQA,KAAK,CAAC8J,aAAN,CAAoBJ,KAApB,CAAR,CAAvB;;IACA,IAAIpI,KAAK,KAAK,IAAd,EAAoB;MACnB,OAAOA,KAAP;IACA;;IAED,IAAInB,OAAO,CAAC4J,KAAZ,EAAmB;MAClBzI,KAAK,GAAG,CAAC,CAACtB,KAAK,CAAC4J,QAAN,IAAkBd,cAAnB,EAAmCQ,OAAnC,CAA2ChI,KAA3C,EAAkDnB,OAAO,CAAC4J,KAA1D,CAAT;IACA;;IAED,OAAOzI,KAAP;EACA,CA7biC,CA+blC;;;EACA,SAAS0I,iBAAT,CAA2B5H,GAA3B,EAAgCC,GAAhC,EAAqCgH,IAArC,EAA2CY,QAA3C,EAAqD;IACpD,IAAIC,KAAK,GAAG7H,GAAG,GAAGD,GAAlB;IACA,IAAI+H,QAAQ,GAAGnC,SAAS,CAACqB,IAAD,CAAxB;IACA,IAAIe,YAAY,GAAGD,QAAQ,CAAChC,IAA5B;IACA,IAAIC,KAAK,GAAG+B,QAAQ,CAAC/B,KAArB;IACA,IAAIiC,CAAJ,EAAOC,IAAP,EAAaC,MAAb;;IAEA,IAAI,CAACnC,KAAL,EAAY;MACX,OAAOoC,IAAI,CAACC,IAAL,CAAUP,KAAK,IAAID,QAAQ,GAAGG,YAAf,CAAf,CAAP;IACA;;IAED,KAAKC,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGlC,KAAK,CAACsC,MAAzB,EAAiCL,CAAC,GAAGC,IAArC,EAA2C,EAAED,CAA7C,EAAgD;MAC/CE,MAAM,GAAGnC,KAAK,CAACiC,CAAD,CAAd;;MACA,IAAIG,IAAI,CAACC,IAAL,CAAUP,KAAK,IAAIE,YAAY,GAAGG,MAAnB,CAAf,KAA8CN,QAAlD,EAA4D;QAC3D;MACA;IACD;;IAED,OAAOM,MAAP;EACA,CAndiC,CAqdlC;;;EACA,SAASI,yBAAT,CAAmCC,OAAnC,EAA4CxI,GAA5C,EAAiDC,GAAjD,EAAsD4H,QAAtD,EAAgE;IAC/D,IAAIK,IAAI,GAAGzB,KAAK,CAAC6B,MAAjB;IACA,IAAIL,CAAJ,EAAOF,QAAP,EAAiBI,MAAjB;;IAEA,KAAKF,CAAC,GAAGxB,KAAK,CAACgC,OAAN,CAAcD,OAAd,CAAT,EAAiCP,CAAC,GAAGC,IAAI,GAAG,CAA5C,EAA+C,EAAED,CAAjD,EAAoD;MACnDF,QAAQ,GAAGnC,SAAS,CAACa,KAAK,CAACwB,CAAD,CAAN,CAApB;MACAE,MAAM,GAAGJ,QAAQ,CAAC/B,KAAT,GAAiB+B,QAAQ,CAAC/B,KAAT,CAAe+B,QAAQ,CAAC/B,KAAT,CAAesC,MAAf,GAAwB,CAAvC,CAAjB,GAA6D7C,WAAtE;;MAEA,IAAIsC,QAAQ,CAACjC,MAAT,IAAmBsC,IAAI,CAACC,IAAL,CAAU,CAACpI,GAAG,GAAGD,GAAP,KAAemI,MAAM,GAAGJ,QAAQ,CAAChC,IAAjC,CAAV,KAAqD8B,QAA5E,EAAsF;QACrF,OAAOpB,KAAK,CAACwB,CAAD,CAAZ;MACA;IACD;;IAED,OAAOxB,KAAK,CAACyB,IAAI,GAAG,CAAR,CAAZ;EACA,CApeiC,CAselC;;;EACA,SAASQ,kBAAT,CAA4BzB,IAA5B,EAAkC;IACjC,KAAK,IAAIgB,CAAC,GAAGxB,KAAK,CAACgC,OAAN,CAAcxB,IAAd,IAAsB,CAA9B,EAAiCiB,IAAI,GAAGzB,KAAK,CAAC6B,MAAnD,EAA2DL,CAAC,GAAGC,IAA/D,EAAqE,EAAED,CAAvE,EAA0E;MACzE,IAAIrC,SAAS,CAACa,KAAK,CAACwB,CAAD,CAAN,CAAT,CAAoBnC,MAAxB,EAAgC;QAC/B,OAAOW,KAAK,CAACwB,CAAD,CAAZ;MACA;IACD;EACD,CA7eiC,CA+elC;;;EACA,SAASU,QAAT,CAAkB/K,KAAlB,EAAyBoC,GAAzB,EAA8BC,GAA9B,EAAmC4H,QAAnC,EAA6C;IAC5C,IAAIN,OAAO,GAAG3J,KAAK,CAAC4J,QAAN,IAAkBd,cAAhC;IACA,IAAI3I,OAAO,GAAGH,KAAK,CAACG,OAApB;IACA,IAAI6K,QAAQ,GAAG7K,OAAO,CAACgJ,IAAvB;IACA,IAAI8B,KAAK,GAAGD,QAAQ,CAAC3B,IAAT,IAAiBsB,yBAAyB,CAACK,QAAQ,CAACJ,OAAV,EAAmBxI,GAAnB,EAAwBC,GAAxB,EAA6B4H,QAA7B,CAAtD;IACA,IAAIiB,KAAK,GAAGJ,kBAAkB,CAACG,KAAD,CAA9B;IACA,IAAIE,QAAQ,GAAGhE,SAAS,CAAC1G,cAAV,CAAyBuK,QAAQ,CAACG,QAAlC,EAA4CH,QAAQ,CAACI,YAArD,CAAf;IACA,IAAI7B,OAAO,GAAG0B,KAAK,KAAK,MAAV,GAAmBD,QAAQ,CAACxB,UAA5B,GAAyC,KAAvD;IACA,IAAI6B,iBAAiB,GAAGlL,OAAO,CAACmL,KAAR,CAAcJ,KAAd,CAAoBK,OAA5C;IACA,IAAIpB,QAAQ,GAAGnC,SAAS,CAACiD,KAAD,CAAxB;IACA,IAAIO,KAAK,GAAGpJ,GAAZ;IACA,IAAIqJ,IAAI,GAAGpJ,GAAX;IACA,IAAIiJ,KAAK,GAAG,EAAZ;IACA,IAAInC,IAAJ;;IAEA,IAAI,CAACgC,QAAL,EAAe;MACdA,QAAQ,GAAGnB,iBAAiB,CAAC5H,GAAD,EAAMC,GAAN,EAAW4I,KAAX,EAAkBhB,QAAlB,CAA5B;IACA,CAjB2C,CAmB5C;;;IACA,IAAIV,OAAJ,EAAa;MACZiC,KAAK,GAAG,CAAC7B,OAAO,CAACL,OAAR,CAAgBkC,KAAhB,EAAuB,SAAvB,EAAkCjC,OAAlC,CAAT;MACAkC,IAAI,GAAG,CAAC9B,OAAO,CAACL,OAAR,CAAgBmC,IAAhB,EAAsB,SAAtB,EAAiClC,OAAjC,CAAR;IACA,CAvB2C,CAyB5C;;;IACAiC,KAAK,GAAG,CAAC7B,OAAO,CAACL,OAAR,CAAgBkC,KAAhB,EAAuBjC,OAAO,GAAG,KAAH,GAAW0B,KAAzC,CAAT;IACAQ,IAAI,GAAG,CAAC9B,OAAO,CAACL,OAAR,CAAgBmC,IAAhB,EAAsBlC,OAAO,GAAG,KAAH,GAAW0B,KAAxC,CAAR,CA3B4C,CA6B5C;;IACA,IAAIQ,IAAI,GAAGpJ,GAAX,EAAgB;MACfoJ,IAAI,GAAG,CAAC9B,OAAO,CAACT,GAAR,CAAYuC,IAAZ,EAAkB,CAAlB,EAAqBR,KAArB,CAAR;IACA;;IAED9B,IAAI,GAAGqC,KAAP;;IAEA,IAAIH,iBAAiB,IAAIH,KAArB,IAA8B,CAAC3B,OAA/B,IAA0C,CAACyB,QAAQ,CAACjB,KAAxD,EAA+D;MAC9D;MACA;MACA;MACAZ,IAAI,GAAG,CAACQ,OAAO,CAACL,OAAR,CAAgBH,IAAhB,EAAsB+B,KAAtB,CAAR;MACA/B,IAAI,GAAG,CAACQ,OAAO,CAACT,GAAR,CAAYC,IAAZ,EAAkB,CAAC,EAAE,CAACqC,KAAK,GAAGrC,IAAT,KAAkBgB,QAAQ,CAAChC,IAAT,GAAgBgD,QAAlC,CAAF,CAAD,GAAkDA,QAApE,EAA8EF,KAA9E,CAAR;IACA;;IAED,OAAO9B,IAAI,GAAGsC,IAAd,EAAoBtC,IAAI,GAAG,CAACQ,OAAO,CAACT,GAAR,CAAYC,IAAZ,EAAkBgC,QAAlB,EAA4BF,KAA5B,CAA5B,EAAgE;MAC/DK,KAAK,CAACI,IAAN,CAAW,CAACvC,IAAZ;IACA;;IAEDmC,KAAK,CAACI,IAAN,CAAW,CAACvC,IAAZ;IAEA,OAAOmC,KAAP;EACA;;EAED,IAAIK,mBAAmB,GAAG,CACzB,sBADyB,EAEzB,kBAFyB,EAGzB,kBAHyB,EAIzB,aAJyB,EAKzB,eALyB,EAMzB,YANyB,EAOzB,gBAPyB,EAQzB,2BARyB,EASzB,uBATyB,EAUzB,uBAVyB,EAWzB,kBAXyB,EAYzB,iBAZyB,EAazB,aAbyB,EAczB,eAdyB,EAezB,aAfyB,EAgBzB,sBAhByB,EAiBzB,kBAjByB,EAkBzB,kBAlByB,EAmBzB,aAnByB,EAoBzB,WApByB,EAqBzB,QArByB,EAsBzB,UAtByB,CAA1B;;EAyBA,SAASC,WAAT,CAAqB5L,KAArB,EAA4B;IAC3B,IAAIM,KAAK,GAAGN,KAAK,CAACM,KAAlB;IACA,IAAIV,EAAE,GAAGI,KAAK,CAACJ,EAAf;IACA,IAAI+F,QAAQ,GAAG7F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,UAArC,CAAf;IACA,IAAI4F,KAAK,GAAG9F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAZ;IACA,IAAI6L,GAAG,GAAG/L,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,KAArC,CAAV;IACA,IAAI8L,KAAK,GAAGhM,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAZ;IACA,IAAI+L,SAAS,GAAGjM,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,WAArC,CAAhB;IACA,IAAIqC,GAAG,GAAGrC,KAAK,CAACqC,GAAhB;IACA,IAAID,GAAG,GAAG4J,IAAI,CAACC,GAAL,MAAcC,KAAK,CAACL,GAAD,CAAL,GAAalG,QAAQ,GAAGC,KAAxB,GAAgCiG,GAA9C,CAAV;IACA,IAAIM,IAAJ,EAAUC,IAAV,EAAgB1B,MAAhB,EAAwBL,CAAxB,EAA2BgC,KAA3B,EAAkCC,KAAlC,EAAyCC,YAAzC;;IAEA,IAAIR,SAAJ,EAAe;MACdA,SAAS,CAACzL,KAAD,CAAT;IACA,CAd0B,CAgB3B;;;IACA6G,SAAS,CAACN,IAAV,CAAevG,KAAK,CAAC8L,IAAN,CAAWI,QAA1B,EAAoC,UAASC,OAAT,EAAkBC,YAAlB,EAAgC;MACnEP,IAAI,GAAG7L,KAAK,CAACqM,cAAN,CAAqBD,YAArB,CAAP;;MACA,IAAI9M,EAAE,KAAKuM,IAAI,CAACS,OAAZ,IAAuBhN,EAAE,KAAKuM,IAAI,CAACU,OAAvC,EAAgD;QAC/CT,IAAI,GAAGK,OAAO,CAACL,IAAf;QACA1B,MAAM,GAAG0B,IAAI,CAAC1B,MAAd;;QAEA,IAAIoB,KAAJ,EAAW;UACV;UACA,KAAKzB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGK,MAAhB,EAAwB,EAAEL,CAA1B,EAA6B;YAC5B,IAAI,EAAErK,KAAK,CAAC8M,gBAAN,CAAuBzC,CAAvB,EAA0BqC,YAA1B,IAA0CrK,GAA5C,CAAJ,EAAsD;cACrD;YACA;UACD;;UACDgK,KAAK,GAAGhC,CAAC,GAAG,CAAZ;QACA,CARD,MAQO;UACNgC,KAAK,GAAG,CAAR;QACA;;QAED,KAAKhC,CAAC,GAAGgC,KAAT,EAAgBhC,CAAC,GAAGK,MAApB,EAA4B,EAAEL,CAA9B,EAAiC;UAChC,IAAI,EAAErK,KAAK,CAAC8M,gBAAN,CAAuBzC,CAAvB,EAA0BqC,YAA1B,KAA2CtK,GAA7C,CAAJ,EAAuD;YACtD;UACA;QACD;;QACDkK,KAAK,GAAGjC,CAAC,GAAGgC,KAAZ;;QACA,IAAIH,KAAK,CAACL,GAAD,CAAT,EAAgB;UACf;UACAS,KAAK,GAAG9B,IAAI,CAACnI,GAAL,CAASiK,KAAK,GAAG,CAAjB,EAAoB,CAApB,CAAR;QACA;;QAEDF,IAAI,CAACW,MAAL,CAAYV,KAAZ,EAAmBC,KAAnB;QACAnF,SAAS,CAACN,IAAV,CAAe8E,mBAAf,EAAoC,UAAS1L,GAAT,EAAc;UACjD,IAAIkH,SAAS,CAAC6F,OAAV,CAAkBP,OAAO,CAACxM,GAAD,CAAzB,CAAJ,EAAqC;YACpCwM,OAAO,CAACxM,GAAD,CAAP,CAAa8M,MAAb,CAAoBV,KAApB,EAA2BC,KAA3B;UACA;QACD,CAJD;QAKAnF,SAAS,CAACN,IAAV,CAAe4F,OAAO,CAACQ,UAAvB,EAAmC,UAAS3L,KAAT,EAAgB;UAClD,IAAI6F,SAAS,CAAC6F,OAAV,CAAkB1L,KAAlB,CAAJ,EAA8B;YAC7BA,KAAK,CAACyL,MAAN,CAAaV,KAAb,EAAoBC,KAApB;UACA;QACD,CAJD;;QAKA,IAAI,OAAOF,IAAI,CAAC,CAAD,CAAX,KAAmB,QAAvB,EAAiC;UAChCG,YAAY,GAAG;YACdF,KAAK,EAAEA,KADO;YAEdC,KAAK,EAAEA;UAFO,CAAf;QAIA;MACD;IACD,CA/CD;;IAgDA,IAAIC,YAAJ,EAAkB;MACjBjM,KAAK,CAAC8L,IAAN,CAAWc,MAAX,CAAkBH,MAAlB,CAAyBR,YAAY,CAACF,KAAtC,EAA6CE,YAAY,CAACD,KAA1D;IACA;;IAEDhM,KAAK,CAACqG,MAAN,CAAa;MACZwG,YAAY,EAAE;IADF,CAAb;EAGA;;EAED,SAASC,oBAAT,CAA8BpN,KAA9B,EAAqC;IACpC,IAAII,QAAQ,GAAGJ,KAAK,CAACI,QAArB;IACA,IAAIiN,cAAc,GAAGjN,QAAQ,CAACiN,cAA9B;;IAEA,IAAIA,cAAJ,EAAoB;MACnBC,aAAa,CAACD,cAAD,CAAb;MACA,OAAOjN,QAAQ,CAACiN,cAAhB;MACA,OAAOjN,QAAQ,CAACmN,eAAhB;IACA;EACD;;EAED,SAASC,qBAAT,CAA+BxN,KAA/B,EAAsC;IACrC,IAAII,QAAQ,GAAGJ,KAAK,CAACI,QAArB;IACA,IAAI+J,QAAQ,GAAGrK,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,SAArC,CAAf;IAEAI,QAAQ,CAACiN,cAAT,GAA0BI,WAAW,CAAC,YAAW;MAChD,IAAIC,WAAW,GAAG5N,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,SAArC,CAAlB;MAEA4L,WAAW,CAAC5L,KAAD,CAAX;;MACA,IAAII,QAAQ,CAACmN,eAAT,KAA6BG,WAA7B,IAA4C,CAACxB,KAAK,CAACwB,WAAD,CAAtD,EAAqE;QACpEN,oBAAoB,CAACpN,KAAD,CAApB;QACAwN,qBAAqB,CAACxN,KAAD,CAArB;MACA;IACD,CARoC,EAQlCmK,QARkC,CAArC;IASA/J,QAAQ,CAACmN,eAAT,GAA2BpD,QAA3B;EACA;;EAED,SAASwD,UAAT,CAAoBhM,OAApB,EAA6B/B,EAA7B,EAAiCgO,SAAjC,EAA4C;IAC3C,IAAIvB,KAAK,GAAG1K,OAAO,CAACkM,MAAR,IAAkB,EAA9B;IACA,IAAIC,IAAI,GAAGnM,OAAO,CAACoM,KAAR,IAAiB,EAA5B;IACA,IAAIC,KAAK,GAAGrM,OAAO,CAACsM,MAAR,IAAkB,EAA9B;IAEA9G,SAAS,CAACN,IAAV,CAAelF,OAAO,CAACQ,UAAvB,EAAmC,UAAC+L,IAAD,EAAOjO,GAAP,EAAe;MACjD,IAAIiO,IAAI,CAACvL,MAAL,KAAgB/C,EAApB,EAAwB;QACvB,IAAIyM,KAAK,CAAC1E,cAAN,CAAqB1H,GAArB,CAAJ,EAA+B;UAC9BoM,KAAK,CAACpM,GAAD,CAAL,IAAc2N,SAAd;QACA;;QACD,IAAIE,IAAI,CAACnG,cAAL,CAAoB1H,GAApB,KAA4B6N,IAAI,KAAKzB,KAAzC,EAAgD;UAC/CyB,IAAI,CAAC7N,GAAD,CAAJ,IAAa2N,SAAb;QACA;;QACD,IAAII,KAAK,CAACrG,cAAN,CAAqB1H,GAArB,KAA6B+N,KAAK,KAAKF,IAA3C,EAAiD;UAChDE,KAAK,CAAC/N,GAAD,CAAL,IAAc2N,SAAd;QACA;MACD;IACD,CAZD;EAaA;;EAED,SAASO,MAAT,CAAgBnO,KAAhB,EAAuB;IACtB,IAAIM,KAAK,GAAGN,KAAK,CAACM,KAAlB;IACA,IAAIF,QAAQ,GAAGJ,KAAK,CAACI,QAArB;IACA,IAAIR,EAAE,GAAGI,KAAK,CAACJ,EAAf;IACA,IAAI+F,QAAQ,GAAG7F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,UAArC,CAAf;IACA,IAAI4F,KAAK,GAAG9F,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAZ;IACA,IAAIkD,YAAY,GAAGlD,KAAK,CAACkD,YAAN,EAAnB;IACA,IAAIwH,MAAM,GAAGxH,YAAY,GAAGlD,KAAK,CAACoO,KAAT,GAAiBpO,KAAK,CAACqO,MAAhD;IACA,IAAIpC,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAV,CARsB,CAUtB;;IACA,IAAI3J,OAAO,GAAGtC,KAAK,CAACG,OAAN,CAAcmL,KAAd,CAAoBhJ,OAApB,IAA+B,EAAEY,YAAY,IAAI,oBAAoBlD,KAAtC,CAA7C;IAEA,IAAIsO,OAAO,GAAGhO,KAAK,CAACgO,OAApB;IACA,IAAIC,WAAW,GAAGxK,gBAAgB,CAACG,WAAjB,CAA6B5D,KAA7B,CAAlB;IACA,IAAIkO,MAAM,GAAG9D,MAAM,IAAIuB,GAAG,GAAG7L,QAAQ,CAACqO,IAAnB,CAAN,GAAiC9I,QAA9C;IACA,IAAI0E,CAAJ,EAAOC,IAAP;;IAEA,IAAIpH,YAAY,KAAKZ,OAArB,EAA8B;MAC7BkM,MAAM,GAAG,CAACA,MAAV;IACA,CApBqB,CAsBtB;;;IACArH,SAAS,CAACN,IAAV,CAAevG,KAAK,CAAC8L,IAAN,CAAWI,QAA1B,EAAoC,UAASC,OAAT,EAAkBC,YAAlB,EAAgC;MACnE,IAAIP,IAAI,GAAG7L,KAAK,CAACqM,cAAN,CAAqBD,YAArB,CAAX;MACA,IAAItI,QAAQ,GAAG+H,IAAI,CAACC,IAAL,IAAa,EAA5B;MACA,IAAIzK,OAAO,GAAGwK,IAAI,CAACM,OAAnB;;MAEA,KAAKpC,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGlG,QAAQ,CAACsG,MAA5B,EAAoCL,CAAC,GAAGC,IAAxC,EAA8C,EAAED,CAAhD,EAAmD;QAClDsD,UAAU,CAACvJ,QAAQ,CAACiG,CAAD,CAAT,EAAczK,EAAd,EAAkB4O,MAAlB,CAAV;MACA;;MACD,IAAI7M,OAAJ,EAAa;QACZgM,UAAU,CAAChM,OAAD,EAAU/B,EAAV,EAAc4O,MAAd,CAAV;MACA;IACD,CAXD,EAvBsB,CAoCtB;;IACA,KAAKnE,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGiE,WAAW,CAAC7D,MAA/B,EAAuCL,CAAC,GAAGC,IAA3C,EAAiD,EAAED,CAAnD,EAAsD;MACrDsD,UAAU,CAACY,WAAW,CAAClE,CAAD,CAAZ,EAAiBzK,EAAjB,EAAqB4O,MAArB,CAAV;IACA,CAvCqB,CAyCtB;;;IACAb,UAAU,CAACW,OAAD,EAAU1O,EAAV,EAAc4O,MAAd,CAAV;IAEAxO,KAAK,CAACqC,GAAN,GAAYrC,KAAK,CAAC0O,MAAN,CAAa,CAAb,EAAgBvF,IAAhB,GAAuB8C,GAAG,GAAGrG,KAAzC;IACA5F,KAAK,CAACoC,GAAN,GAAYpC,KAAK,CAAC0O,MAAN,CAAa,CAAb,EAAgBvF,IAAhB,GAAuBnJ,KAAK,CAACqC,GAAN,GAAYsD,QAA/C;IAEAvF,QAAQ,CAACqO,IAAT,GAAgBxC,GAAhB;EACA;;EAED,IAAI0C,aAAa,GAAG;IACnBC,QAAQ,EAAE,QADS;IAEnBC,YAAY,EAAE,QAFK;IAGnBC,MAAM,EAAE,MAHW;IAInBC,QAAQ,EAAE,EAJS;IAKnB5F,IAAI,EAAE;MACLU,MAAM,EAAE,KADH;MACU;MACfR,IAAI,EAAE,KAFD;MAEQ;MACbU,KAAK,EAAE,KAHF;MAGS;MACdiF,aAAa,EAAE,KAJV;MAIiB;MACtBxF,UAAU,EAAE,KALP;MAKc;MACnBoB,OAAO,EAAE,aANJ;MAQL;MACAqE,cAAc,EAAE;QACfhH,WAAW,EAAE,eADE;QAEfI,MAAM,EAAE,WAFO;QAGfC,MAAM,EAAE,QAHO;QAIfC,IAAI,EAAE,IAJS;QAKfC,GAAG,EAAE,OALU;QAMfC,IAAI,EAAE,IANS;QAOfC,KAAK,EAAE,UAPQ;QAQfC,OAAO,EAAE,aARM;QASfC,IAAI,EAAE;MATS;IATX,CALa;IA0BnBxI,QAAQ,EAAE,EA1BS;IA2BnBkL,KAAK,EAAE;MACN4D,QAAQ,EAAE,KADJ;MAENC,MAAM,EAAE,MAFF;MAGNjE,KAAK,EAAE;QACNK,OAAO,EAAE;MADH;IAHD;EA3BY,CAApB;EAoCA,IAAI6D,aAAa,GAAG7H,SAAS,CAAC8H,MAAV,CAAiB;IACpCC,UAAU,EAAE,sBAAW;MACtB,IAAIC,EAAE,GAAG,IAAT;MAEAhI,SAAS,CAAC3D,SAAV,CAAoB0L,UAApB,CAA+BE,KAA/B,CAAqCD,EAArC,EAAyCE,SAAzC,EAHsB,CAKtB;;MACA,IAAIF,EAAE,CAACpP,OAAH,CAAWsH,IAAX,KAAoB,MAApB,IAA8B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAA5D,EAAuE;QACtE;MACA;;MAED+O,EAAE,CAACnP,QAAH,GAAcmP,EAAE,CAACnP,QAAH,IAAe,EAA7B;MAEAoN,qBAAqB,CAAC+B,EAAD,CAArB;IACA,CAdmC;IAgBpC5I,MAAM,EAAE,kBAAW;MAClB,IAAI4I,EAAE,GAAG,IAAT;MACA,IAAInP,QAAQ,GAAGmP,EAAE,CAACnP,QAAlB;MACA,IAAID,OAAO,GAAGoP,EAAE,CAACpP,OAAjB;MACA,IAAI2O,MAAM,GAAG3O,OAAO,CAAC2O,MAArB;MACA,IAAID,YAAY,GAAG1O,OAAO,CAAC0O,YAA3B;MACA,IAAIL,MAAM,GAAGrO,OAAO,CAACqO,MAArB;MACA,IAAIkB,SAAS,GAAGvP,OAAO,CAACmL,KAAxB;MACA,IAAI4D,QAAQ,GAAGQ,SAAS,CAACR,QAAzB;MACA,IAAIC,MAAM,GAAGO,SAAS,CAACP,MAAvB;MACA,IAAIQ,OAAO,GAAGD,SAAS,CAACtN,GAAxB;MACA,IAAIwN,OAAO,GAAGF,SAAS,CAACrN,GAAxB;MACA,IAAIwN,cAAc,GAAGH,SAAS,CAACxE,KAA/B;MACA,IAAI4E,YAAY,GAAGD,cAAc,CAACtE,OAAlC;MACA,IAAIwE,OAAJ,CAdkB,CAgBlB;;MACA,IAAI5P,OAAO,CAACsH,IAAR,KAAiB,MAAjB,IAA2B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAAzD,EAAoE;QACnE,OAAO+G,SAAS,CAAC3D,SAAV,CAAoB+C,MAApB,CAA2B6I,KAA3B,CAAiCD,EAAjC,EAAqCE,SAArC,CAAP;MACA;;MAED,IAAI3P,eAAe,CAACC,aAAhB,CAA8BwP,EAA9B,EAAkC,OAAlC,CAAJ,EAAgD;QAC/CzP,eAAe,CAACmB,qBAAhB,CAAsCb,QAAtC;MACA,CAFD,MAEO;QACNN,eAAe,CAACY,sBAAhB,CAAuCN,QAAvC,EAAiD,YAAW;UAC3D+N,MAAM,CAACoB,EAAD,CAAN;QACA,CAFD;QAGAnP,QAAQ,CAACqO,IAAT,GAAgBzC,IAAI,CAACC,GAAL,EAAhB;MACA;;MAED9L,OAAO,CAAC2O,MAAR,GAAiBlH,SAAjB;MACAzH,OAAO,CAAC0O,YAAR,GAAuB,QAAvB;MACA1O,OAAO,CAACqO,MAAR,GAAiB,KAAjB;MACAkB,SAAS,CAACR,QAAV,GAAqB,KAArB;MACAQ,SAAS,CAACP,MAAV,GAAmBA,MAAM,KAAK,MAAX,GAAoB,EAApB,GAAyBA,MAA5C;MACAO,SAAS,CAACtN,GAAV,GAAgB,CAAC,IAAjB;MACAsN,SAAS,CAACrN,GAAV,GAAgB,IAAhB;MACAwN,cAAc,CAACtE,OAAf,GAAyB,IAAzB;MAEAwE,OAAO,GAAGxI,SAAS,CAAC3D,SAAV,CAAoB+C,MAApB,CAA2B6I,KAA3B,CAAiCD,EAAjC,EAAqCE,SAArC,CAAV;MAEAtP,OAAO,CAAC2O,MAAR,GAAiBA,MAAjB;MACA3O,OAAO,CAAC0O,YAAR,GAAuBA,YAAvB;MACA1O,OAAO,CAACqO,MAAR,GAAiBA,MAAjB;MACAkB,SAAS,CAACR,QAAV,GAAqBA,QAArB;MACAQ,SAAS,CAACP,MAAV,GAAmBA,MAAnB;MACAO,SAAS,CAACtN,GAAV,GAAgBuN,OAAhB;MACAD,SAAS,CAACrN,GAAV,GAAgBuN,OAAhB;MACAC,cAAc,CAACtE,OAAf,GAAyBuE,YAAzB;MAEA,OAAOC,OAAP;IACA,CAnEmC;IAqEpCC,UAAU,EAAE,sBAAW;MACtB,IAAIT,EAAE,GAAG,IAAT;MACA,IAAIpP,OAAO,GAAGoP,EAAE,CAACpP,OAAjB,CAFsB,CAItB;;MACA,IAAIA,OAAO,CAACsH,IAAR,KAAiB,MAAjB,IAA2B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAAzD,EAAoE;QACnE,OAAO+G,SAAS,CAAC3D,SAAV,CAAoBoM,UAApB,CAA+BR,KAA/B,CAAqCD,EAArC,EAAyCE,SAAzC,CAAP;MACA;;MAED,IAAI9J,QAAQ,GAAG7F,eAAe,CAACC,aAAhB,CAA8BwP,EAA9B,EAAkC,UAAlC,CAAf;MACA,IAAI3J,KAAK,GAAG9F,eAAe,CAACC,aAAhB,CAA8BwP,EAA9B,EAAkC,OAAlC,CAAZ;MACA,IAAIU,OAAO,GAAGnQ,eAAe,CAACC,aAAhB,CAA8BwP,EAA9B,EAAkC,SAAlC,CAAd;MACA,IAAIG,SAAS,GAAGvP,OAAO,CAACmL,KAAxB;MACA,IAAI6D,MAAM,GAAGO,SAAS,CAACP,MAAvB;MACA,IAAIe,UAAU,GAAGX,EAAE,CAACY,WAAH,CAAe/D,IAAhC;MACA,IAAI/J,GAAG,GAAGkN,EAAE,CAACnP,QAAH,CAAYqO,IAAZ,GAAmB7I,KAA7B;MACA,IAAIxD,GAAG,GAAGC,GAAG,GAAGsD,QAAhB;MACA,IAAIyK,QAAQ,GAAG,CAAC/N,GAAG,GAAG4N,OAAP,EAAgB5N,GAAhB,CAAf;MACA,IAAIiJ,KAAJ;;MAEA,IAAI6D,MAAM,KAAK,EAAf,EAAmB;QAClBO,SAAS,CAACP,MAAV,GAAmB,MAAnB;QACAI,EAAE,CAACY,WAAH,CAAe/D,IAAf,GAAsBrB,QAAQ,CAACwE,EAAD,EAAKnN,GAAL,EAAUC,GAAG,GAAG4N,OAAhB,EAAyBV,EAAE,CAACc,gBAAH,CAAoBjO,GAApB,CAAzB,CAA9B;MACA;;MAEDiC,MAAM,CAACiM,cAAP,CAAsBf,EAAtB,EAA0B,KAA1B,EAAiC;QAChCgB,GAAG,EAAE,eAAW;UACf,OAAOnO,GAAP;QACA,CAH+B;QAIhCoO,GAAG,EAAErJ,SAAS,CAACsJ;MAJiB,CAAjC;MAMApM,MAAM,CAACiM,cAAP,CAAsBf,EAAtB,EAA0B,KAA1B,EAAiC;QAChCgB,GAAG,EAAE,eAAW;UACf,OAAOH,QAAQ,CAACM,KAAT,EAAP;QACA,CAH+B;QAIhCF,GAAG,EAAErJ,SAAS,CAACsJ;MAJiB,CAAjC;MAOAnF,KAAK,GAAG/D,SAAS,CAAC3D,SAAV,CAAoBoM,UAApB,CAA+BR,KAA/B,CAAqCD,EAArC,EAAyCE,SAAzC,CAAR;MAEA,OAAOF,EAAE,CAACnN,GAAV;MACA,OAAOmN,EAAE,CAAClN,GAAV;MACAkN,EAAE,CAACnN,GAAH,GAASA,GAAT;MACAmN,EAAE,CAAClN,GAAH,GAASA,GAAT;;MAEA,IAAI8M,MAAM,KAAK,EAAf,EAAmB;QAClBO,SAAS,CAACP,MAAV,GAAmBA,MAAnB;QACAI,EAAE,CAACY,WAAH,CAAe/D,IAAf,GAAsB8D,UAAtB;MACA;;MAEDX,EAAE,CAACb,MAAH,GAAY,CAAC;QAACvF,IAAI,EAAE/G,GAAP;QAAYuO,GAAG,EAAE;MAAjB,CAAD,EAAsB;QAACxH,IAAI,EAAE9G,GAAP;QAAYsO,GAAG,EAAE;MAAjB,CAAtB,CAAZ;MAEA,OAAOrF,KAAP;IACA,CA1HmC;IA4HpCsF,qBAAqB,EAAE,iCAAW;MACjC,IAAIrB,EAAE,GAAG,IAAT;MACA,IAAIpP,OAAO,GAAGoP,EAAE,CAACpP,OAAjB;MACA,IAAIuP,SAAS,GAAGvP,OAAO,CAACmL,KAAxB;MACA,IAAIuF,WAAW,GAAGnB,SAAS,CAACmB,WAA5B,CAJiC,CAMjC;;MACA,IAAI1Q,OAAO,CAACsH,IAAR,KAAiB,MAAjB,IAA2B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAAzD,EAAoE;QACnE+G,SAAS,CAAC3D,SAAV,CAAoBgN,qBAApB,CAA0CpB,KAA1C,CAAgDD,EAAhD,EAAoDE,SAApD;QACA;MACA;;MAEDC,SAAS,CAACmB,WAAV,GAAwBnB,SAAS,CAACoB,WAAV,IAAyB,CAAjD;MACAvJ,SAAS,CAAC3D,SAAV,CAAoBgN,qBAApB,CAA0CpB,KAA1C,CAAgDD,EAAhD,EAAoDE,SAApD;MACAC,SAAS,CAACmB,WAAV,GAAwBA,WAAxB;IACA,CA3ImC;IA6IpCE,GAAG,EAAE,eAAW;MACf,IAAIxB,EAAE,GAAG,IAAT;MACA,IAAIpP,OAAO,GAAGoP,EAAE,CAACpP,OAAjB;MAEAoH,SAAS,CAAC3D,SAAV,CAAoBmN,GAApB,CAAwBvB,KAAxB,CAA8BD,EAA9B,EAAkCE,SAAlC,EAJe,CAMf;;MACA,IAAItP,OAAO,CAACsH,IAAR,KAAiB,MAAjB,IAA2B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAAzD,EAAoE;QACnE;MACA;;MAED,IAAIL,OAAO,CAACmL,KAAR,CAAc0F,OAAd,IAAyB7Q,OAAO,CAAC6Q,OAAjC,IAA4CzB,EAAE,CAACrM,YAAH,EAAhD,EAAmE;QAClEqM,EAAE,CAAC0B,WAAH,GAAiB,CAAjB;QACA1B,EAAE,CAAC2B,YAAH,GAAkB,CAAlB;QACA3B,EAAE,CAAC4B,aAAH;MACA;IACD,CA7JmC;IA+JpCC,IAAI,EAAE,cAAStP,SAAT,EAAoB;MACzB,IAAIyN,EAAE,GAAG,IAAT;MACA,IAAIjP,KAAK,GAAGiP,EAAE,CAACjP,KAAf,CAFyB,CAIzB;;MACA,IAAIiP,EAAE,CAACpP,OAAH,CAAWsH,IAAX,KAAoB,MAApB,IAA8B,CAACnH,KAAK,CAACH,OAAN,CAAcI,OAAd,CAAsBC,SAAzD,EAAoE;QACnE+G,SAAS,CAAC3D,SAAV,CAAoBwN,IAApB,CAAyB5B,KAAzB,CAA+BD,EAA/B,EAAmCE,SAAnC;QACA;MACA;;MAED,IAAI9O,OAAO,GAAG4O,EAAE,CAAC8B,GAAjB;MACA,IAAIC,QAAQ,GAAG/B,EAAE,CAACrM,YAAH,KACd;QACCV,IAAI,EAAEV,SAAS,CAACU,IADjB;QAECK,GAAG,EAAE,CAFN;QAGCH,KAAK,EAAEZ,SAAS,CAACY,KAHlB;QAICK,MAAM,EAAEzC,KAAK,CAAC+N;MAJf,CADc,GAMV;QACH7L,IAAI,EAAE,CADH;QAEHK,GAAG,EAAEf,SAAS,CAACe,GAFZ;QAGHH,KAAK,EAAEpC,KAAK,CAAC8N,KAHV;QAIHrL,MAAM,EAAEjB,SAAS,CAACiB;MAJf,CANL;MAaAwM,EAAE,CAACgC,cAAH,GAAoB,IAApB;MACAhC,EAAE,CAACiC,WAAH,GAAiB,IAAjB,CAzByB,CA2BzB;;MACApK,eAAe,CAACkK,QAAhB,CAAyB3Q,OAAzB,EAAkC2Q,QAAlC;MACA/J,SAAS,CAAC3D,SAAV,CAAoBwN,IAApB,CAAyB5B,KAAzB,CAA+BD,EAA/B,EAAmCE,SAAnC;MACArI,eAAe,CAACqK,UAAhB,CAA2B9Q,OAA3B;IACA,CA9LmC;IAgMpC+Q,OAAO,EAAE,mBAAW;MACnB,IAAInC,EAAE,GAAG,IAAT,CADmB,CAGnB;;MACA,IAAIA,EAAE,CAACpP,OAAH,CAAWsH,IAAX,KAAoB,MAApB,IAA8B,CAAC8H,EAAE,CAACjP,KAAH,CAASH,OAAT,CAAiBI,OAAjB,CAAyBC,SAA5D,EAAuE;QACtE;MACA;;MAEDV,eAAe,CAACmB,qBAAhB,CAAsCsO,EAAE,CAACnP,QAAzC;MACAgN,oBAAoB,CAACmC,EAAD,CAApB;IACA,CA1MmC;;IA4MpC;AACD;AACA;IACCzC,gBAAgB,EAAE,0BAAS6E,KAAT,EAAgBjF,YAAhB,EAA8B;MAC/C,IAAI6C,EAAE,GAAG,IAAT;MACA,IAAIW,UAAU,GAAGX,EAAE,CAACY,WAApB;MACA,IAAIhH,IAAI,GAAG+G,UAAU,CAAC1D,QAAX,CAAoBE,YAApB,EAAkCiF,KAAlC,CAAX;MACA,IAAIrQ,KAAJ;;MAEA,IAAI6F,SAAS,CAAChC,aAAV,CAAwBgE,IAAxB,CAAJ,EAAmC;QAClC7H,KAAK,GAAGiO,EAAE,CAACjP,KAAH,CAAS8L,IAAT,CAAcI,QAAd,CAAuBE,YAAvB,EAAqCN,IAArC,CAA0CuF,KAA1C,CAAR;;QACA,IAAIxK,SAAS,CAACyK,QAAV,CAAmBtQ,KAAnB,CAAJ,EAA+B;UAC9B6H,IAAI,GAAGJ,KAAK,CAACwG,EAAD,EAAKjO,KAAL,CAAZ;QACA,CAFD,MAEO;UACN6H,IAAI,GAAGJ,KAAK,CAACwG,EAAD,EAAKW,UAAU,CAAChD,MAAX,CAAkByE,KAAlB,CAAL,CAAZ;QACA;MACD;;MAED,OAAOxI,IAAP;IACA;EA/NmC,CAAjB,CAApB;EAkOA7B,YAAY,CAACuK,iBAAb,CAA+B,UAA/B,EAA2CzC,aAA3C,EAA0DT,aAA1D;EAEA,IAAIvP,OAAO,GAAGH,cAAc,CAAC,SAAD,CAAd,CAA0BG,OAAxC;EACA,IAAI0S,aAAa,GAAG1S,OAAO,CAACiI,MAA5B;EAEApI,cAAc,CAAC,SAAD,CAAd,CAA0B8S,QAA1B,CAAmC5T,MAAnC,CAA0CoC,OAA1C,CAAkDC,SAAlD,GAA8D;IAC7DmF,QAAQ,EAAE,KADmD;IAE7DC,KAAK,EAAE,CAFsD;IAG7DoM,SAAS,EAAE,EAHkD;IAI7D/B,OAAO,EAAE,IAJoD;IAK7DlE,SAAS,EAAE,IALkD;IAM7DD,KAAK,EAAE,KANsD;IAO7DD,GAAG,EAAEjE;EAPwD,CAA9D,CAp/BkC,CA8/BlC;;EACA3I,cAAc,CAAC,SAAD,CAAd,CAA0B8S,QAA1B,CAAmC5T,MAAnC,CAA0C8T,MAA1C,CAAiDC,OAAjD,GAA2D,UAASlT,CAAT,EAAYmT,UAAZ,EAAwB;IAClF,IAAIR,KAAK,GAAGQ,UAAU,CAACzF,YAAvB;IACA,IAAI0F,EAAE,GAAG,KAAK9R,KAAd;IACA,IAAI6L,IAAI,GAAGiG,EAAE,CAACzF,cAAH,CAAkBgF,KAAlB,CAAX;IAEAxF,IAAI,CAACkG,MAAL,GAAclG,IAAI,CAACkG,MAAL,KAAgB,IAAhB,GAAuB,CAACD,EAAE,CAAChG,IAAH,CAAQI,QAAR,CAAiBmF,KAAjB,EAAwBU,MAAhD,GAAyD,IAAvE;IACAD,EAAE,CAACzL,MAAH,CAAU;MAAChB,QAAQ,EAAE;IAAX,CAAV;EACA,CAPD;;EASA,SAAS2M,UAAT,CAAoB3Q,OAApB,EAA6B2C,IAA7B,EAAmC6H,IAAnC,EAAyC;IACxC,IAAIoG,OAAO,GAAG,EAAd;IAEAnT,OAAO,CAACyH,IAAR,CAAavC,IAAI,CAAC0B,CAAlB,EAAqB,UAAS/F,GAAT,EAAc;MAClCsS,OAAO,CAACtS,GAAD,CAAP,GAAe;QAAC0C,MAAM,EAAEwJ,IAAI,CAACS;MAAd,CAAf;IACA,CAFD;IAGAxN,OAAO,CAACyH,IAAR,CAAavC,IAAI,CAAC2B,CAAlB,EAAqB,UAAShG,GAAT,EAAc;MAClCsS,OAAO,CAACtS,GAAD,CAAP,GAAe;QAAC0C,MAAM,EAAEwJ,IAAI,CAACU;MAAd,CAAf;IACA,CAFD;IAGA,OAAO0F,OAAP;EACA;;EAED,IAAIC,cAAc,GAAG;IACpBxM,CAAC,EAAE,CAAC,GAAD,EAAM,uBAAN,EAA+B,mBAA/B,EAAoD,QAApD,CADiB;IAEpBC,CAAC,EAAE,CAAC,GAAD,EAAM,uBAAN,EAA+B,mBAA/B,EAAoD,QAApD;EAFiB,CAArB;;EAKA,SAASwM,cAAT,CAAwBnS,KAAxB,EAA+B;IAC9BlB,OAAO,CAACyH,IAAR,CAAavG,KAAK,CAAC8L,IAAN,CAAWI,QAAxB,EAAkC,UAASC,OAAT,EAAkBC,YAAlB,EAAgC;MACjE,IAAIP,IAAI,GAAG7L,KAAK,CAACqM,cAAN,CAAqBD,YAArB,CAAX;MACA,IAAItI,QAAQ,GAAG+H,IAAI,CAACC,IAAL,IAAa,EAA5B;MACA,IAAIzK,OAAO,GAAGwK,IAAI,CAACM,OAAnB;MACA,IAAIpC,CAAJ,EAAOC,IAAP;;MAEA,KAAKD,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGlG,QAAQ,CAACsG,MAA5B,EAAoCL,CAAC,GAAGC,IAAxC,EAA8C,EAAED,CAAhD,EAAmD;QAClDjG,QAAQ,CAACiG,CAAD,CAAR,CAAYlI,UAAZ,GAAyBmQ,UAAU,CAAClO,QAAQ,CAACiG,CAAD,CAAT,EAAcmI,cAAd,EAA8BrG,IAA9B,CAAnC;MACA;;MACD,IAAIxK,OAAJ,EAAa;QACZA,OAAO,CAACQ,UAAR,GAAqBmQ,UAAU,CAAC3Q,OAAD,EAAU6Q,cAAV,EAA0BrG,IAA1B,CAA/B;MACA;IACD,CAZD;EAaA;EAED;AACA;AACA;AACA;;;EACA,SAASxF,MAAT,CAAgB+L,MAAhB,EAAwB;IACvB,IAAInD,EAAE,GAAG,IAAT;IACA,IAAIpC,YAAY,GAAGuF,MAAM,IAAIA,MAAM,CAACvF,YAApC;IACA,IAAImB,OAAJ,EAAaqE,UAAb,EAAyBC,iBAAzB,EAA4CC,cAA5C,EAA4DZ,MAA5D,EAAoEa,YAApE;;IAEA,IAAI3F,YAAJ,EAAkB;MACjBmB,OAAO,GAAGiB,EAAE,CAACjB,OAAb;MACAqE,UAAU,GAAGpD,EAAE,CAACoD,UAAhB;MACAC,iBAAiB,GAAGtE,OAAO,CAACyE,WAA5B;MACAxD,EAAE,CAACyD,eAAH,GAAqB,IAArB;MACAf,MAAM,GAAG1C,EAAE,CAAC0C,MAAZ,CALiB,CAOjB;;MACA,IAAIA,MAAJ,EAAY;QACXa,YAAY,GAAGb,MAAM,CAACtL,MAAtB;QACAsL,MAAM,CAACtL,MAAP,GAAgBvH,OAAO,CAACqR,IAAxB;MACA;IACD;;IAEDxR,cAAc,CAAC,SAAD,CAAd,CAA0B2E,SAA1B,CAAoC+C,MAApC,CAA2C6I,KAA3C,CAAiDD,EAAjD,EAAqDE,SAArD;;IAEA,IAAItC,YAAJ,EAAkB;MACjBoC,EAAE,CAACyD,eAAH,GAAqB,KAArB;MACAzD,EAAE,CAAC0D,gBAAH,GAAsB,IAAtB;MACA1D,EAAE,CAACoD,UAAH,GAAgBA,UAAhB;MACArE,OAAO,CAACyE,WAAR,GAAsBH,iBAAtB;;MAEA,IAAIX,MAAJ,EAAY;QACXA,MAAM,CAACtL,MAAP,GAAgBmM,YAAhB;MACA;;MAED,IAAIvD,EAAE,CAAC2D,SAAP,EAAkB;QACjB;QACAjU,cAAc,CAAC,SAAD,CAAd,CAA0BkU,gBAA1B,CAA2CC,UAA3C,CAAsDC,OAAtD,CAA8D,UAASC,SAAT,EAAoB;UACjF,IAAIA,SAAS,CAAChT,KAAV,KAAoBiP,EAAxB,EAA4B;YAC3BA,EAAE,CAACgE,MAAH,CAAU;cACT5N,QAAQ,EAAE,CAAC2N,SAAS,CAACE,QAAV,GAAqBF,SAAS,CAACG,WAAhC,IAA+C;YADhD,CAAV;UAGA;QACD,CAND;MAOA,CATD,MASO;QACN;QACAlE,EAAE,CAACnD,IAAH,CAAQI,QAAR,CAAiB6G,OAAjB,CAAyB,UAAS5G,OAAT,EAAkBC,YAAlB,EAAgC;UACxD6C,EAAE,CAAC5C,cAAH,CAAkBD,YAAlB,EAAgCgH,UAAhC,CAA2C/F,UAA3C,CAAsD,CAAtD;QACA,CAFD;MAGA;;MAED,IAAIW,OAAO,CAACqF,OAAZ,EAAqB;QACpBrF,OAAO,CAAC3H,MAAR,CAAe,IAAf;MACA;;MAEDkM,cAAc,GAAGtD,EAAE,CAAC/O,SAAH,CAAaqS,cAA9B;;MACA,IAAIA,cAAJ,EAAoB;QACnBtD,EAAE,CAACqE,YAAH,CAAgBf,cAAhB;MACA;IACD;EACD;;EAED,SAASgB,aAAT,GAAyB;IACxB,IAAItE,EAAE,GAAG,IAAT;IACA,IAAI5N,OAAO,GAAG4N,EAAE,CAACoE,OAAH,IAAcpE,EAAE,CAACoE,OAAH,CAAW,CAAX,CAA5B;IACA,IAAIxH,IAAJ;;IAEA,IAAIxK,OAAJ,EAAa;MACZwK,IAAI,GAAGoD,EAAE,CAACuE,MAAH,CAAUnH,cAAV,CAAyBhL,OAAO,CAACoS,aAAjC,CAAP;MACAxE,EAAE,CAACpN,UAAH,GAAgBmQ,UAAU,CAAC/C,EAAD,EAAKiD,cAAL,EAAqBrG,IAArB,CAA1B;IACA,CAHD,MAGO;MACNoD,EAAE,CAACpN,UAAH,GAAgB,EAAhB;IACA;;IAED,OAAOlD,cAAc,CAAC,SAAD,CAAd,CAA0B+U,OAA1B,CAAkCpQ,SAAlC,CAA4C+C,MAA5C,CAAmD6I,KAAnD,CAAyDD,EAAzD,EAA6DE,SAA7D,CAAP;EACA,CApnCiC,CAsnClC;;;EACA,SAASwE,SAAT,CAAmB3T,KAAnB,EAA0B;IACzB,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;IACA,IAAIwR,SAAS,GAAG1R,KAAK,CAACH,OAAN,CAAcI,OAAd,CAAsBC,SAAtB,CAAgCwR,SAAhD;IACA,IAAIkC,aAAa,GAAG,QAAQ1J,IAAI,CAACnI,GAAL,CAAS2P,SAAT,EAAoB,CAApB,KAA0B,EAAlC,CAApB;IACA,IAAImC,IAAI,GAAG3T,SAAS,CAAC4T,SAAV,GAAsBF,aAAtB,IAAuC,CAAlD;IACA,IAAIjI,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAV;IACA,IAAI4G,cAAc,GAAGrS,SAAS,CAACqS,cAA/B;;IAEA,IAAIsB,IAAI,IAAIlI,GAAZ,EAAiB;MAChB;MACA,IAAI,CAAC3L,KAAK,CAAC4S,SAAP,IAAoB,CAAC5S,KAAK,CAACgO,OAAN,CAAcT,MAAvC,EAA+C;QAC9CvN,KAAK,CAAC8Q,IAAN;MACA;;MACD,IAAIyB,cAAJ,EAAoB;QACnBvS,KAAK,CAACsT,YAAN,CAAmBf,cAAnB;MACA;;MACDrS,SAAS,CAAC4T,SAAV,GAAuBD,IAAI,GAAGD,aAAP,GAAuBjI,GAAxB,GAA+BkI,IAA/B,GAAsClI,GAA5D;IACA;EACD;;EAED,IAAIoI,eAAe,GAAG;IACrBzU,EAAE,EAAE,WADiB;IAGrB0U,UAAU,EAAE,oBAAShU,KAAT,EAAgB;MAC3B,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAN,GAAkBF,KAAK,CAACE,SAAN,IAAmB,EAArD;MACA,IAAI6G,MAAM,GAAG7G,SAAS,CAAC6G,MAAV,GAAmB/G,KAAK,CAAC+G,MAAtC;;MACA,IAAIkN,kBAAkB,GAAG/T,SAAS,CAAC+T,kBAAV,GAA+B,UAASC,KAAT,EAAgB;QACvE,IAAI7D,GAAG,GAAGvR,OAAO,CAACqV,mBAAR,CAA4BD,KAA5B,EAAmClU,KAAnC,CAAV;QACAE,SAAS,CAACqS,cAAV,GAA2B;UAC1BpL,IAAI,EAAE,WADoB;UAE1BnH,KAAK,EAAEA,KAFmB;UAG1BoU,MAAM,EAAEF,KAHkB;UAI1BxO,CAAC,EAAE2K,GAAG,CAAC3K,CAJmB;UAK1BC,CAAC,EAAE0K,GAAG,CAAC1K;QALmB,CAA3B;MAOA,CATD;;MAWAoB,MAAM,CAACsN,gBAAP,CAAwB,WAAxB,EAAqCJ,kBAArC;MACAlN,MAAM,CAACsN,gBAAP,CAAwB,SAAxB,EAAmCJ,kBAAnC;IACA,CAnBoB;IAqBrBK,SAAS,EAAE,mBAAStU,KAAT,EAAgB;MAC1BA,KAAK,CAACqG,MAAN,GAAeA,MAAf;MACArG,KAAK,CAACgO,OAAN,CAAc3H,MAAd,GAAuBkN,aAAvB;IACA,CAxBoB;IA0BrBgB,YAAY,EAAE,sBAASvU,KAAT,EAAgB;MAC7B,IAAIwU,SAAS,GAAGxU,KAAK,CAACH,OAAtB;MACA,IAAI4U,UAAU,GAAGD,SAAS,CAACjT,MAA3B;;MAEA,IAAIkT,UAAJ,EAAgB;QACf3V,OAAO,CAACyH,IAAR,CAAakO,UAAU,CAACC,KAAX,CAAiBC,MAAjB,CAAwBF,UAAU,CAACG,KAAnC,CAAb,EAAwD,UAASC,SAAT,EAAoB;UAC3E,IAAIA,SAAS,CAAC1N,IAAV,KAAmB,UAAnB,IAAiC0N,SAAS,CAAC1N,IAAV,KAAmB,MAAxD,EAAgE;YAC/D;YACAqN,SAAS,CAAC1Q,QAAV,CAAmBV,IAAnB,CAAwB0R,eAAxB,GAA0C,KAA1C;UACA;QACD,CALD;MAMA;;MAED,IAAI9U,KAAK,CAAC6D,UAAV,EAAsB;QACrBJ,gBAAgB,CAACC,WAAjB,CAA6B1D,KAA7B;MACA,CAFD,MAEO;QACNyD,gBAAgB,CAACS,WAAjB,CAA6BlE,KAA7B;MACA;;MAED,IAAIA,KAAK,CAACoG,SAAV,EAAqB;QACpBO,UAAU,CAACjD,WAAX,CAAuB1D,KAAvB;MACA,CAFD,MAEO;QACN2G,UAAU,CAACzC,WAAX,CAAuBlE,KAAvB;MACA;;MAED,OAAO,IAAP;IACA,CApDoB;IAsDrB+U,WAAW,EAAE,qBAAS/U,KAAT,EAAgB;MAC5B,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;MACA,IAAIsL,KAAK,GAAG,IAAZ;MAEA2G,cAAc,CAACnS,KAAD,CAAd,CAJ4B,CAM5B;;MACAlB,OAAO,CAACyH,IAAR,CAAavG,KAAK,CAACuB,MAAnB,EAA2B,UAAS7B,KAAT,EAAgB;QAC1C,IAAIA,KAAK,YAAYoP,aAArB,EAAoC;UACnCtD,KAAK,IAAIhM,eAAe,CAACC,aAAhB,CAA8BC,KAA9B,EAAqC,OAArC,CAAT;QACA;MACD,CAJD;;MAKA,IAAI8L,KAAJ,EAAW;QACVhM,eAAe,CAACmB,qBAAhB,CAAsCT,SAAtC;MACA,CAFD,MAEO;QACNV,eAAe,CAACY,sBAAhB,CAAuCF,SAAvC,EAAkD,YAAW;UAC5DyT,SAAS,CAAC3T,KAAD,CAAT;QACA,CAFD;MAGA;IACD,CAzEoB;IA2ErBgV,iBAAiB,EAAE,2BAAShV,KAAT,EAAgBiV,IAAhB,EAAsB;MACxC,IAAIpJ,IAAI,GAAGoJ,IAAI,CAACpJ,IAAhB;MACA,IAAIrK,SAAS,GAAGxB,KAAK,CAACwB,SAAtB;MACA,IAAIwP,QAAQ,GAAG;QACd9O,IAAI,EAAE,CADQ;QAEdK,GAAG,EAAE,CAFS;QAGdH,KAAK,EAAEpC,KAAK,CAAC8N,KAHC;QAIdrL,MAAM,EAAEzC,KAAK,CAAC+N;MAJA,CAAf;;MAMA,IAAIlC,IAAI,CAACS,OAAL,IAAgBT,IAAI,CAACuH,UAAL,CAAgB8B,aAAhB,CAA8BrJ,IAAI,CAACS,OAAnC,aAAuDwC,aAA3E,EAA0F;QACzFkC,QAAQ,CAAC9O,IAAT,GAAgBV,SAAS,CAACU,IAA1B;QACA8O,QAAQ,CAAC5O,KAAT,GAAiBZ,SAAS,CAACY,KAA3B;MACA;;MACD,IAAIyJ,IAAI,CAACU,OAAL,IAAgBV,IAAI,CAACuH,UAAL,CAAgB8B,aAAhB,CAA8BrJ,IAAI,CAACU,OAAnC,aAAuDuC,aAA3E,EAA0F;QACzFkC,QAAQ,CAACzO,GAAT,GAAef,SAAS,CAACe,GAAzB;QACAyO,QAAQ,CAACvO,MAAT,GAAkBjB,SAAS,CAACiB,MAA5B;MACA;;MACD+O,aAAa,CAACR,QAAd,CAAuBhR,KAAK,CAAC+Q,GAA7B,EAAkCC,QAAlC;MACA,OAAO,IAAP;IACA,CA9FoB;IAgGrBmE,gBAAgB,EAAE,0BAASnV,KAAT,EAAgB;MACjCwR,aAAa,CAACL,UAAd,CAAyBnR,KAAK,CAAC+Q,GAA/B;IACA,CAlGoB;IAoGrBqE,WAAW,EAAE,qBAASpV,KAAT,EAAgBkU,KAAhB,EAAuB;MACnC,IAAIhU,SAAS,GAAGF,KAAK,CAACE,SAAtB;;MAEA,IAAIgU,KAAK,CAAC/M,IAAN,KAAe,WAAnB,EAAgC;QAC/B;QACAjH,SAAS,CAACqS,cAAV,GAA2B2B,KAA3B;MACA,CAHD,MAGO,IAAIA,KAAK,CAAC/M,IAAN,KAAe,UAAnB,EAA+B;QACrC;QACA,OAAOjH,SAAS,CAACqS,cAAjB;MACA;;MACD,OAAO,IAAP;IACA,CA/GoB;IAiHrBnB,OAAO,EAAE,iBAASpR,KAAT,EAAgB;MACxB,IAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;MACA,IAAI6G,MAAM,GAAG7G,SAAS,CAAC6G,MAAvB;MACA,IAAIkN,kBAAkB,GAAG/T,SAAS,CAAC+T,kBAAnC;MAEAzU,eAAe,CAACmB,qBAAhB,CAAsCT,SAAtC;MAEA,OAAOF,KAAK,CAACqG,MAAb;MACA,OAAOrG,KAAK,CAACgO,OAAN,CAAc3H,MAArB;MAEAU,MAAM,CAACsO,mBAAP,CAA2B,WAA3B,EAAwCpB,kBAAxC;MACAlN,MAAM,CAACsO,mBAAP,CAA2B,SAA3B,EAAsCpB,kBAAtC;MAEAnV,OAAO,CAACyH,IAAR,CAAavG,KAAK,CAACuB,MAAnB,EAA2B,UAAS7B,KAAT,EAAgB;QAC1C,IAAIA,KAAK,YAAYoP,aAArB,EAAoC;UACnCpP,KAAK,CAAC0R,OAAN;QACA;MACD,CAJD;IAKA;EAnIoB,CAAtB;EAsIAzS,cAAc,CAAC,SAAD,CAAd,CAA0BG,OAA1B,CAAkCoB,SAAlC,GAA8CV,eAA9C;EAEAb,cAAc,CAAC,SAAD,CAAd,CAA0BsB,OAA1B,CAAkCqV,QAAlC,CAA2CvB,eAA3C;EAEA,OAAOA,eAAP;AAEC,CA3xCA,CAAD"},"metadata":{},"sourceType":"script"}