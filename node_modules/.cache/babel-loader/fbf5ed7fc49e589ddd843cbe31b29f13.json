{"ast":null,"code":"import React,{useEffect}from\"react\";import{Line}from\"react-chartjs-2\";import\"chartjs-plugin-streaming\";import moment from\"moment\";import'../styles/infofield.css';import{useSelector,useDispatch}from\"react-redux\";import ReactSlider from\"react-slider\";import'../styles/slider.css';//declare varibale for initial number of elements in our ecosystem  \nvar iniitialRabbits,initialPlants,initialFoxes;var Chart=require(\"react-chartjs-2\").Chart;var chartColors={red:\"rgb(255, 99, 132)\",orange:\"rgb(255, 159, 64)\",yellow:\"rgb(255, 205, 86)\",green:\"rgb(75, 192, 192)\",blue:\"rgb(54, 162, 235)\",purple:\"rgb(153, 102, 255)\",grey:\"rgb(201, 203, 207)\"};var color=Chart.helpers.color;var data={datasets:[{label:\"Rabbits Population\",backgroundColor:color(chartColors.blue).alpha(0.5).rgbString(),borderColor:chartColors.blue,fill:true,lineTension:0,borderDash:[4,2],data:[]}]};function InfoField(props){//get global state values for the elements\nvar rabbits=useSelector(function(state){return state.rabbits;});var foxes=useSelector(function(state){return state.foxes;});var plants=useSelector(function(state){return state.plants;});//Set initial values \nuseEffect(function(){iniitialRabbits=rabbits.length;initialFoxes=foxes.length;initialPlants=plants.length;console.log(foxes);},[]);var rabbitMales=0;var rabbitFemales=0;var foxesMales=0;var foxesFemales=0;//calculate the females and males for rabbits\nfor(var i=0;i<rabbits.length;i++){if(rabbits[i].gender==0){rabbitFemales++;}}rabbitMales=rabbits.length-rabbitFemales;//calculate the females and males for foxes\nfor(var _i=0;_i<foxes.length;_i++){if(foxes[_i].gender==0){foxesFemales++;}}foxesMales=foxes.length-foxesFemales;var options={elements:{line:{tension:0.5}},scales:{xAxes:[{type:\"realtime\",distribution:\"linear\",realtime:{onRefresh:function onRefresh(chart){chart.data.datasets[0].data.push({x:moment(),y:rabbits.length});},delay:props.speed+1000,time:{displayFormat:\"h:mm\"}},ticks:{displayFormats:1,maxRotation:0,minRotation:0,stepSize:1,maxTicksLimit:30,minUnit:\"second\",source:\"auto\",autoSkip:true,callback:function callback(value){return moment(value,\"HH:mm:ss\").format(\"mm:ss\");}}}],yAxes:[{ticks:{beginAtZero:true,max:100}}]}};function onSliderChange(value){props.parseSpeed(value);}return/*#__PURE__*/React.createElement(\"div\",{className:\"infofield\"},/*#__PURE__*/React.createElement(\"div\",{className:\"barchart\"},/*#__PURE__*/React.createElement(Line,{data:data,options:options})),/*#__PURE__*/React.createElement(\"div\",{className:\"slidecontainer\"},/*#__PURE__*/React.createElement(ReactSlider,{className:\"horizontal-slider\",thumbClassName:\"example-thumb\",trackClassName:\"example-track\",onChange:onSliderChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},/*#__PURE__*/React.createElement(\"p\",{className:\"head\"},\"Population Statistics\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"grid\"},/*#__PURE__*/React.createElement(\"p\",null),\"              \",/*#__PURE__*/React.createElement(\"p\",{className:\"bold centre rab\"},\" Rabbits\"),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"bold centre fx\"},\"Foxes\"),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"bold centre plnt\"},\"Plants\"),/*#__PURE__*/React.createElement(\"p\",null,\"Starting Pop\"),\"  \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},iniitialRabbits),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},initialFoxes),/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},initialPlants),/*#__PURE__*/React.createElement(\"p\",null,\"Current Pop\"),\"   \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},rabbits.length),\"  \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},foxes.length),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},plants.length),/*#__PURE__*/React.createElement(\"p\",null,\"Males\"),\"         \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},rabbitMales),\"     \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},foxesMales),\"   \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},\"null\"),/*#__PURE__*/React.createElement(\"p\",null,\"Females\"),\"       \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},rabbitFemales),\"   \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},foxesFemales),\" \",/*#__PURE__*/React.createElement(\"p\",{className:\"centre\"},\"null\"))));}export default InfoField;","map":{"version":3,"names":["React","useEffect","Line","moment","useSelector","useDispatch","ReactSlider","iniitialRabbits","initialPlants","initialFoxes","Chart","require","chartColors","red","orange","yellow","green","blue","purple","grey","color","helpers","data","datasets","label","backgroundColor","alpha","rgbString","borderColor","fill","lineTension","borderDash","InfoField","props","rabbits","state","foxes","plants","length","console","log","rabbitMales","rabbitFemales","foxesMales","foxesFemales","i","gender","options","elements","line","tension","scales","xAxes","type","distribution","realtime","onRefresh","chart","push","x","y","delay","speed","time","displayFormat","ticks","displayFormats","maxRotation","minRotation","stepSize","maxTicksLimit","minUnit","source","autoSkip","callback","value","format","yAxes","beginAtZero","max","onSliderChange","parseSpeed"],"sources":["C:/Users/PRO/Documents/React/ecosystem-simulator/src/components/InfoField.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport \"chartjs-plugin-streaming\";\r\nimport moment from \"moment\";\r\nimport '../styles/infofield.css'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ReactSlider from \"react-slider\";\r\nimport '../styles/slider.css'\r\n\r\n//declare varibale for initial number of elements in our ecosystem  \r\nlet iniitialRabbits, initialPlants, initialFoxes \r\nconst Chart = require(\"react-chartjs-2\").Chart;\r\n\r\nconst chartColors = {\r\n  red: \"rgb(255, 99, 132)\",\r\n  orange: \"rgb(255, 159, 64)\",\r\n  yellow: \"rgb(255, 205, 86)\",\r\n  green: \"rgb(75, 192, 192)\",\r\n  blue: \"rgb(54, 162, 235)\",\r\n  purple: \"rgb(153, 102, 255)\",\r\n  grey: \"rgb(201, 203, 207)\"\r\n};\r\n\r\nconst color = Chart.helpers.color;\r\nconst data = {\r\n  datasets: [\r\n    {\r\n      label: \"Rabbits Population\",\r\n      backgroundColor: color(chartColors.blue)\r\n        .alpha(0.5)\r\n        .rgbString(),\r\n      borderColor: chartColors.blue,\r\n      fill: true,\r\n      lineTension: 0,\r\n      borderDash: [4, 2],\r\n      data: []\r\n    }\r\n  ]\r\n};\r\n\r\n\r\nfunction InfoField(props) {\r\n\r\n  //get global state values for the elements\r\n  const rabbits = useSelector(state=>state.rabbits)\r\n  const foxes = useSelector(state=>state.foxes)\r\n  const plants = useSelector(state=>state.plants)\r\n\r\n  //Set initial values \r\n  useEffect(()=>{\r\n    iniitialRabbits = rabbits.length\r\n    initialFoxes = foxes.length\r\n    initialPlants = plants.length\r\n    console.log(foxes)\r\n  },[])\r\n\r\n  let rabbitMales= 0\r\n  let rabbitFemales = 0 \r\n  let foxesMales= 0 \r\n  let  foxesFemales = 0\r\n\r\n  \r\n  //calculate the females and males for rabbits\r\n  for(let i=0; i<rabbits.length; i++){\r\n    if(rabbits[i].gender==0){\r\n        rabbitFemales++\r\n    }\r\n  }\r\n  rabbitMales = rabbits.length - rabbitFemales\r\n\r\n  //calculate the females and males for foxes\r\n  for(let i=0; i<foxes.length; i++){\r\n    if(foxes[i].gender==0){\r\n        foxesFemales++\r\n    }\r\n  }\r\n  foxesMales = foxes.length - foxesFemales\r\n\r\n  const options = {\r\n    elements: {\r\n      line: {\r\n        tension: 0.5\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n          type: \"realtime\",\r\n          distribution: \"linear\",\r\n          realtime: {\r\n            onRefresh: function(chart) {\r\n              chart.data.datasets[0].data.push({\r\n                x: moment(),\r\n                y: rabbits.length\r\n              });\r\n            },\r\n            delay: props.speed+1000,\r\n            time: {\r\n              displayFormat: \"h:mm\"\r\n            }\r\n          },\r\n          ticks: {\r\n            displayFormats: 1,\r\n            maxRotation: 0,\r\n            minRotation: 0,\r\n            stepSize: 1,\r\n            maxTicksLimit: 30,\r\n            minUnit: \"second\",\r\n            source: \"auto\",\r\n            autoSkip: true,\r\n            callback: function(value) {\r\n              return moment(value, \"HH:mm:ss\").format(\"mm:ss\");\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      yAxes: [\r\n        {\r\n          ticks: {\r\n            beginAtZero: true,\r\n            max: 100\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  };\r\n  \r\n  function onSliderChange(value){\r\n    props.parseSpeed(value)\r\n  }\r\n    \r\n  \r\n  return (\r\n    <div className='infofield'>\r\n        <div className=\"barchart\">\r\n          <Line data={data} options={options}  />\r\n        </div>\r\n\r\n        <div className=\"slidecontainer\">\r\n          <ReactSlider\r\n            className=\"horizontal-slider\"\r\n            thumbClassName=\"example-thumb\"\r\n            trackClassName=\"example-track\"\r\n            onChange={onSliderChange}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"info\">\r\n          <p className=\"head\">Population Statistics</p>\r\n          <hr />\r\n          <div className=\"grid\">\r\n              <p></p>              <p className=\"bold centre rab\"> Rabbits</p> <p className=\"bold centre fx\">Foxes</p> <p className=\"bold centre plnt\">Plants</p>\r\n              <p>Starting Pop</p>  <p className=\"centre\">{iniitialRabbits}</p> <p className=\"centre\">{initialFoxes}</p><p className=\"centre\">{initialPlants}</p>   \r\n              <p>Current Pop</p>   <p className=\"centre\">{rabbits.length}</p>  <p className=\"centre\">{foxes.length}</p> <p className=\"centre\">{plants.length}</p> \r\n              <p>Males</p>         <p className=\"centre\">{rabbitMales}</p>     <p className=\"centre\">{foxesMales}</p>   <p className=\"centre\">null</p>       \r\n              <p>Females</p>       <p className=\"centre\">{rabbitFemales}</p>   <p className=\"centre\">{foxesFemales}</p> <p className=\"centre\">null</p>\r\n          </div>  \r\n\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoField;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}