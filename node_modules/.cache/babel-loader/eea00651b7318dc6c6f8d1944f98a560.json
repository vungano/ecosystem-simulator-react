{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\PRO\\\\Documents\\\\React\\\\react-chartjs-realtime-line-graph\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\PRO\\\\Documents\\\\React\\\\react-chartjs-realtime-line-graph\\\\src\\\\components\\\\entities\\\\Rabbit.jsx\";\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport useInterval from '../../hooks/useInterval';\nimport '../../styles/rabbit-entity.css';\nimport { setRabbits, addPlants } from '../../redux/action';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction Rabbit(props) {\n  var _this = this;\n\n  //State in redux\n  var rabbitObject = useSelector(function (state) {\n    return state.rabbits;\n  });\n  var foxObject = useSelector(function (state) {\n    return state.foxes;\n  });\n  var plantsObject = useSelector(function (state) {\n    return state.plants;\n  });\n  var speed = useSelector(function (state) {\n    return state.speed;\n  });\n  var dispatch = useDispatch(); //Function to move the rabbits\n\n  function moveRabbit() {\n    //Move in any random direction\n    var tempState = _toConsumableArray(rabbitObject);\n\n    for (var i = 0; i < tempState.length; i++) {\n      var rand = Math.floor(Math.random() * 4);\n      var y = tempState[i];\n\n      switch (rand) {\n        case 0:\n          y.top + 4 < 98 ? y.top += 2 : y.top -= 2;\n          break;\n\n        case 1:\n          y.top - 4 > 0 ? y.top -= 2 : y.top = y.top += 2;\n          break;\n\n        case 2:\n          y.left + 4 < 98 ? y.left += 2 : y.left -= 2;\n          break;\n\n        case 3:\n          y.left - 4 > 0 ? y.left -= 2 : y.left += 2;\n          break;\n      }\n    } //Reduce energy and increase age and sex drive \n\n\n    for (var _i = 0; _i < tempState.length; _i++) {\n      tempState[_i].energy -= 1;\n      tempState[_i].sexDrive += 1;\n      tempState[_i].age += 1;\n    }\n\n    dispatch(setRabbits(tempState));\n  } //Function to check if there's been a collision between the rabbits\n\n\n  function checkCollisions() {\n    for (var i = 0; i < rabbitObject.length - 1; i++) {\n      for (var j = 1; j < rabbitObject.length; j++) {\n        if (rabbitObject[i].top == rabbitObject[j].top && rabbitObject[i].left == rabbitObject[j].left && i != j) {\n          var temp = _toConsumableArray(rabbitObject); //Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\n\n\n          if (rabbitObject[i].gender != rabbitObject[j].gender && rabbitObject[i].sexDrive > 10 && rabbitObject[j].sexDrive > 10) {\n            var random = Math.random() * 98;\n            var random2 = Math.random() * 98;\n            var randomGender = Math.floor(Math.random() * 2);\n            var height = Math.floor(random / 2) * 2;\n            var width = Math.floor(random2 / 2) * 2; //baby rabbit creation and add it to rabbits state\n\n            var babyRabit = {\n              top: height,\n              left: width,\n              gender: randomGender,\n              energy: 100,\n              age: 0,\n              sexDrive: 0\n            };\n            temp.push(babyRabit); //set both rabbits sex drives back to zero\n\n            temp[i].sexDrive = 0;\n            temp[j].sexDrive = 0; //console.log(\"Baby born\")\n\n            dispatch(setRabbits(temp));\n          } //Check if 2 males have collided if so the weaker one must go\n          else if (rabbitObject[i].gender == rabbitObject[j].gender && rabbitObject[i].gender == 1) {\n            var tempState = _toConsumableArray(rabbitObject);\n\n            if (rabbitObject[i].energy < rabbitObject[j].energy) {\n              //console.log(\"Death by battle\")\n              tempState.splice(i, 1);\n              dispatch(setRabbits(tempState));\n            } else if (rabbitObject[i].energy > rabbitObject[j].energy) {\n              //console.log(\"Death by battle\")\n              tempState.splice(j, 1);\n              dispatch(setRabbits(tempState));\n            }\n          }\n        }\n      }\n    }\n  } //console.log(\"<!------------------!>\")\n  //console.log(rabbitObject[0].top ,\" vs \", rabbitObject[1].top )\n  //console.log(rabbitObject[0].left ,\" vs \", rabbitObject[1].left )\n  //rabbitObject.length>0 ? console.log(rabbitObject[rabbitObject.length-1].energy , \" vs \", rabbitObject[0].energy) : console.log('0')\n  //function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\n\n\n  function checkRadar() {\n    for (var i = 0; i < rabbitObject.length - 1; i++) {\n      for (var j = 1; j < rabbitObject.length; j++) {\n        if (rabbitObject[i].top - rabbitObject[j].top <= 6 && rabbitObject[i].top - rabbitObject[j].top >= -6 && rabbitObject[i].left - rabbitObject[j].left <= 6 && rabbitObject[i].left - rabbitObject[j].left >= -6) {\n          //rabbit i is male and j is female\n          if (rabbitObject[i].gender > rabbitObject[j].gender && rabbitObject[i].sexDrive > 10 && rabbitObject[j].sexDrive > 10) {\n            var tempState = _toConsumableArray(rabbitObject);\n\n            tempState[i].top = tempState[j].top;\n            tempState[i].left = tempState[j].left;\n            dispatch(setRabbits(tempState));\n          } //rabbit i is female and j is male\n          else if (rabbitObject[i].gender < rabbitObject[j].gender && rabbitObject[i].sexDrive > 10 && rabbitObject[j].sexDrive > 10) {\n            var _tempState = _toConsumableArray(rabbitObject);\n\n            _tempState[j].top = _tempState[i].top;\n            _tempState[j].left = _tempState[i].left;\n            dispatch(setRabbits(_tempState));\n          }\n        }\n      }\n    }\n  } //remove rabbits\n\n\n  function checkDeleteRabbits() {\n    for (var i = 0; i < rabbitObject.length; i++) {\n      if (rabbitObject[i].energy <= 0) {\n        //console.log(\"Death by expiry\")\n        var tempState = _toConsumableArray(rabbitObject);\n\n        tempState.splice(i, 1);\n        dispatch(setRabbits(tempState));\n      }\n    }\n  } //if a rabbit is in a fox's radar then it gets eaten\n\n\n  function checkFoodInRadar() {\n    for (var i = 0; i < rabbitObject.length; i++) {\n      for (var j = 0; j < plantsObject.length; j++) {\n        if (rabbitObject[i].left - plantsObject[j].left <= 8 && rabbitObject[i].left - plantsObject[j].left >= -8 && rabbitObject[i].top - plantsObject[j].top <= 8 && rabbitObject[i].top - plantsObject[j].top >= -8) {\n          var temp = _toConsumableArray(plantsObject);\n\n          var tempRabbits = _toConsumableArray(rabbitObject);\n\n          temp.splice(j, 1);\n          tempRabbits[i].energy = 100;\n          dispatch(addPlants(temp));\n          dispatch(setRabbits(tempRabbits));\n        }\n      }\n    }\n  }\n\n  function updateInterval() {\n    checkFoodInRadar();\n    moveRabbit();\n    checkRadar();\n    checkCollisions();\n    checkDeleteRabbits();\n  }\n\n  useInterval(updateInterval, props.speed); //---->Mapping all rabbits available in state\n\n  var rabbitItem = rabbitObject.map(function (item, id) {\n    var rabbitStyle = {\n      top: \"\".concat(item.top, \"%\"),\n      left: \"\".concat(item.left, \"%\")\n    };\n    var radarStyle = {\n      top: \"\".concat(item.top - 4, \"%\"),\n      left: \"\".concat(item.left - 4, \"%\")\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rabit-radar\",\n      style: radarStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rabbit\",\n      style: rabbitStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rabbit-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, rabbitItem);\n}\n\nexport default Rabbit;","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","styled","keyframes","useInterval","setRabbits","addPlants","useSelector","useDispatch","Rabbit","props","rabbitObject","state","rabbits","foxObject","foxes","plantsObject","plants","speed","dispatch","moveRabbit","tempState","i","length","rand","Math","floor","random","y","top","left","energy","sexDrive","age","checkCollisions","j","temp","gender","random2","randomGender","height","width","babyRabit","push","splice","checkRadar","checkDeleteRabbits","checkFoodInRadar","tempRabbits","updateInterval","rabbitItem","map","item","id","rabbitStyle","radarStyle"],"sources":["C:/Users/PRO/Documents/React/react-chartjs-realtime-line-graph/src/components/entities/Rabbit.jsx"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport '../../styles/rabbit-entity.css'\r\nimport { setRabbits, addPlants } from '../../redux/action'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction Rabbit(props) {\r\n  //State in redux\r\n  const rabbitObject = useSelector(state=> state.rabbits)\r\n  const foxObject = useSelector(state=> state.foxes)\r\n  const plantsObject = useSelector(state=> state.plants)\r\n  const speed = useSelector(state=> state.speed)\r\n  const dispatch = useDispatch()\r\n  \r\n  //Function to move the rabbits\r\n  function moveRabbit(){\r\n    //Move in any random direction\r\n      let tempState = [...rabbitObject]\r\n      for(let i=0; i<tempState.length; i++){\r\n          const rand = Math.floor(Math.random() * 4); \r\n          let y = tempState[i]\r\n          \r\n          switch(rand){\r\n                case 0:\r\n                  (y.top+4<98) ? y.top+=2 : y.top-=2\r\n                  break;\r\n                case 1:\r\n                  (y.top-4>0)?y.top-=2 : y.top = y.top+=2\r\n                  break;\r\n                case 2:\r\n                  (y.left+4<98)? y.left+=2 : y.left-=2\r\n                  break;\r\n                case 3:\r\n                  (y.left-4>0)? y.left-=2 : y.left+=2 \r\n                  break;       \r\n              }           \r\n            }    \r\n\r\n    //Reduce energy and increase age and sex drive \r\n      for(let i =0 ; i<tempState.length; i++){\r\n          tempState[i].energy-=1;\r\n          tempState[i].sexDrive+=1\r\n          tempState[i].age+=1\r\n        }    \r\n        dispatch(setRabbits(tempState)) \r\n    }\r\n   \r\n  //Function to check if there's been a collision between the rabbits\r\n  function checkCollisions(){\r\n    for(let i=0; i<rabbitObject.length-1;i++){\r\n      for(let j=1; j<rabbitObject.length;j++){\r\n          if(rabbitObject[i].top == rabbitObject[j].top && rabbitObject[i].left == rabbitObject[j].left &&i!=j){\r\n              let temp = [...rabbitObject]\r\n       \r\n              //Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\r\n              if(rabbitObject[i].gender != rabbitObject[j].gender && (rabbitObject[i].sexDrive>10 && rabbitObject[j].sexDrive>10)){\r\n                const random = Math.random()*98\r\n                const random2 = Math.random()*98\r\n                let randomGender = Math.floor(Math.random() * 2);\r\n                let height = (Math.floor(random/2)*2)\r\n                let width = (Math.floor(random2/2)*2)\r\n                \r\n                //baby rabbit creation and add it to rabbits state\r\n                let babyRabit={\r\n                  top:height,\r\n                  left: width,\r\n                  gender: randomGender,\r\n                  energy: 100,\r\n                  age:0,\r\n                  sexDrive:0\r\n                }\r\n                temp.push(babyRabit) \r\n                //set both rabbits sex drives back to zero\r\n                temp[i].sexDrive = 0\r\n                temp[j].sexDrive = 0\r\n                //console.log(\"Baby born\")\r\n                dispatch(setRabbits(temp))\r\n                \r\n\r\n              }\r\n              \r\n              //Check if 2 males have collided if so the weaker one must go\r\n              else if((rabbitObject[i].gender == rabbitObject[j].gender) && (rabbitObject[i].gender == 1)){\r\n                  let tempState = [...rabbitObject]\r\n                  if(rabbitObject[i].energy<rabbitObject[j].energy){\r\n                      //console.log(\"Death by battle\")\r\n                      tempState.splice(i,1)\r\n                      dispatch(setRabbits(tempState))\r\n                      \r\n                  }\r\n                  \r\n                  else if(rabbitObject[i].energy>rabbitObject[j].energy){\r\n                    //console.log(\"Death by battle\")\r\n                    tempState.splice(j,1)\r\n                    dispatch(setRabbits(tempState))\r\n                   \r\n                  }\r\n                }              \r\n          }\r\n      }\r\n    }    \r\n  }  \r\n\r\n  //console.log(\"<!------------------!>\")\r\n  //console.log(rabbitObject[0].top ,\" vs \", rabbitObject[1].top )\r\n  //console.log(rabbitObject[0].left ,\" vs \", rabbitObject[1].left )\r\n  //rabbitObject.length>0 ? console.log(rabbitObject[rabbitObject.length-1].energy , \" vs \", rabbitObject[0].energy) : console.log('0')\r\n \r\n  //function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\r\n  function checkRadar(){\r\n    for(let i=0; i<rabbitObject.length-1;i++){\r\n       for(let j=1; j<rabbitObject.length;j++){\r\n          if(((rabbitObject[i].top -rabbitObject[j].top)<=6 && (rabbitObject[i].top -rabbitObject[j].top)>=-6) && ((rabbitObject[i].left-rabbitObject[j].left)<=6 && (rabbitObject[i].left-rabbitObject[j].left)>=-6)){\r\n              //rabbit i is male and j is female\r\n              if((rabbitObject[i].gender>rabbitObject[j].gender) && (rabbitObject[i].sexDrive>10 && rabbitObject[j].sexDrive>10)){\r\n                let tempState = [...rabbitObject]\r\n                tempState[i].top = tempState[j].top\r\n                tempState[i].left = tempState[j].left                \r\n                dispatch(setRabbits(tempState))\r\n              }\r\n\r\n              //rabbit i is female and j is male\r\n              else if((rabbitObject[i].gender<rabbitObject[j].gender) && (rabbitObject[i].sexDrive>10 && rabbitObject[j].sexDrive>10)){\r\n                let tempState = [...rabbitObject]\r\n                tempState[j].top = tempState[i].top\r\n                tempState[j].left = tempState[i].left                \r\n                dispatch(setRabbits(tempState))\r\n              }\r\n            }\r\n        }\r\n      }\r\n  }\r\n\r\n  //remove rabbits\r\n  function checkDeleteRabbits(){\r\n    for(let i=0; i<rabbitObject.length;i++){\r\n      if(rabbitObject[i].energy<=0){\r\n        //console.log(\"Death by expiry\")\r\n        let tempState = [...rabbitObject]\r\n        tempState.splice(i,1)\r\n        dispatch(setRabbits(tempState))\r\n       \r\n      }\r\n    }\r\n  }\r\n\r\n  //if a rabbit is in a fox's radar then it gets eaten\r\n  function checkFoodInRadar(){\r\n    for(let i=0; i<rabbitObject.length; i++){\r\n      for(let j=0; j<plantsObject.length; j++){\r\n        if((rabbitObject[i].left - plantsObject[j].left)<=8 && (rabbitObject[i].left - plantsObject[j].left)>=-8 && (rabbitObject[i].top - plantsObject[j].top)<=8 && (rabbitObject[i].top - plantsObject[j].top)>=-8){\r\n          let temp = [...plantsObject]\r\n          let tempRabbits = [...rabbitObject]\r\n          temp.splice(j,1)\r\n          tempRabbits[i].energy = 100\r\n          dispatch(addPlants(temp))\r\n          dispatch(setRabbits(tempRabbits))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n  function updateInterval(){\r\n    checkFoodInRadar()\r\n    moveRabbit()\r\n    checkRadar()\r\n    checkCollisions()\r\n    checkDeleteRabbits()\r\n  }\r\n\r\n  useInterval(updateInterval,props.speed)\r\n\r\n  //---->Mapping all rabbits available in state\r\n   const rabbitItem = rabbitObject.map((item,id)=>{\r\n    const rabbitStyle = {\r\n        top: `${item.top}%`,\r\n        left: `${item.left}%`,\r\n        \r\n        \r\n    }\r\n    const radarStyle = {\r\n        top: `${item.top-4}%`,\r\n        left: `${item.left-4}%`     \r\n        \r\n    }\r\n    return(\r\n        <div key={id}>\r\n            <div className='rabit-radar' style={radarStyle}></div>\r\n            <div className=\"rabbit\" style={rabbitStyle}></div>\r\n        </div>\r\n    )\r\n   })\r\n \r\n\r\n  return (\r\n    <div className='rabbit-container'>\r\n        {rabbitItem}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Rabbit"],"mappings":"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"},"metadata":{},"sourceType":"module"}