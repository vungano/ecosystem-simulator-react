{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\PRO\\\\Documents\\\\React\\\\ecosystem-simulator\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React from'react';import useInterval from'../../hooks/useInterval';import'../../styles/fox-entity.css';import{setFoxes,setRabbits}from'../../redux/action';import{useSelector,useDispatch}from'react-redux';function Foxes(props){//State in redux\nvar foxObject=useSelector(function(state){return state.foxes;});var rabbitObjects=useSelector(function(state){return state.rabbits;});var dispatch=useDispatch();//Function to move the rabbits\nfunction moveFoxes(){//Move in any random direction\nvar tempState=_toConsumableArray(foxObject);for(var i=0;i<tempState.length;i++){var rand=Math.floor(Math.random()*4);var y=tempState[i];switch(rand){case 0:y.top+4<98?y.top+=2:y.top-=2;break;case 1:y.top-4>0?y.top-=2:y.top=y.top+=2;break;case 2:y.left+4<98?y.left+=2:y.left-=2;break;case 3:y.left-4>0?y.left-=2:y.left+=2;break;default:y.top=y.top;}}//Reduce energy and increase age and sex drive \nfor(var _i=0;_i<tempState.length;_i++){tempState[_i].energy-=1;tempState[_i].sexDrive+=1;tempState[_i].age+=1;}dispatch(setFoxes(tempState));}//Function to check if there's been a collision between the rabbits\nfunction checkCollisions(){for(var i=0;i<foxObject.length-1;i++){for(var j=1;j<foxObject.length;j++){if(foxObject[i].top==foxObject[j].top&&foxObject[i].left==foxObject[j].left&&i!=j){var temp=_toConsumableArray(foxObject);//Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\nif(foxObject[i].gender!=foxObject[j].gender&&foxObject[i].sexDrive>15&&foxObject[j].sexDrive>15){var random=Math.random()*98;var random2=Math.random()*98;var randomGender=Math.floor(Math.random()*2);var height=Math.floor(random/2)*2;var width=Math.floor(random2/2)*2;//baby fox creation and add it to rabbits state\nvar babyFox={top:height,left:width,gender:randomGender,energy:100,age:0,sexDrive:0};temp.push(babyFox);//set both foxes sex drives back to zero\ntemp[i].sexDrive=0;temp[j].sexDrive=0;//console.log(\"Baby born\")\ndispatch(setFoxes(temp));}//Check if 2 males have collided if so the weaker one must go\nelse if(foxObject[i].gender==foxObject[j].gender&&foxObject[i].gender==1){var tempState=_toConsumableArray(foxObject);if(foxObject[i].energy<foxObject[j].energy){//console.log(\"Death by battle\")\ntempState.splice(i,1);dispatch(setFoxes(tempState));}else if(foxObject[i].energy>foxObject[j].energy){//console.log(\"Death by battle\")\ntempState.splice(j,1);dispatch(setFoxes(tempState));}}}}}}//console.log(\"<!------------------!>\")\n//console.log(foxObject[0].top ,\" vs \", foxObject[1].top )\n//console.log(foxObject[0].left ,\" vs \", foxObject[1].left )\n//foxObject.length>0 ? console.log(foxObject[foxObject.length-1].energy , \" vs \", foxObject[0].energy) : console.log('0')\n//function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\nfunction checkRadar(){for(var i=0;i<foxObject.length-1;i++){for(var j=1;j<foxObject.length;j++){if(foxObject[i].top-foxObject[j].top<=6&&foxObject[i].top-foxObject[j].top>=-6&&foxObject[i].left-foxObject[j].left<=6&&foxObject[i].left-foxObject[j].left>=-6){//rabbit i is male and j is female\nif(foxObject[i].gender>foxObject[j].gender&&foxObject[i].sexDrive>15&&foxObject[j].sexDrive>15){var tempState=_toConsumableArray(foxObject);tempState[i].top=tempState[j].top;tempState[i].left=tempState[j].left;dispatch(setFoxes(tempState));}//rabbit i is female and j is male\nelse if(foxObject[i].gender<foxObject[j].gender&&foxObject[i].sexDrive>15&&foxObject[j].sexDrive>15){var _tempState=_toConsumableArray(foxObject);_tempState[j].top=_tempState[i].top;_tempState[j].left=_tempState[i].left;dispatch(setFoxes(_tempState));}}}}}//remove rabbits\nfunction checkDeleteFoxes(){for(var i=0;i<foxObject.length;i++){if(foxObject[i].energy<=0){//console.log(\"Death by expiry\")\nvar tempState=_toConsumableArray(foxObject);tempState.splice(i,1);dispatch(setFoxes(tempState));}}}//if a rabbit is in a fox's radar then it gets eaten\nfunction checkFoodInRadar(){for(var i=0;i<foxObject.length;i++){for(var j=0;j<rabbitObjects.length;j++){if(foxObject[i].left-rabbitObjects[j].left<=4&&foxObject[i].left-rabbitObjects[j].left>=-4&&foxObject[i].top-rabbitObjects[j].top<=4&&foxObject[i].top-rabbitObjects[j].top>=-4){var temp=_toConsumableArray(rabbitObjects);var tempFox=_toConsumableArray(foxObject);tempFox[i].energy=100;temp.splice(j,1);dispatch(setRabbits(temp));dispatch(setFoxes(tempFox));}}}}function updateInterval(){moveFoxes();checkRadar();checkCollisions();checkFoodInRadar();checkDeleteFoxes();}useInterval(updateInterval,props.speed);//---->Mapping all rabbits available in state\nvar foxItem=foxObject.map(function(item,id){var foxStyle={top:\"\".concat(item.top,\"%\"),left:\"\".concat(item.left,\"%\")};var radarStyle={top:\"\".concat(item.top-4,\"%\"),left:\"\".concat(item.left-4,\"%\")};return/*#__PURE__*/React.createElement(\"div\",{key:id},/*#__PURE__*/React.createElement(\"div\",{className:\"fox-radar\",style:radarStyle}),/*#__PURE__*/React.createElement(\"div\",{className:\"fox\",style:foxStyle}));});return/*#__PURE__*/React.createElement(\"div\",{className:\"fox-container\"},foxItem);}export default Foxes;","map":{"version":3,"names":["React","useInterval","setFoxes","setRabbits","useSelector","useDispatch","Foxes","props","foxObject","state","foxes","rabbitObjects","rabbits","dispatch","moveFoxes","tempState","i","length","rand","Math","floor","random","y","top","left","energy","sexDrive","age","checkCollisions","j","temp","gender","random2","randomGender","height","width","babyFox","push","splice","checkRadar","checkDeleteFoxes","checkFoodInRadar","tempFox","updateInterval","speed","foxItem","map","item","id","foxStyle","radarStyle"],"sources":["C:/Users/PRO/Documents/React/ecosystem-simulator/src/components/entities/Foxes.jsx"],"sourcesContent":["import React from 'react'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport '../../styles/fox-entity.css'\r\nimport { setFoxes, setRabbits} from '../../redux/action'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction Foxes(props) {\r\n  //State in redux\r\n  const foxObject = useSelector(state=> state.foxes)\r\n  const rabbitObjects = useSelector(state=> state.rabbits)\r\n  const dispatch = useDispatch()\r\n\r\n  //Function to move the rabbits\r\n  function moveFoxes(){\r\n    //Move in any random direction\r\n      let tempState = [...foxObject]\r\n      for(let i=0; i<tempState.length; i++){\r\n          const rand = Math.floor(Math.random() * 4); \r\n          let y = tempState[i]\r\n          \r\n          switch(rand){\r\n                case 0:\r\n                  (y.top+4<98) ? y.top+=2 : y.top-=2\r\n                  break;\r\n                case 1:\r\n                  (y.top-4>0)?y.top-=2 : y.top = y.top+=2\r\n                  break;\r\n                case 2:\r\n                  (y.left+4<98)? y.left+=2 : y.left-=2\r\n                  break;\r\n                case 3:\r\n                  (y.left-4>0)? y.left-=2 : y.left+=2 \r\n                  break;  \r\n                default:\r\n                  y.top = y.top       \r\n              }           \r\n            }    \r\n\r\n    //Reduce energy and increase age and sex drive \r\n      for(let i =0 ; i<tempState.length; i++){\r\n          tempState[i].energy-=1;\r\n          tempState[i].sexDrive+=1\r\n          tempState[i].age+=1\r\n        }    \r\n        dispatch(setFoxes(tempState)) \r\n    }\r\n   \r\n  //Function to check if there's been a collision between the rabbits\r\n  function checkCollisions(){\r\n    for(let i=0; i<foxObject.length-1;i++){\r\n      for(let j=1; j<foxObject.length;j++){\r\n          if(foxObject[i].top == foxObject[j].top && foxObject[i].left == foxObject[j].left &&i!=j){\r\n              let temp = [...foxObject]\r\n       \r\n              //Check if 2 different sexes have met if so produce a kid and check if they have sufficient sex drive\r\n              if(foxObject[i].gender != foxObject[j].gender && (foxObject[i].sexDrive>15 && foxObject[j].sexDrive>15)){\r\n                const random = Math.random()*98\r\n                const random2 = Math.random()*98\r\n                let randomGender = Math.floor(Math.random() * 2);\r\n                let height = (Math.floor(random/2)*2)\r\n                let width = (Math.floor(random2/2)*2)\r\n      \r\n                //baby fox creation and add it to rabbits state\r\n                let babyFox={\r\n                  top:height,\r\n                  left: width,\r\n                  gender: randomGender,\r\n                  energy: 100,\r\n                  age:0,\r\n                  sexDrive:0\r\n                }\r\n                temp.push(babyFox) \r\n                //set both foxes sex drives back to zero\r\n                temp[i].sexDrive = 0\r\n                temp[j].sexDrive = 0\r\n                //console.log(\"Baby born\")\r\n                dispatch(setFoxes(temp))\r\n                \r\n\r\n              }\r\n              \r\n              //Check if 2 males have collided if so the weaker one must go\r\n              else if((foxObject[i].gender == foxObject[j].gender) && (foxObject[i].gender == 1)){\r\n                  let tempState = [...foxObject]\r\n                  if(foxObject[i].energy<foxObject[j].energy){\r\n                      //console.log(\"Death by battle\")\r\n                      tempState.splice(i,1)\r\n                      dispatch(setFoxes(tempState))\r\n                      \r\n                  }\r\n                  \r\n                  else if(foxObject[i].energy>foxObject[j].energy){\r\n                    //console.log(\"Death by battle\")\r\n                    tempState.splice(j,1)\r\n                    dispatch(setFoxes(tempState))\r\n                   \r\n                  }\r\n              }              \r\n          }\r\n      }\r\n    }    \r\n  }  \r\n\r\n  //console.log(\"<!------------------!>\")\r\n  //console.log(foxObject[0].top ,\" vs \", foxObject[1].top )\r\n  //console.log(foxObject[0].left ,\" vs \", foxObject[1].left )\r\n  //foxObject.length>0 ? console.log(foxObject[foxObject.length-1].energy , \" vs \", foxObject[0].energy) : console.log('0')\r\n  \r\n\r\n  //function to check if there are any rabbits nearby for mating and if they have enough sex drive to mate\r\n  function checkRadar(){\r\n    for(let i=0; i<foxObject.length-1;i++){\r\n       for(let j=1; j<foxObject.length;j++){\r\n          if(((foxObject[i].top -foxObject[j].top)<=6 && (foxObject[i].top -foxObject[j].top)>=-6) && ((foxObject[i].left-foxObject[j].left)<=6 && (foxObject[i].left-foxObject[j].left)>=-6)){\r\n              //rabbit i is male and j is female\r\n              if((foxObject[i].gender>foxObject[j].gender) && (foxObject[i].sexDrive>15 && foxObject[j].sexDrive>15)){\r\n                let tempState = [...foxObject]\r\n                tempState[i].top = tempState[j].top\r\n                tempState[i].left = tempState[j].left                \r\n                dispatch(setFoxes(tempState))\r\n              }\r\n\r\n              //rabbit i is female and j is male\r\n              else if((foxObject[i].gender<foxObject[j].gender) && (foxObject[i].sexDrive>15 && foxObject[j].sexDrive>15)){\r\n                let tempState = [...foxObject]\r\n                tempState[j].top = tempState[i].top\r\n                tempState[j].left = tempState[i].left                \r\n                dispatch(setFoxes(tempState))\r\n              }\r\n            }\r\n        }\r\n      }\r\n  }\r\n\r\n  //remove rabbits\r\n  function checkDeleteFoxes(){\r\n    for(let i=0; i<foxObject.length;i++){\r\n      if(foxObject[i].energy<=0){\r\n        //console.log(\"Death by expiry\")\r\n        let tempState = [...foxObject]\r\n        tempState.splice(i,1)\r\n        dispatch(setFoxes(tempState))\r\n       \r\n      }\r\n    }\r\n  }\r\n\r\n  //if a rabbit is in a fox's radar then it gets eaten\r\n  function checkFoodInRadar(){\r\n    for(let i=0; i<foxObject.length; i++){\r\n      for(let j=0; j<rabbitObjects.length; j++){\r\n        if((foxObject[i].left - rabbitObjects[j].left)<=4 && (foxObject[i].left - rabbitObjects[j].left)>=-4 && (foxObject[i].top - rabbitObjects[j].top)<=4 && (foxObject[i].top - rabbitObjects[j].top)>=-4){\r\n          let temp = [...rabbitObjects]\r\n          let tempFox = [...foxObject]\r\n          tempFox[i].energy =100\r\n          temp.splice(j,1)\r\n          dispatch(setRabbits(temp))\r\n          dispatch(setFoxes(tempFox))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function updateInterval(){\r\n    moveFoxes()\r\n    checkRadar()\r\n    checkCollisions()\r\n    checkFoodInRadar()\r\n    checkDeleteFoxes()\r\n  }\r\n\r\n  useInterval(updateInterval,props.speed)\r\n\r\n  //---->Mapping all rabbits available in state\r\n   const foxItem = foxObject.map((item,id)=>{\r\n    const foxStyle = {\r\n        top: `${item.top}%`,\r\n        left: `${item.left}%`,\r\n        \r\n        \r\n    }\r\n    const radarStyle = {\r\n        top: `${item.top-4}%`,\r\n        left: `${item.left-4}%`     \r\n        \r\n    }\r\n    return(\r\n        <div key={id}>\r\n            <div className='fox-radar' style={radarStyle}></div>\r\n            <div className='fox' style={foxStyle}></div>\r\n        </div>\r\n    )\r\n   })\r\n \r\n\r\n  return (\r\n    <div className='fox-container'>\r\n        {foxItem}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Foxes"],"mappings":"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"},"metadata":{},"sourceType":"module"}